if("undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");!function(t){"use strict";function e(e,i){if(this.element=e,this.options=i,this.$overlay=t(i.overlayTemplate),""===i.source)throw new Error("Source url was not defined. Please specify a url in your BoxRefresh source option.");this._setUpListeners(),this.load()}function i(i){return this.each(function(){var a=t(this),r=a.data(n);if(!r){var s=t.extend({},o,a.data(),"object"==typeof i&&i);a.data(n,r=new e(a,s))}if("string"==typeof r){if(void 0===r[i])throw new Error("No method named "+i);r[i]()}})}var n="lte.boxrefresh",o={source:"",params:{},trigger:".refresh-btn",content:".box-body",loadInContent:!0,responseType:"",overlayTemplate:'<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>',onLoadStart:function(){},onLoadDone:function(t){return t}};e.prototype.load=function(){this._addOverlay(),this.options.onLoadStart.call(t(this)),t.get(this.options.source,this.options.params,function(e){this.options.loadInContent&&t(this.element).find(this.options.content).html(e),this.options.onLoadDone.call(t(this),e),this._removeOverlay()}.bind(this),""!==this.options.responseType&&this.options.responseType)},e.prototype._setUpListeners=function(){t(this.element).on("click",this.options.trigger,function(t){t&&t.preventDefault(),this.load()}.bind(this))},e.prototype._addOverlay=function(){t(this.element).append(this.$overlay)},e.prototype._removeOverlay=function(){t(this.$overlay).remove()};var a=t.fn.boxRefresh;t.fn.boxRefresh=i,t.fn.boxRefresh.Constructor=e,t.fn.boxRefresh.noConflict=function(){return t.fn.boxRefresh=a,this},t(window).on("load",function(){t('[data-widget="box-refresh"]').each(function(){i.call(t(this))})})}(jQuery),function(t){"use strict";function e(t,e){this.element=t,this.options=e,this._setUpListeners()}function i(i){return this.each(function(){var a=t(this),r=a.data(n);if(!r){var s=t.extend({},o,a.data(),"object"==typeof i&&i);a.data(n,r=new e(a,s))}if("string"==typeof i){if(void 0===r[i])throw new Error("No method named "+i);r[i]()}})}var n="lte.boxwidget",o={animationSpeed:500,collapseTrigger:'[data-widget="collapse"]',removeTrigger:'[data-widget="remove"]',collapseIcon:"fa-minus",expandIcon:"fa-plus",removeIcon:"fa-times"},a=".box-header",r=".box-body",s=".box-footer",l=".box-tools",d="collapsed-box";e.prototype.toggle=function(){t(this.element).is(".collapsed-box")?this.expand():this.collapse()},e.prototype.expand=function(){var e=t.Event("expanded.boxwidget"),i=t.Event("expanding.boxwidget"),n=this.options.collapseIcon,o=this.options.expandIcon;t(this.element).removeClass(d),t(this.element).children(a+", "+r+", "+s).children(l).find("."+o).removeClass(o).addClass(n),t(this.element).children(r+", "+s).slideDown(this.options.animationSpeed,function(){t(this.element).trigger(e)}.bind(this)).trigger(i)},e.prototype.collapse=function(){var e=t.Event("collapsed.boxwidget"),i=t.Event("collapsing.boxwidget"),n=this.options.collapseIcon,o=this.options.expandIcon;t(this.element).children(a+", "+r+", "+s).children(l).find("."+n).removeClass(n).addClass(o),t(this.element).children(r+", "+s).slideUp(this.options.animationSpeed,function(){t(this.element).addClass(d),t(this.element).trigger(e)}.bind(this)).trigger(i)},e.prototype.remove=function(){var e=t.Event("removed.boxwidget"),i=t.Event("removing.boxwidget");t(this.element).slideUp(this.options.animationSpeed,function(){t(this.element).trigger(e),t(this.element).remove()}.bind(this)).trigger(i)},e.prototype._setUpListeners=function(){var e=this;t(this.element).on("click",this.options.collapseTrigger,function(i){return i&&i.preventDefault(),e.toggle(t(this)),!1}),t(this.element).on("click",this.options.removeTrigger,function(i){return i&&i.preventDefault(),e.remove(t(this)),!1})};var h=t.fn.boxWidget;t.fn.boxWidget=i,t.fn.boxWidget.Constructor=e,t.fn.boxWidget.noConflict=function(){return t.fn.boxWidget=h,this},t(window).on("load",function(){t(".box").each(function(){i.call(t(this))})})}(jQuery),function(t){"use strict";function e(t,e){this.element=t,this.options=e,this.hasBindedResize=!1,this.init()}function i(i){return this.each(function(){var a=t(this),r=a.data(n);if(!r){var s=t.extend({},o,a.data(),"object"==typeof i&&i);a.data(n,r=new e(a,s))}"string"==typeof i&&r.toggle()})}var n="lte.controlsidebar",o={controlsidebarSlide:!0},a=".control-sidebar",r='[data-toggle="control-sidebar"]',s=".control-sidebar-open",l="control-sidebar-open",d="control-sidebar-hold-transition";e.prototype.init=function(){t(this.element).is(r)||t(this).on("click",this.toggle),this.fix(),t(window).resize(function(){this.fix()}.bind(this))},e.prototype.toggle=function(e){e&&e.preventDefault(),this.fix(),t(a).is(s)||t("body").is(s)?this.collapse():this.expand()},e.prototype.expand=function(){t(a).show(),this.options.controlsidebarSlide?t(a).addClass(l):t("body").addClass(d).addClass(l).delay(50).queue(function(){t("body").removeClass(d),t(this).dequeue()}),t(this.element).trigger(t.Event("expanded.controlsidebar"))},e.prototype.collapse=function(){this.options.controlsidebarSlide?t(a).removeClass(l):t("body").addClass(d).removeClass(l).delay(50).queue(function(){t("body").removeClass(d),t(this).dequeue()}),t(a).fadeOut(),t(this.element).trigger(t.Event("collapsed.controlsidebar"))},e.prototype.fix=function(){t("body").is(".layout-boxed")&&this._fixForBoxed(t(".control-sidebar-bg"))},e.prototype._fixForBoxed=function(e){e.css({position:"absolute",height:t(".wrapper").height()})};var h=t.fn.controlSidebar;t.fn.controlSidebar=i,t.fn.controlSidebar.Constructor=e,t.fn.controlSidebar.noConflict=function(){return t.fn.controlSidebar=h,this},t(document).on("click",r,function(e){e&&e.preventDefault(),i.call(t(this),"toggle")})}(jQuery),function(t){"use strict";function e(t){this.element=t}function i(i){return this.each(function(){var o=t(this),a=o.data(n);a||o.data(n,a=new e(o)),"string"==typeof i&&a.toggle(o)})}var n="lte.directchat";e.prototype.toggle=function(t){t.parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")};var o=t.fn.directChat;t.fn.directChat=i,t.fn.directChat.Constructor=e,t.fn.directChat.noConflict=function(){return t.fn.directChat=o,this},t(document).on("click",'[data-widget="chat-pane-toggle"]',function(e){e&&e.preventDefault(),i.call(t(this),"toggle")})}(jQuery),function(t){"use strict";function e(t){this.options=t,this.init()}function i(i){return this.each(function(){var a=t(this),r=a.data(n);if(!r){var s=t.extend({},o,a.data(),"object"==typeof i&&i);a.data(n,r=new e(s))}"toggle"===i&&r.toggle()})}var n="lte.pushmenu",o={collapseScreenSize:767,expandOnHover:!1,expandTransitionDelay:200},a='[data-toggle="push-menu"]',r=".sidebar-mini",s="sidebar-collapse",l="sidebar-open",d="sidebar-expanded-on-hover",h="expanded.pushMenu",u="collapsed.pushMenu";e.prototype.init=function(){(this.options.expandOnHover||t("body").is(r+".fixed"))&&(this.expandOnHover(),t("body").addClass("sidebar-mini-expand-feature")),t(".content-wrapper").click(function(){t(window).width()<=this.options.collapseScreenSize&&t("body").hasClass(l)&&this.close()}.bind(this)),t(".sidebar-form .form-control").click(function(t){t.stopPropagation()})},e.prototype.toggle=function(){var e=t(window).width(),i=!t("body").hasClass(s);e<=this.options.collapseScreenSize&&(i=t("body").hasClass(l)),i?this.close():this.open()},e.prototype.open=function(){t(window).width()>this.options.collapseScreenSize?t("body").removeClass(s).trigger(t.Event(h)):t("body").addClass(l).trigger(t.Event(h))},e.prototype.close=function(){t(window).width()>this.options.collapseScreenSize?t("body").addClass(s).trigger(t.Event(u)):t("body").removeClass(l+" "+s).trigger(t.Event(u))},e.prototype.expandOnHover=function(){t(".main-sidebar").hover(function(){t("body").is(r+".sidebar-collapse")&&t(window).width()>this.options.collapseScreenSize&&this.expand()}.bind(this),function(){t("body").is(".sidebar-expanded-on-hover")&&this.collapse()}.bind(this))},e.prototype.expand=function(){setTimeout(function(){t("body").removeClass(s).addClass(d)},this.options.expandTransitionDelay)},e.prototype.collapse=function(){setTimeout(function(){t("body").removeClass(d).addClass(s)},this.options.expandTransitionDelay)};var c=t.fn.pushMenu;t.fn.pushMenu=i,t.fn.pushMenu.Constructor=e,t.fn.pushMenu.noConflict=function(){return t.fn.pushMenu=c,this},t(document).on("click",a,function(e){e.preventDefault(),i.call(t(this),"toggle")}),t(window).on("load",function(){i.call(t(a))})}(jQuery),function(t){"use strict";function e(t,e){this.element=t,this.options=e,this._setUpListeners()}function i(i){return this.each(function(){var a=t(this),r=a.data(n);if(!r){var s=t.extend({},o,a.data(),"object"==typeof i&&i);a.data(n,r=new e(a,s))}if("string"==typeof r){if(void 0===r[i])throw new Error("No method named "+i);r[i]()}})}var n="lte.todolist",o={onCheck:function(t){return t},onUnCheck:function(t){return t}},a={data:'[data-widget="todo-list"]'};e.prototype.toggle=function(t){t.parents(a.li).first().toggleClass("done"),t.prop("checked")?this.check(t):this.unCheck(t)},e.prototype.check=function(t){this.options.onCheck.call(t)},e.prototype.unCheck=function(t){this.options.onUnCheck.call(t)},e.prototype._setUpListeners=function(){var e=this;t(this.element).on("change ifChanged","input:checkbox",function(){e.toggle(t(this))})};var r=t.fn.todoList;t.fn.todoList=i,t.fn.todoList.Constructor=e,t.fn.todoList.noConflict=function(){return t.fn.todoList=r,this},t(window).on("load",function(){t(a.data).each(function(){i.call(t(this))})})}(jQuery),function(t){"use strict";function e(e,i){this.element=e,this.options=i,t(this.element).addClass(d),t(a+s,this.element).addClass(l),this._setUpListeners()}function i(i){return this.each(function(){var a=t(this);if(!a.data(n)){var r=t.extend({},o,a.data(),"object"==typeof i&&i);a.data(n,new e(a,r))}})}var n="lte.tree",o={animationSpeed:500,accordion:!0,followLink:!1,trigger:".treeview a"},a=".treeview",r=".treeview-menu",s=".active",l="menu-open",d="tree";e.prototype.toggle=function(t,e){var i=t.next(r),n=t.parent(),o=n.hasClass(l);n.is(a)&&(this.options.followLink&&"#"!==t.attr("href")||e.preventDefault(),o?this.collapse(i,n):this.expand(i,n))},e.prototype.expand=function(e,i){var n=t.Event("expanded.tree");if(this.options.accordion){var o=i.siblings(".menu-open, .active"),a=o.children(r);this.collapse(a,o)}i.addClass(l),e.slideDown(this.options.animationSpeed,function(){t(this.element).trigger(n),i.height("auto")}.bind(this))},e.prototype.collapse=function(e,i){var n=t.Event("collapsed.tree");i.removeClass(l),e.slideUp(this.options.animationSpeed,function(){t(this.element).trigger(n),i.find(a).removeClass(l).find(r).hide()}.bind(this))},e.prototype._setUpListeners=function(){var e=this;t(this.element).on("click",this.options.trigger,function(i){e.toggle(t(this),i)})};var h=t.fn.tree;t.fn.tree=i,t.fn.tree.Constructor=e,t.fn.tree.noConflict=function(){return t.fn.tree=h,this},t(window).on("load",function(){t('[data-widget="tree"]').each(function(){i.call(t(this))})})}(jQuery),function(t){"use strict";function e(t){this.options=t,this.bindedResize=!1,this.activate()}function i(i){return this.each(function(){var a=t(this),r=a.data(n);if(!r){var s=t.extend({},o,a.data(),"object"==typeof i&&i);a.data(n,r=new e(s))}if("string"==typeof i){if(void 0===r[i])throw new Error("No method named "+i);r[i]()}})}var n="lte.layout",o={slimscroll:!0,resetHeight:!0},a=".wrapper",r=".content-wrapper",s=".main-header",l=".sidebar",d=".sidebar-menu",h="fixed";e.prototype.activate=function(){this.fix(),this.fixSidebar(),t("body").removeClass("hold-transition"),this.options.resetHeight&&t("body, html, "+a).css({height:"auto","min-height":"100%"}),this.bindedResize||(t(window).resize(function(){this.fix(),this.fixSidebar(),t(".main-header .logo, "+l).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){this.fix(),this.fixSidebar()}.bind(this))}.bind(this)),this.bindedResize=!0),t(d).on("expanded.tree",function(){this.fix(),this.fixSidebar()}.bind(this)),t(d).on("collapsed.tree",function(){this.fix(),this.fixSidebar()}.bind(this))},e.prototype.fix=function(){t(".layout-boxed > "+a).css("overflow","hidden");var e=t(".main-footer").outerHeight()||0,i=t(s).outerHeight()||0,n=i+e,o=t(window).height(),d=t(l).outerHeight()||0;if(t("body").hasClass(h))t(r).css("min-height",o-e);else{var u;u=d+i<=o?(t(r).css("min-height",o-n),o-n):(t(r).css("min-height",d),d);var c=t(".control-sidebar");void 0!==c&&c.height()>u&&t(r).css("min-height",c.height())}},e.prototype.fixSidebar=function(){t("body").hasClass(h)?this.options.slimscroll&&void 0!==t.fn.slimScroll&&0===t(".main-sidebar").find("slimScrollDiv").length&&t(l).slimScroll({height:t(window).height()-t(s).height()+"px"}):void 0!==t.fn.slimScroll&&t(l).slimScroll({destroy:!0}).height("auto")};var u=t.fn.layout;t.fn.layout=i,t.fn.layout.Constuctor=e,t.fn.layout.noConflict=function(){return t.fn.layout=u,this},t(window).on("load",function(){i.call(t("body"))})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Tether=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){var i=t.getBoundingClientRect(),n={};for(var o in i)n[o]=i[o];try{if(t.ownerDocument!==document){var a=t.ownerDocument.defaultView.frameElement;if(a){var r=e(a);n.top+=r.top,n.bottom+=r.top,n.left+=r.left,n.right+=r.left}}}catch(t){}return n}function i(t){var e=getComputedStyle(t)||{},i=e.position,n=[];if("fixed"===i)return[t];for(var o=t;(o=o.parentNode)&&o&&1===o.nodeType;){var a=void 0;try{a=getComputedStyle(o)}catch(t){}if(void 0===a||null===a)return n.push(o),n;var r=a,s=r.overflow,l=r.overflowX;/(auto|scroll|overlay)/.test(s+r.overflowY+l)&&("absolute"!==i||["relative","absolute","fixed"].indexOf(a.position)>=0)&&n.push(o)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}function n(){_&&document.body.removeChild(_),_=null}function o(t){var i=void 0;t===document?(i=document,t=document.documentElement):i=t.ownerDocument;var n=i.documentElement,o=e(t),a=M();return o.top-=a.top,o.left-=a.left,void 0===o.width&&(o.width=document.body.scrollWidth-o.left-o.right),void 0===o.height&&(o.height=document.body.scrollHeight-o.top-o.bottom),o.top=o.top-n.clientTop,o.left=o.left-n.clientLeft,o.right=i.body.clientWidth-o.width-o.left,o.bottom=i.body.clientHeight-o.height-o.top,o}function a(t){return t.offsetParent||document.documentElement}function r(){if(D)return D;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");s(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;i===n&&(n=e.clientWidth),document.body.removeChild(e);var o=i-n;return D={width:o,height:o}}function s(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}),t}function l(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var i=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),n=u(t).replace(i," ");c(t,n)}}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{l(t,e);var i=u(t)+" "+e;c(t,i)}}function h(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=u(t);return new RegExp("(^| )"+e+"( |$)","gi").test(i)}function u(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function c(t,e){t.setAttribute("class",e)}function f(t,e,i){i.forEach(function(i){-1===e.indexOf(i)&&h(t,i)&&l(t,i)}),e.forEach(function(e){h(t,e)||d(t,e)})}function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function g(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+i>=e&&e>=t-i}function m(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}function v(){for(var t={top:0,left:0},e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(e){var i=e.top,n=e.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof n&&(n=parseFloat(n,10)),t.top+=i,t.left+=n}),t}function b(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function y(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,i=o(e),n=i,a=getComputedStyle(e);if(e=[n.left,n.top,i.width+n.left,i.height+n.top],t.ownerDocument!==document){var r=t.ownerDocument.defaultView;e[0]+=r.pageXOffset,e[1]+=r.pageYOffset,e[2]+=r.pageXOffset,e[3]+=r.pageYOffset}$.forEach(function(t,i){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[i]+=parseFloat(a["border"+t+"Width"]):e[i]-=parseFloat(a["border"+t+"Width"])})}(),e}var x=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),w=void 0;void 0===w&&(w={modules:[]});var _=null,k=function(){var t=0;return function(){return++t}}(),C={},M=function(){var t=_;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",k()),s(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),_=t);var i=t.getAttribute("data-tether-id");return void 0===C[i]&&(C[i]=e(t),T(function(){delete C[i]})),C[i]},D=null,S=[],T=function(t){S.push(t)},F=function(){for(var t=void 0;t=S.pop();)t()},A=function(){function e(){t(this,e)}return x(e,[{key:"on",value:function(t,e,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:n})}},{key:"once",value:function(t,e,i){this.on(t,e,i,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var i=0;i<this.bindings[t].length;)this.bindings[t][i].handler===e?this.bindings[t].splice(i,1):++i}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];for(;e<this.bindings[t].length;){var a=this.bindings[t][e],r=a.handler,s=a.ctx,l=a.once,d=s;void 0===d&&(d=this),r.apply(d,n),l?this.bindings[t].splice(e,1):++e}}}}]),e}();w.Utils={getActualBoundingClientRect:e,getScrollParents:i,getBounds:o,getOffsetParent:a,extend:s,addClass:d,removeClass:l,hasClass:h,updateClasses:f,defer:T,flush:F,uniqueId:k,Evented:A,getScrollBarSize:r,removeUtilElements:n};var I=function(){function t(t,e){var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),P=function(t,e,i){for(var n=!0;n;){var o=t,a=e,r=i;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(r)}var d=Object.getPrototypeOf(o);if(null===d)return;t=d,e=a,i=r,n=!0,s=d=void 0}};if(void 0===w)throw new Error("You must include the utils.js file before tether.js");var E=w.Utils,i=E.getScrollParents,o=E.getBounds,a=E.getOffsetParent,s=E.extend,d=E.addClass,l=E.removeClass,f=E.updateClasses,T=E.defer,F=E.flush,r=E.getScrollBarSize,n=E.removeUtilElements,O=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<e.length;++i){var n=e[i];if(void 0!==t.style[n])return n}}(),L=[],R=function(){L.forEach(function(t){t.position(!1)}),F()};!function(){var t=null,e=null,i=null,n=function n(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(i=setTimeout(n,250));void 0!==t&&m()-t<10||(null!=i&&(clearTimeout(i),i=null),t=m(),R(),e=m()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,n)})}();var V={center:"center",left:"right",right:"left"},U={middle:"middle",top:"bottom",bottom:"top"},B={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},z=function(t,e){var i=t.left,n=t.top;return"auto"===i&&(i=V[e.left]),"auto"===n&&(n=U[e.top]),{left:i,top:n}},N=function(t){var e=t.left,i=t.top;return void 0!==B[t.left]&&(e=B[t.left]),void 0!==B[t.top]&&(i=B[t.top]),{left:e,top:i}},W=function(t){var e=t.split(" "),i=I(e,2);return{top:i[0],left:i[1]}},H=W,j=function(e){function h(e){var i=this;t(this,h),P(Object.getPrototypeOf(h.prototype),"constructor",this).call(this),this.position=this.position.bind(this),L.push(this),this.history=[],this.setOptions(e,!1),w.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(i)}),this.position()}return p(h,e),x(h,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],o={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=s(o,t);var a=this.options,r=a.element,l=a.target,h=a.targetModifier;if(this.element=r,this.target=l,this.targetModifier=h,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),d(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&d(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=H(this.options.targetAttachment),this.attachment=H(this.options.attachment),this.offset=W(this.options.offset),this.targetOffset=W(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=i(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return o(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=o(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,i=this.target;i===document.body?(i=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=o(i);var n=getComputedStyle(i),a=i.scrollWidth>i.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body,r=0;a&&(r=15);var s=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-r,e={width:15,height:.975*s*(s/i.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},l=0;s<408&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var d=this.target.scrollTop/(i.scrollHeight-s);return e.top=d*(s-e.height-l)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),L.forEach(function(e,i){e===t&&L.splice(i,1)}),0===L.length&&n()}},{key:"updateAttachClasses",value:function(t,e){var i=this;t=t||this.attachment,e=e||this.targetAttachment;var n=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var o=this._addAttachClasses;t.top&&o.push(this.getClass("element-attached")+"-"+t.top),t.left&&o.push(this.getClass("element-attached")+"-"+t.left),e.top&&o.push(this.getClass("target-attached")+"-"+e.top),e.left&&o.push(this.getClass("target-attached")+"-"+e.left);var a=[];n.forEach(function(t){a.push(i.getClass("element-attached")+"-"+t),a.push(i.getClass("target-attached")+"-"+t)}),T(function(){void 0!==i._addAttachClasses&&(f(i.element,i._addAttachClasses,a),!1!==i.options.addTargetClasses&&f(i.target,i._addAttachClasses,a),delete i._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=z(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var n=this.cache("element-bounds",function(){return o(t.element)}),s=n.width,l=n.height;if(0===s&&0===l&&void 0!==this.lastSize){var d=this.lastSize;s=d.width,l=d.height}else this.lastSize={width:s,height:l};var h=this.cache("target-bounds",function(){return t.getTargetBounds()}),u=h,c=b(N(this.attachment),{width:s,height:l}),f=b(N(i),u),p=b(this.offset,{width:s,height:l}),g=b(this.targetOffset,u);c=v(c,p),f=v(f,g);for(var m=h.left+f.left-c.left,y=h.top+f.top-c.top,x=0;x<w.modules.length;++x){var _=w.modules[x],k=_.position.call(this,{left:m,top:y,targetAttachment:i,targetPos:h,elementPos:n,offset:c,targetOffset:f,manualOffset:p,manualTargetOffset:g,scrollbarSize:S,attachment:this.attachment});if(!1===k)return!1;void 0!==k&&"object"==typeof k&&(y=k.top,m=k.left)}var C={page:{top:y,left:m},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-l+innerHeight,left:m-pageXOffset,right:pageXOffset-m-s+innerWidth}},M=this.target.ownerDocument,D=M.defaultView,S=void 0;return D.innerHeight>M.documentElement.clientHeight&&(S=this.cache("scrollbar-size",r),C.viewport.bottom-=S.height),D.innerWidth>M.documentElement.clientWidth&&(S=this.cache("scrollbar-size",r),C.viewport.right-=S.width),-1!==["","static"].indexOf(M.body.style.position)&&-1!==["","static"].indexOf(M.body.parentElement.style.position)||(C.page.bottom=M.body.scrollHeight-y-l,C.page.right=M.body.scrollWidth-m-s),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return a(t.target)}),i=t.cache("target-offsetparent-bounds",function(){return o(e)}),n=getComputedStyle(e),r=i,s={};if(["Top","Left","Bottom","Right"].forEach(function(t){s[t.toLowerCase()]=parseFloat(n["border"+t+"Width"])}),i.right=M.body.scrollWidth-i.left-r.width+s.right,i.bottom=M.body.scrollHeight-i.top-r.height+s.bottom,C.page.top>=i.top+s.top&&C.page.bottom>=i.bottom&&C.page.left>=i.left+s.left&&C.page.right>=i.right){var l=e.scrollTop,d=e.scrollLeft;C.offset={top:C.page.top-i.top+l-s.top,left:C.page.left-i.left+d-s.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),e&&F(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var i={};for(var n in t){i[n]={};for(var o in t[n]){for(var r=!1,l=0;l<this.history.length;++l){var d=this.history[l];if(void 0!==d[n]&&!g(d[n][o],t[n][o])){r=!0;break}}r||(i[n][o]=!0)}}var h={top:"",left:"",right:"",bottom:""},u=function(t,i){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var n=void 0,o=void 0;t.top?(h.top=0,n=i.top):(h.bottom=0,n=-i.bottom),t.left?(h.left=0,o=i.left):(h.right=0,o=-i.right),"number"==typeof window.devicePixelRatio&&devicePixelRatio%1==0&&(o=Math.round(o*devicePixelRatio)/devicePixelRatio,n=Math.round(n*devicePixelRatio)/devicePixelRatio),h[O]="translateX("+o+"px) translateY("+n+"px)","msTransform"!==O&&(h[O]+=" translateZ(0)")}else t.top?h.top=i.top+"px":h.bottom=i.bottom+"px",t.left?h.left=i.left+"px":h.right=i.right+"px"},c=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(h.position="absolute",u(i.page,t.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(h.position="fixed",u(i.viewport,t.viewport)):void 0!==i.offset&&i.offset.top&&i.offset.left?function(){h.position="absolute";var n=e.cache("target-offsetparent",function(){return a(e.target)});a(e.element)!==n&&T(function(){e.element.parentNode.removeChild(e.element),n.appendChild(e.element)}),u(i.offset,t.offset),c=!0}():(h.position="absolute",u({top:!0,left:!0},t.page)),!c)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var f=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName&&!function(t){var e=t.ownerDocument;return(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)===t}(p);){if("static"!==getComputedStyle(p).position){f=!1;break}p=p.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},v=!1;for(var o in h){var b=h[o];this.element.style[o]!==b&&(v=!0,m[o]=b)}v&&T(function(){s(e.element.style,m),e.trigger("repositioned")})}}}]),h}(A);j.modules=[],w.position=R;var q=s(j,w),I=function(){function t(t,e){
var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=w.Utils,o=E.getBounds,s=E.extend,f=E.updateClasses,T=E.defer,$=["left","top","right","bottom"];w.modules.push({position:function(t){var e=this,i=t.top,n=t.left,a=t.targetAttachment;if(!this.options.constraints)return!0;var r=this.cache("element-bounds",function(){return o(e.element)}),l=r.height,d=r.width;if(0===d&&0===l&&void 0!==this.lastSize){var h=this.lastSize;d=h.width,l=h.height}var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),c=u.height,p=u.width,g=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,i=t.pinnedClass;e&&g.push(e),i&&g.push(i)}),g.forEach(function(t){["left","top","right","bottom"].forEach(function(e){g.push(t+"-"+e)})});var m=[],v=s({},a),b=s({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,r=t.attachment,s=t.pin;void 0===r&&(r="");var h=void 0,u=void 0;if(r.indexOf(" ")>=0){var f=r.split(" "),g=I(f,2);u=g[0],h=g[1]}else h=u=r;var x=y(e,o);"target"!==u&&"both"!==u||(i<x[1]&&"top"===v.top&&(i+=c,v.top="bottom"),i+l>x[3]&&"bottom"===v.top&&(i-=c,v.top="top")),"together"===u&&("top"===v.top&&("bottom"===b.top&&i<x[1]?(i+=c,v.top="bottom",i+=l,b.top="top"):"top"===b.top&&i+l>x[3]&&i-(l-c)>=x[1]&&(i-=l-c,v.top="bottom",b.top="bottom")),"bottom"===v.top&&("top"===b.top&&i+l>x[3]?(i-=c,v.top="top",i-=l,b.top="bottom"):"bottom"===b.top&&i<x[1]&&i+(2*l-c)<=x[3]&&(i+=l-c,v.top="top",b.top="top")),"middle"===v.top&&(i+l>x[3]&&"top"===b.top?(i-=l,b.top="bottom"):i<x[1]&&"bottom"===b.top&&(i+=l,b.top="top"))),"target"!==h&&"both"!==h||(n<x[0]&&"left"===v.left&&(n+=p,v.left="right"),n+d>x[2]&&"right"===v.left&&(n-=p,v.left="left")),"together"===h&&(n<x[0]&&"left"===v.left?"right"===b.left?(n+=p,v.left="right",n+=d,b.left="left"):"left"===b.left&&(n+=p,v.left="right",n-=d,b.left="right"):n+d>x[2]&&"right"===v.left?"left"===b.left?(n-=p,v.left="left",n-=d,b.left="right"):"right"===b.left&&(n-=p,v.left="left",n+=d,b.left="left"):"center"===v.left&&(n+d>x[2]&&"left"===b.left?(n-=d,b.left="right"):n<x[0]&&"right"===b.left&&(n+=d,b.left="left"))),"element"!==u&&"both"!==u||(i<x[1]&&"bottom"===b.top&&(i+=l,b.top="top"),i+l>x[3]&&"top"===b.top&&(i-=l,b.top="bottom")),"element"!==h&&"both"!==h||(n<x[0]&&("right"===b.left?(n+=d,b.left="left"):"center"===b.left&&(n+=d/2,b.left="left")),n+d>x[2]&&("left"===b.left?(n-=d,b.left="right"):"center"===b.left&&(n-=d/2,b.left="right"))),"string"==typeof s?s=s.split(",").map(function(t){return t.trim()}):!0===s&&(s=["top","left","right","bottom"]),s=s||[];var w=[],_=[];i<x[1]&&(s.indexOf("top")>=0?(i=x[1],w.push("top")):_.push("top")),i+l>x[3]&&(s.indexOf("bottom")>=0?(i=x[3]-l,w.push("bottom")):_.push("bottom")),n<x[0]&&(s.indexOf("left")>=0?(n=x[0],w.push("left")):_.push("left")),n+d>x[2]&&(s.indexOf("right")>=0?(n=x[2]-d,w.push("right")):_.push("right")),w.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),m.push(t),w.forEach(function(e){m.push(t+"-"+e)})}(),_.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),m.push(t),_.forEach(function(e){m.push(t+"-"+e)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(b.left=v.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(b.top=v.top=!1),v.top===a.top&&v.left===a.left&&b.top===e.attachment.top&&b.left===e.attachment.left||(e.updateAttachClasses(b,v),e.trigger("update",{attachment:b,targetAttachment:v}))}),T(function(){!1!==e.options.addTargetClasses&&f(e.target,m,g),f(e.element,m,g)}),{top:i,left:n}}});var E=w.Utils,o=E.getBounds,f=E.updateClasses,T=E.defer;w.modules.push({position:function(t){var e=this,i=t.top,n=t.left,a=this.cache("element-bounds",function(){return o(e.element)}),r=a.height,s=a.width,l=this.getTargetBounds(),d=i+r,h=n+s,u=[];i<=l.bottom&&d>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==n&&e!==h||u.push(t)}),n<=l.right&&h>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==i&&e!==d||u.push(t)});var c=[],p=[],g=["left","top","right","bottom"];return c.push(this.getClass("abutted")),g.forEach(function(t){c.push(e.getClass("abutted")+"-"+t)}),u.length&&p.push(this.getClass("abutted")),u.forEach(function(t){p.push(e.getClass("abutted")+"-"+t)}),T(function(){!1!==e.options.addTargetClasses&&f(e.target,p,c),f(e.element,p,c)}),!0}});var I=function(){function t(t,e){var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return w.modules.push({position:function(t){var e=t.top,i=t.left;if(this.options.shift){var n=this.options.shift;"function"==typeof this.options.shift&&(n=this.options.shift.call(this,{top:e,left:i}));var o=void 0,a=void 0;if("string"==typeof n){n=n.split(" "),n[1]=n[1]||n[0];var r=n,s=I(r,2);o=s[0],a=s[1],o=parseFloat(o,10),a=parseFloat(a,10)}else o=n.top,a=n.left;return e+=o,i+=a,{top:e,left:i}}}}),q}),function(e){e.fn.extend({slimScroll:function(i){var n={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=e.extend(n,i);return this.each(function(){function n(t){if(d){var t=t||window.event,i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var n=t.target||t.srcTarget||t.srcElement;e(n).closest("."+o.wrapperClass).is(x.parent())&&a(i,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function a(t,e,i){y=!1;var n=t,a=x.outerHeight()-D.outerHeight();if(e&&(n=parseInt(D.css("top"))+t*parseInt(o.wheelStep)/100*D.outerHeight(),n=Math.min(Math.max(n,0),a),n=t>0?Math.ceil(n):Math.floor(n),D.css({top:n+"px"})),g=parseInt(D.css("top"))/(x.outerHeight()-D.outerHeight()),n=g*(x[0].scrollHeight-x.outerHeight()),i){n=t;var r=n/x[0].scrollHeight*x.outerHeight();r=Math.min(Math.max(r,0),a),D.css({top:r+"px"})}x.scrollTop(n),x.trigger("slimscrolling",~~n),s(),l()}function r(){p=Math.max(x.outerHeight()/x[0].scrollHeight*x.outerHeight(),b),D.css({height:p+"px"});var t=p==x.outerHeight()?"none":"block";D.css({display:t})}function s(){if(r(),clearTimeout(c),g==~~g){if(y=o.allowPageScroll,m!=g){var t=0==~~g?"top":"bottom";x.trigger("slimscroll",t)}}else y=!1;if(m=g,p>=x.outerHeight())return void(y=!0);D.stop(!0,!0).fadeIn("fast"),o.railVisible&&M.stop(!0,!0).fadeIn("fast")}function l(){o.alwaysVisible||(c=setTimeout(function(){o.disableFadeOut&&d||h||u||(D.fadeOut("slow"),M.fadeOut("slow"))},1e3))}var d,h,u,c,f,p,g,m,v="<div></div>",b=30,y=!1,x=e(this);if(x.parent().hasClass(o.wrapperClass)){var w=x.scrollTop();if(D=x.siblings("."+o.barClass),M=x.siblings("."+o.railClass),r(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){x.parent().css("height","auto"),x.css("height","auto");var _=x.parent().parent().height();x.parent().css("height",_),x.css("height",_)}else if("height"in i){var k=i.height;x.parent().css("height",k),x.css("height",k)}if("scrollTo"in i)w=parseInt(o.scrollTo);else if("scrollBy"in i)w+=parseInt(o.scrollBy);else if("destroy"in i)return D.remove(),M.remove(),void x.unwrap();a(w,!1,!0)}}else if(!(e.isPlainObject(i)&&"destroy"in i)){o.height="auto"==o.height?x.parent().height():o.height;var C=e(v).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});x.css({overflow:"hidden",width:o.width,height:o.height});var M=e(v).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),D=e(v).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),S="right"==o.position?{right:o.distance}:{left:o.distance};M.css(S),D.css(S),x.wrap(C),x.parent().append(D),x.parent().append(M),o.railDraggable&&D.bind("mousedown",function(i){var n=e(document);return u=!0,t=parseFloat(D.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,D.css("top",currTop),a(0,D.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){u=!1,l(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),M.hover(function(){s()},function(){l()}),D.hover(function(){h=!0},function(){h=!1}),x.hover(function(){d=!0,s(),l()},function(){d=!1,l()}),x.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),x.bind("touchmove",function(t){if(y||t.originalEvent.preventDefault(),t.originalEvent.touches.length){a((f-t.originalEvent.touches[0].pageY)/o.touchScrollStep,!0),f=t.originalEvent.touches[0].pageY}}),r(),"bottom"===o.start?(D.css({top:x.outerHeight()-D.outerHeight()}),a(0,!0)):"top"!==o.start&&(a(e(o.start).position().top,null,!0),o.alwaysVisible||D.hide()),function(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",n,!1),t.addEventListener("mousewheel",n,!1)):document.attachEvent("onmousewheel",n)}(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(t,e){"use strict";t.ajaxPrefilter(function(t,e,i){if(t.iframe)return t.originalURL=t.url,"iframe"}),t.ajaxTransport("iframe",function(e,i,n){function o(){l.each(function(e,i){var n=t(i);n.data("clone").replaceWith(n)}),a.remove(),r.one("load",function(){r.remove()}),r.attr("src","javascript:false;")}var a=null,r=null,s="iframe-"+t.now(),l=t(e.files).filter(":file:enabled"),d=null;if(e.dataTypes.shift(),e.data=i.data,l.length)return a=t("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:e.originalURL,target:s}),"string"==typeof e.data&&e.data.length>0&&t.error("data must not be serialized"),t.each(e.data||{},function(e,i){t.isPlainObject(i)&&(e=i.name,i=i.value),t("<input type='hidden' />").attr({name:e,value:i}).appendTo(a)}),t("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(a),d=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q=0.01":""):e.accepts["*"],t("<input type='hidden' name='X-HTTP-Accept'>").attr("value",d).appendTo(a),l.after(function(e){var i=t(this),n=i.clone().prop("disabled",!0);return i.data("clone",n),n}).next(),l.appendTo(a),{send:function(e,i){r=t("<iframe src='javascript:false;' name='"+s+"' id='"+s+"' style='display:none'></iframe>"),r.one("load",function(){r.one("load",function(){var t=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,e=t.documentElement?t.documentElement:t.body,n=e.getElementsByTagName("textarea")[0],a=n&&n.getAttribute("data-type")||null,r=n&&n.getAttribute("data-status")||200,s=n&&n.getAttribute("data-statusText")||"OK",l={html:e.innerHTML,text:a?n.value:e?e.textContent||e.innerText:null};o(),i(r,s,l,a?"Content-Type: "+a:null)}),a[0].submit()}),t("body").append(a,r)},abort:function(){null!==r&&(r.unbind("load").attr("src","javascript:false;"),o())}}})}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var i="dragover"===e;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var o=n.dataTransfer;o&&-1!==t.inArray("Files",o.types)&&!1!==this._trigger(e,t.Event(e,{delegatedEvent:n}))&&(n.preventDefault(),i&&(o.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file"/>').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,uniqueFilenames:void 0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,i){return e=this.messages[e]||e.toString(),i&&t.each(i,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(t){return t.serializeArray()},add:function(e,i){if(e.isDefaultPrevented())return!1;(i.autoUpload||!1!==i.autoUpload&&t(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(e-this.loaded)*(1e3/n)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_initProgressObject:function(e){var i={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,i):e._progress=i},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,i){if(e.lengthComputable){var n,o=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&o-i._time<i.progressInterval&&e.loaded!==e.total)return;i._time=o,n=Math.floor(e.loaded/e.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(o,n,i.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),i),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_deinitProgressListener:function(e){var i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&t(i.upload).unbind("progress")},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_getUniqueFilename:function(t,e){return t=String(t),e[t]?(t=t.replace(/(?: \(([\d]+)\))?(\.[^.]+)?$/,function(t,e,i){return" ("+(e?Number(e)+1:1)+")"+(i||"")}),this._getUniqueFilename(t,e)):(e[t]=!0,t)},_initXHRData:function(e){var i,n=this,o=e.files[0],a=e.multipart||!t.support.xhrFileUpload,r="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),a&&!e.blob&&this._isInstanceOf("File",o)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.uploadName||o.name)+'"'),a?t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):t.each(e.files,function(n,o){i.push({name:"array"===t.type(e.paramName)&&e.paramName[n]||r,value:o})})):(n._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(r,e.blob,o.uploadName||o.name):t.each(e.files,function(o,a){if(n._isInstanceOf("File",a)||n._isInstanceOf("Blob",a)){var s=a.uploadName||a.name;e.uniqueFilenames&&(s=n._getUniqueFilename(s,e.uniqueFilenames)),i.append("array"===t.type(e.paramName)&&e.paramName[o]||r,a,s)}})),e.data=i):(e.contentType=o.type||"application/octet-stream",e.data=e.blob||o),e.blob=null},_initIframeSettings:function(e){var i=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&i&&i!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)n.push(i),o-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var o=t.Deferred(),a=o.promise();return i=i||this.options.context||a,!0===e?o.resolveWith(i,n):!1===e&&o.rejectWith(i,n),a.abort=o.promise,this._enhancePromise(a)},_addConvenienceMethods:function(e,i){var n=this,o=function(e){return t.Deferred().resolveWith(n,e).promise()};i.process=function(e,a){return(e||a)&&(i._processQueue=this._processQueue=(this._processQueue||o([this])).then(function(){return i.errorThrown?t.Deferred().rejectWith(n,[i]).promise():o(arguments)}).then(e,a)),this._processQueue||o([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=!1!==n._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),i=e&&e.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,i){e.uploadedBytes=e.uploadedBytes||0;var n,o,a=this,r=e.files[0],s=r.size,l=e.uploadedBytes,d=e.maxChunkSize||s,h=this._blobSlice,u=t.Deferred(),c=u.promise();return!(!(this._isXHRUpload(e)&&h&&(l||("function"===t.type(d)?d(e):d)<s))||e.data)&&(!!i||(l>=s?(r.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",r.error])):(o=function(){var i=t.extend({},e),c=i._progress.loaded;i.blob=h.call(r,l,l+("function"===t.type(d)?d(i):d),r.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+s,a._trigger("chunkbeforesend",null,i),a._initXHRData(i),a._initProgressListener(i),n=(!1!==a._trigger("chunksend",null,i)&&t.ajax(i)||a._getXHRPromise(!1,i.context)).done(function(n,r,d){l=a._getUploadedBytes(d)||l+i.chunkSize,c+i.chunkSize-i._progress.loaded&&a._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),e.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=r,i.jqXHR=d,a._trigger("chunkdone",null,i),a._trigger("chunkalways",null,i),l<s?o():u.resolveWith(i.context,[n,r,d])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,a._trigger("chunkfail",null,i),a._trigger("chunkalways",null,i),u.rejectWith(i.context,[t,e,n])}).always(function(){a._deinitProgressListener(i)})},this._enhancePromise(c),c.abort=function(){return n.abort()},o(),c)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,i,n,o){var a=o._progress.total,r=o._response;o._progress.loaded<a&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:a,total:a}),o),r.result=o.result=e,r.textStatus=o.textStatus=i,r.jqXHR=o.jqXHR=n,this._trigger("done",null,o)},_onFail:function(t,e,i,n){var o=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),o.jqXHR=n.jqXHR=t,o.textStatus=n.textStatus=e,o.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(t,e,i,n){this._trigger("always",null,n)},_onSend:function(e,i){i.submit||this._addConvenienceMethods(e,i);var n,o,a,r,s=this,l=s._getAJAXSettings(i),d=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,n=n||((o||!1===s._trigger("send",t.Event("send",{delegatedEvent:e}),l))&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,i){s._onDone(t,e,i,l)}).fail(function(t,e,i){s._onFail(t,e,i,l)}).always(function(t,e,i){if(s._deinitProgressListener(l),s._onAlways(t,e,i,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var n=s._slots.shift();n;){if("pending"===s._getDeferredState(n)){n.resolve();break}n=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=t.Deferred(),this._slots.push(a),r=a.then(d)):(this._sequence=this._sequence.then(d,d),r=this._sequence),r.abort=function(){return o=[void 0,"abort","abort"],n?n.abort():(a&&a.rejectWith(l.context,o),d())},this._enhancePromise(r)):d()},_onAdd:function(e,i){var n,o,a,r,s=this,l=!0,d=t.extend({},this.options,i),h=i.files,u=h.length,c=d.limitMultiFileUploads,f=d.limitMultiFileUploadSize,p=d.limitMultiFileUploadSizeOverhead,g=0,m=this._getParamName(d),v=0;if(!u)return!1;if(f&&void 0===h[0].size&&(f=void 0),(d.singleFileUploads||c||f)&&this._isXHRUpload(d))if(d.singleFileUploads||f||!c)if(!d.singleFileUploads&&f)for(a=[],n=[],r=0;r<u;r+=1)g+=h[r].size+p,(r+1===u||g+h[r+1].size+p>f||c&&r+1-v>=c)&&(a.push(h.slice(v,r+1)),o=m.slice(v,r+1),o.length||(o=m),n.push(o),v=r+1,g=0);else n=m;else for(a=[],n=[],r=0;r<u;r+=c)a.push(h.slice(r,r+c)),o=m.slice(r,r+c),o.length||(o=m),n.push(o);else a=[h],n=[m];return i.originalFiles=h,t.each(a||h,function(o,r){var d=t.extend({},i);return d.files=a?r:[r],d.paramName=n[o],s._initResponseObject(d),s._initProgressObject(d),s._addConvenienceMethods(e,d),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),d)}),l},_replaceFileInput:function(e){var i=e.fileInput,n=i.clone(!0),o=i.is(document.activeElement);e.fileInputClone=n,t("<form></form>").append(n)[0].reset(),i.after(n).detach(),o&&n.focus(),t.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===i[0]?n[0]:e}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,i){var n,o=this,a=t.Deferred(),r=[],s=function(t){t&&!t.entry&&(t.entry=e),a.resolve([t])},l=function(t){o._handleFileTreeEntries(t,i+e.name+"/").done(function(t){a.resolve(t)}).fail(s)},d=function(){n.readEntries(function(t){t.length?(r=r.concat(t),d()):l(r)},s)};return i=i||"",e.isFile?e._file?(e._file.relativePath=i,a.resolve(e._file)):e.file(function(t){t.relativePath=i,a.resolve(t)},s):e.isDirectory?(n=e.createReader(),d()):a.resolve([]),a.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var i=e.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var i,n,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(i=t.makeArray(e.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&t.each(i,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(n=e.prop("value")))return t.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var i=this,n={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(n.fileInput).always(function(o){n.files=o,i.options.replaceFileInput&&i._replaceFileInput(n),!1!==i._trigger("change",t.Event("change",{delegatedEvent:e}),n)&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(t.each(i,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&n.files.push(i)}),!1!==this._trigger("paste",t.Event("paste",{delegatedEvent:e}),n)&&this._onAdd(e,n))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var i=this,n=e.dataTransfer,o={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){o.files=n,!1!==i._trigger("drop",t.Event("drop",{delegatedEvent:e}),o)&&i._onAdd(e,o)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,i){var n=-1!==t.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),i=e.pop();return e.shift(),new RegExp(e.join("/"),i)},_isRegExpOption:function(e,i){return"url"!==e&&"string"===t.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var e=this,i=this.options,n=this.element.data();t.each(this.element[0].attributes,function(t,o){var a,r=o.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),a=n[r],e._isRegExpOption(r,a)&&(a=e._getRegExp(a)),i[r]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,o=this,a=t.Deferred(),r=a.promise();return r.abort=function(){return n=!0,i?i.abort():(a.reject(null,"abort","abort"),r)},this._getFileInputFiles(e.fileInput).always(function(t){if(!n){if(!t.length)return void a.reject();e.files=t,i=o._onSend(null,e),i.then(function(t,e,i){a.resolve(t,e,i)},function(t,e,i){a.reject(t,e,i)})}}),this._enhancePromise(r)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):jQuery&&!jQuery.fn.colorpicker&&e(jQuery)}(0,function(t){"use strict";var e=function(i,n,o,a,r){this.fallbackValue=o?"string"==typeof o?this.parse(o):o:null,this.fallbackFormat=a||"rgba",this.hexNumberSignPrefix=!0===r,this.value=this.fallbackValue,this.origFormat=null,this.predefinedColors=n||{},this.colors=t.extend({},e.webColors,this.predefinedColors),i&&(void 0!==i.h?this.value=i:this.setColor(String(i))),this.value||(this.value={h:0,s:0,b:0,a:1})};e.webColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",
darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"transparent"},e.prototype={constructor:e,colors:{},predefinedColors:{},getValue:function(){return this.value},setValue:function(t){this.value=t},_sanitizeNumber:function(t){return"number"==typeof t?t:isNaN(t)||null===t||""===t||void 0===t?1:""===t?0:void 0!==t.toLowerCase?(t.match(/^\./)&&(t="0"+t),Math.ceil(100*parseFloat(t))/100):1},isTransparent:function(t){return!(!t||!("string"==typeof t||t instanceof String))&&("transparent"===(t=t.toLowerCase().trim())||t.match(/#?00000000/)||t.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(t){return 0===t.r&&0===t.g&&0===t.b&&0===t.a},setColor:function(t){if(t=t.toLowerCase().trim()){if(this.isTransparent(t))return this.value={h:0,s:0,b:0,a:0},!0;var e=this.parse(t);e?(this.value=this.value={h:e.h,s:e.s,b:e.b,a:e.a},this.origFormat||(this.origFormat=e.format)):this.fallbackValue&&(this.value=this.fallbackValue)}return!1},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setBrightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=Math.round(parseInt(100*(1-t),10)/100*100)/100},toRGB:function(t,e,i,n){0===arguments.length&&(t=this.value.h,e=this.value.s,i=this.value.b,n=this.value.a),t*=360;var o,a,r,s,l;return t=t%360/60,l=i*e,s=l*(1-Math.abs(t%2-1)),o=a=r=i-l,t=~~t,o+=[l,s,0,0,s,l][t],a+=[s,l,l,s,0,0][t],r+=[0,0,s,l,l,s][t],{r:Math.round(255*o),g:Math.round(255*a),b:Math.round(255*r),a:n}},toHex:function(t,e,i,n,o){arguments.length<=1&&(e=this.value.h,i=this.value.s,n=this.value.b,o=this.value.a);var a="#",r=this.toRGB(e,i,n,o);return this.rgbaIsTransparent(r)?"transparent":(t||(a=this.hexNumberSignPrefix?"#":""),a+((1<<24)+(parseInt(r.r)<<16)+(parseInt(r.g)<<8)+parseInt(r.b)).toString(16).slice(1))},toHSL:function(t,e,i,n){0===arguments.length&&(t=this.value.h,e=this.value.s,i=this.value.b,n=this.value.a);var o=t,a=(2-e)*i,r=e*i;return r/=a>0&&a<=1?a:2-a,a/=2,r>1&&(r=1),{h:isNaN(o)?0:o,s:isNaN(r)?0:r,l:isNaN(a)?0:a,a:isNaN(n)?0:n}},toAlias:function(t,e,i,n){var o,a=0===arguments.length?this.toHex(!0):this.toHex(!0,t,e,i,n),r="alias"===this.origFormat?a:this.toString(!1,this.origFormat);for(var s in this.colors)if((o=this.colors[s].toLowerCase().trim())===a||o===r)return s;return!1},RGBtoHSB:function(t,e,i,n){t/=255,e/=255,i/=255;var o,a,r,s;return r=Math.max(t,e,i),s=r-Math.min(t,e,i),o=0===s?null:r===t?(e-i)/s:r===e?(i-t)/s+2:(t-e)/s+4,o=(o+360)%6*60/360,a=0===s?0:s/r,{h:this._sanitizeNumber(o),s:a,b:r,a:this._sanitizeNumber(n)}},HueToRGB:function(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t},HSLtoRGB:function(t,e,i,n){e<0&&(e=0);var o;o=i<=.5?i*(1+e):i+e-i*e;var a=2*i-o,r=t+1/3,s=t,l=t-1/3;return[Math.round(255*this.HueToRGB(a,o,r)),Math.round(255*this.HueToRGB(a,o,s)),Math.round(255*this.HueToRGB(a,o,l)),this._sanitizeNumber(n)]},parse:function(e){if("string"!=typeof e)return this.fallbackValue;if(0===arguments.length)return!1;var i,n,o=this,a=!1,r=void 0!==this.colors[e];return r&&(e=this.colors[e].toLowerCase().trim()),t.each(this.stringParsers,function(t,s){var l=s.re.exec(e);return!(i=l&&s.parse.apply(o,[l]))||(a={},n=r?"alias":s.format?s.format:o.getValidFallbackFormat(),a=n.match(/hsla?/)?o.RGBtoHSB.apply(o,o.HSLtoRGB.apply(o,i)):o.RGBtoHSB.apply(o,i),a instanceof Object&&(a.format=n),!1)}),a},getValidFallbackFormat:function(){var t=["rgba","rgb","hex","hsla","hsl"];return this.origFormat&&-1!==t.indexOf(this.origFormat)?this.origFormat:this.fallbackFormat&&-1!==t.indexOf(this.fallbackFormat)?this.fallbackFormat:"rgba"},toString:function(t,i,n){i=i||this.origFormat||this.fallbackFormat,n=n||!1;var o=!1;switch(i){case"rgb":return o=this.toRGB(),this.rgbaIsTransparent(o)?"transparent":"rgb("+o.r+","+o.g+","+o.b+")";case"rgba":return o=this.toRGB(),"rgba("+o.r+","+o.g+","+o.b+","+o.a+")";case"hsl":return o=this.toHSL(),"hsl("+Math.round(360*o.h)+","+Math.round(100*o.s)+"%,"+Math.round(100*o.l)+"%)";case"hsla":return o=this.toHSL(),"hsla("+Math.round(360*o.h)+","+Math.round(100*o.s)+"%,"+Math.round(100*o.l)+"%,"+o.a+")";case"hex":return this.toHex(t);case"alias":return o=this.toAlias(),!1===o?this.toString(t,this.getValidFallbackFormat()):n&&!(o in e.webColors)&&o in this.predefinedColors?this.predefinedColors[o]:o;default:return o}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(t){return[t[1],t[2],t[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]}}],colorNameToHex:function(t){return void 0!==this.colors[t.toLowerCase()]&&this.colors[t.toLowerCase()]}};var i={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",fallbackColor:!1,fallbackFormat:"hex",hexNumberSignPrefix:!0,sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},n=function(e,n){this.element=t(e).addClass("colorpicker-element"),this.options=t.extend(!0,{},i,this.element.data(),n),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&t(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=this.createColor(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color)),this.disabled=!1;var o=this.picker=t(this.options.template);if(this.options.customClass&&o.addClass(this.options.customClass),this.options.inline?o.addClass("colorpicker-inline colorpicker-visible"):o.addClass("colorpicker-hidden"),this.options.horizontal&&o.addClass("colorpicker-horizontal"),-1===["rgba","hsla","alias"].indexOf(this.format)&&!1!==this.options.format&&"transparent"!==this.getValue()||o.addClass("colorpicker-with-alpha"),"right"===this.options.align&&o.addClass("colorpicker-right"),!0===this.options.inline&&o.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var a=this,r=a.picker.find(".colorpicker-selectors");r.length>0&&(t.each(this.options.colorSelectors,function(e,i){var n=t("<i />").addClass("colorpicker-selectors-color").css("background-color",i).data("class",e).data("alias",e);n.on("mousedown.colorpicker touchstart.colorpicker",function(e){e.preventDefault(),a.setValue("alias"===a.format?t(this).data("alias"):t(this).css("background-color"))}),r.append(n)}),r.show().addClass("colorpicker-visible"))}o.on("mousedown.colorpicker touchstart.colorpicker",t.proxy(function(t){t.target===t.currentTarget&&t.preventDefault()},this)),o.find(".colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha").on("mousedown.colorpicker touchstart.colorpicker",t.proxy(this.mousedown,this)),o.appendTo(this.container?this.container:t("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":t.proxy(this.keyup,this)}),this.input.on({"input.colorpicker":t.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":t.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":t.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":t.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":t.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":t.proxy(this.show,this),"focus.colorpicker":t.proxy(this.show,this)}),this.update(),t(t.proxy(function(){this.element.trigger("create")},this))};n.Color=e,n.prototype={constructor:n,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var t=this.container&&this.container[0]!==window.document.body?"position":"offset",e=this.component||this.element,i=e[t]();"right"===this.options.align&&(i.left-=this.picker.outerWidth()-e.outerWidth()),this.picker.css({top:i.top+e.outerHeight(),left:i.left})},show:function(e){this.isDisabled()||(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),t(window).on("resize.colorpicker",t.proxy(this.reposition,this)),!e||this.hasInput()&&"color"!==this.input.attr("type")||e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!this.component&&this.input||!1!==this.options.inline||t(window.document).on({"mousedown.colorpicker":t.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color}))},hide:function(e){if(void 0!==e&&e.target&&(t(e.currentTarget).parents(".colorpicker").length>0||t(e.target).parents(".colorpicker").length>0))return!1;this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),t(window).off("resize.colorpicker",this.reposition),t(window.document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(t){return t=t||this.color.toString(!1,this.format),this.element.data("color",t),t},updateInput:function(t){return t=t||this.color.toString(!1,this.format),!1!==this.input&&(this.input.prop("value",t),this.input.trigger("change")),t},updatePicker:function(t){void 0!==t&&(this.color=this.createColor(t));var e=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");if(0!==i.length)return!1===this.options.horizontal?(e=this.options.sliders,i.eq(1).css("top",e.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",e.alpha.maxTop*(1-this.color.value.a))):(e=this.options.slidersHorz,i.eq(1).css("left",e.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",e.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:e.saturation.maxTop-this.color.value.b*e.saturation.maxTop,left:this.color.value.s*e.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(!0,this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex(!0)),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(!0,this.format)),t},updateComponent:function(t){var e;if(e=void 0!==t?this.createColor(t):this.color,!1!==this.component){var i=this.component.find("i").eq(0);i.length>0?i.css({backgroundColor:e.toString(!0,this.format)}):this.component.css({backgroundColor:e.toString(!0,this.format)})}return e.toString(!1,this.format)},update:function(t){var e;return!1===this.getValue(!1)&&!0!==t||(e=this.updateComponent(),this.updateInput(e),this.updateData(e),this.updatePicker()),e},setValue:function(t){this.color=this.createColor(t),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:t})},createColor:function(t){return new e(t||null,this.options.colorSelectors,this.options.fallbackColor?this.options.fallbackColor:this.color,this.options.fallbackFormat,this.options.hexNumberSignPrefix)},getValue:function(t){t=void 0===t?this.options.fallbackColor:t;var e;return e=this.hasInput()?this.input.val():this.element.data("color"),void 0!==e&&""!==e&&null!==e||(e=t),e},hasInput:function(){return!1!==this.input},isDisabled:function(){return this.disabled},disable:function(){return this.hasInput()&&this.input.prop("disabled",!0),this.disabled=!0,this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0},enable:function(){return this.hasInput()&&this.input.prop("disabled",!1),this.disabled=!1,this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var i=t(e.target),n=i.closest("div"),o=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!n.is(".colorpicker")){if(n.is(".colorpicker-saturation"))this.currentSlider=t.extend({},o.saturation);else if(n.is(".colorpicker-hue"))this.currentSlider=t.extend({},o.hue);else{if(!n.is(".colorpicker-alpha"))return!1;this.currentSlider=t.extend({},o.alpha)}var a=n.offset();this.currentSlider.guide=n.find("i")[0].style,this.currentSlider.left=e.pageX-a.left,this.currentSlider.top=e.pageY-a.top,this.mousePointer={left:e.pageX,top:e.pageY},t(window.document).on({"mousemove.colorpicker":t.proxy(this.mousemove,this),"touchmove.colorpicker":t.proxy(this.mousemove,this),"mouseup.colorpicker":t.proxy(this.mouseup,this),"touchend.colorpicker":t.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((t.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((t.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=e+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,e/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),!1!==this.options.format||"setAlpha"!==this.currentSlider.callTop&&"setAlpha"!==this.currentSlider.callLeft||(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t(window.document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(t){this.color=this.createColor(this.input.val()),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker()),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})},keyup:function(t){38===t.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===t.keyCode&&(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},t.colorpicker=n,t.fn.colorpicker=function(e){var i=Array.prototype.slice.call(arguments,1),o=1===this.length,a=null,r=this.each(function(){var o=t(this),r=o.data("colorpicker"),s="object"==typeof e?e:{};r||(r=new n(this,s),o.data("colorpicker",r)),"string"==typeof e?t.isFunction(r[e])?a=r[e].apply(r,i):(i.length&&(r[e]=i[0]),a=r[e]):a=o});return o?a:r},t.fn.colorpicker.constructor=n}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function a(i,n){return function(){return n!==e&&t.fn.datepicker.deprecated(n),this[i].apply(this,arguments)}}function r(t){return t&&!isNaN(t.getTime())}function s(e,i){function n(t,e){return e.toLowerCase()}var o,a=t(e).data(),r={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in a)i.test(l)&&(o=l.replace(s,n),r[o]=a[l]);return r}function l(e){var i={};if(m[e]||(e=e.split("-")[0],m[e])){var n=m[e];return t.each(g,function(t,e){e in n&&(i[e]=n[e])}),i}}var d=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-e&&this[i].valueOf()-e<864e5)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new d;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){t.data(e,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(i),this.dates=new d,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};h.prototype={constructor:h,_resolveViewName:function(e){return t.each(v.viewModes,function(i,n){if(e===i||-1!==t.inArray(e,n.names))return e=i,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(i){try{if(i===e||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;return t(i).length>0}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var o=this.o=t.extend({},this._o),a=o.language;m[a]||(a=a.split("-")[0],m[a]||(a=p.language)),o.language=a,o.startView=this._resolveViewName(o.startView),o.minViewMode=this._resolveViewName(o.minViewMode),o.maxViewMode=this._resolveViewName(o.maxViewMode),o.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,o.startView)),!0!==o.multidate&&(o.multidate=Number(o.multidate)||!1,!1!==o.multidate&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var r=v.parseFormat(o.format);o.startDate!==-1/0&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=v.parseDate(o.startDate,r,o.language,o.assumeNearbyYear):o.startDate=-1/0),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=v.parseDate(o.endDate,r,o.language,o.assumeNearbyYear):o.endDate=1/0),o.daysOfWeekDisabled=this._resolveDaysOfWeek(o.daysOfWeekDisabled||[]),o.daysOfWeekHighlighted=this._resolveDaysOfWeek(o.daysOfWeekHighlighted||[]),o.datesDisabled=o.datesDisabled||[],t.isArray(o.datesDisabled)||(o.datesDisabled=o.datesDisabled.split(",")),o.datesDisabled=t.map(o.datesDisabled,function(t){return v.parseDate(t,r,o.language,o.assumeNearbyYear)});var s=String(o.orientation).toLowerCase().split(/\s+/g),l=o.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),o.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":o.orientation.y=s[0];break;case"left":case"right":o.orientation.x=s[0]}else l=t.grep(s,function(t){return/^left|right$/.test(t)}),o.orientation.x=l[0]||"auto",l=t.grep(s,function(t){return/^top|bottom$/.test(t)}),o.orientation.y=l[0]||"auto";else;if(o.defaultViewDate instanceof Date||"string"==typeof o.defaultViewDate)o.defaultViewDate=v.parseDate(o.defaultViewDate,r,o.language,o.assumeNearbyYear);else if(o.defaultViewDate){var d=o.defaultViewDate.year||(new Date).getFullYear(),h=o.defaultViewDate.month||0,u=o.defaultViewDate.day||1;o.defaultViewDate=i(d,h,u)}else o.defaultViewDate=n()},_applyEvents:function(t){for(var i,n,o,a=0;a<t.length;a++)i=t[a][0],2===t[a].length?(n=e,o=t[a][1]):3===t[a].length&&(n=t[a][1],o=t[a][2]),i.on(o,n)},_unapplyEvents:function(t){for(var i,n,o,a=0;a<t.length;a++)i=t[a][0],2===t[a].length?(o=e,n=t[a][1]):3===t[a].length&&(o=t[a][1],n=t[a][2]),i.off(n,o)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),o=this._utc_to_local(n);this.element.trigger({type:e,date:o,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return v.formatDate(i,e,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&i(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:a("setDates"),setUTCDate:a("setUTCDates"),remove:a("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,i,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=t(this.o.container),o=n.width(),a="body"===this.o.container?t(document).scrollTop():n.scrollTop(),r=n.offset(),s=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&s.push(Number(e))});var l=Math.max.apply(Math,s)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),c=d.left-r.left,f=d.top-r.top;"body"!==this.o.container&&(f+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(c-=e-u)):d.left<0?(this.picker.addClass("datepicker-orient-left"),c-=d.left-10):c+e>o?(this.picker.addClass("datepicker-orient-right"),c+=u-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var p,g=this.o.orientation.y;if("auto"===g&&(p=-a+f-i,g=p<0?"bottom":"top"),
this.picker.addClass("datepicker-orient-"+g),"top"===g?f-=i+parseInt(this.picker.css("padding-top")):f+=h,this.o.rtl){var m=o-(c+u);this.picker.css({top:f,right:m,zIndex:l})}else this.picker.css({top:f,left:c,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],n=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=t.grep(i,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),n?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&n&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)i+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(i+=" disabled"),i+='">'+m[this.o.language].daysMin[e++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)}},fillMonths:function(){for(var t,e=this._utc_to_local(this.viewDate),i="",n=0;n<12;n++)t=e&&e.getMonth()===n?" focused":"",i+='<span class="month'+t+'">'+m[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],a=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s=n();return e.getUTCFullYear()<a||e.getUTCFullYear()===a&&e.getUTCMonth()<r?i.push("old"):(e.getUTCFullYear()>a||e.getUTCFullYear()===a&&e.getUTCMonth()>r)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&o(e,s)&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),this.dateWithinRange(e)||i.push("disabled"),this.dateIsDisabled(e)&&i.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,n,o,a,r,s,l){for(var d,h,u,c="",f=o/10,p=this.picker.find(i),g=Math.floor(a/o)*o,m=g+9*f,v=Math.floor(this.viewDate.getFullYear()/f)*f,b=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/f)*f}),y=g-f;y<=m+f;y+=f)d=[n],h=null,y===g-f?d.push("old"):y===m+f&&d.push("new"),-1!==t.inArray(y,b)&&d.push("active"),(y<r||y>s)&&d.push("disabled"),y===v&&d.push("focused"),l!==t.noop&&(u=l(new Date(y,0,1)),u===e?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&d.push("disabled"),u.classes&&(d=d.concat(u.classes.split(/\s+/))),u.tooltip&&(h=u.tooltip)),c+='<span class="'+d.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+y+"</span>";p.find(".datepicker-switch").text(g+"-"+m),p.find("td").html(c)},fill:function(){var o,a,r=new Date(this.viewDate),s=r.getUTCFullYear(),l=r.getUTCMonth(),d=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,f=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",g=m[this.o.language].titleFormat||m.en.titleFormat,b=n(),y=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&b>=this.o.startDate&&b<=this.o.endDate&&!this.weekOfDateIsDisabled(b);if(!isNaN(s)&&!isNaN(l)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(r,g,this.o.language)),this.picker.find("tfoot .today").text(f).css("display",y?"table-cell":"none"),this.picker.find("tfoot .clear").text(p).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var x=i(s,l,0),w=x.getUTCDate();x.setUTCDate(w-(x.getUTCDay()-this.o.weekStart+7)%7);var _=new Date(x);x.getUTCFullYear()<100&&_.setUTCFullYear(x.getUTCFullYear()),_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var k,C,M=[];x.valueOf()<_;){if((k=x.getUTCDay())===this.o.weekStart&&(M.push("<tr>"),this.o.calendarWeeks)){var D=new Date(+x+(this.o.weekStart-k-7)%7*864e5),S=new Date(Number(D)+(11-D.getUTCDay())%7*864e5),T=new Date(Number(T=i(S.getUTCFullYear(),0,1))+(11-T.getUTCDay())%7*864e5),F=(S-T)/864e5/7+1;M.push('<td class="cw">'+F+"</td>")}C=this.getClassNames(x),C.push("day");var A=x.getUTCDate();this.o.beforeShowDay!==t.noop&&(a=this.o.beforeShowDay(this._utc_to_local(x)),a===e?a={}:"boolean"==typeof a?a={enabled:a}:"string"==typeof a&&(a={classes:a}),!1===a.enabled&&C.push("disabled"),a.classes&&(C=C.concat(a.classes.split(/\s+/))),a.tooltip&&(o=a.tooltip),a.content&&(A=a.content)),C=t.isFunction(t.uniqueSort)?t.uniqueSort(C):t.unique(C),M.push('<td class="'+C.join(" ")+'"'+(o?' title="'+o+'"':"")+' data-date="'+x.getTime().toString()+'">'+A+"</td>"),o=null,k===this.o.weekEnd&&M.push("</tr>"),x.setUTCDate(x.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(M.join(""));var I=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",P=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?I:s).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&P.eq(e.getUTCMonth()).addClass("active")}),(s<d||s>u)&&P.addClass("disabled"),s===d&&P.slice(0,h).addClass("disabled"),s===u&&P.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var E=this;t.each(P,function(i,n){var o=new Date(s,i,1),a=E.o.beforeShowMonth(o);a===e?a={}:"boolean"==typeof a?a={enabled:a}:"string"==typeof a&&(a={classes:a}),!1!==a.enabled||t(n).hasClass("disabled")||t(n).addClass("disabled"),a.classes&&t(n).addClass(a.classes),a.tooltip&&t(n).prop("title",a.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,s,d,u,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,s,d,u,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,s,d,u,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),o=i.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=1;switch(this.viewMode){case 4:d*=10;case 3:d*=10;case 2:d*=10;case 1:t=Math.floor(n/d)*d<=a,e=Math.floor(n/d)*d+d>s;break;case 0:t=n<=a&&o<=r,e=n>=s&&o>=l}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){e.preventDefault(),e.stopPropagation();var o,a,r,s;o=t(e.target),o.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),o.hasClass("today")&&!o.hasClass("day")&&(this.setViewMode(0),this._setDate(n(),"linked"===this.o.todayBtn?null:"view")),o.hasClass("clear")&&this.clearDates(),o.hasClass("disabled")||(o.hasClass("month")||o.hasClass("year")||o.hasClass("decade")||o.hasClass("century"))&&(this.viewDate.setUTCDate(1),a=1,1===this.viewMode?(s=o.parent().find("span").index(o),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s)):(s=0,r=Number(o.text()),this.viewDate.setUTCFullYear(r)),this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(i(r,s,a)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var i=t(e.currentTarget),n=i.data("date"),o=new Date(n);this.o.updateViewDate&&(o.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),o.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(o)},navArrowsClick:function(e){var i=t(e.currentTarget),n=i.hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*v.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(v.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!r(t))return this.o.defaultViewDate;if(!e)return t;var i,n,o=new Date(t.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)n=-1===e?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==i},i=s+e,o.setUTCMonth(i),i=(i+12)%12;else{for(var d=0;d<l;d++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(a),n=function(){return i!==o.getUTCMonth()}}for(;n();)o.setUTCDate(--a),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return o(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation()));var e,i,n=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(o,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(o,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(o,e,"moveDay"):this.weekOfDateIsDisabled(o)||(i=this.moveAvailableDate(o,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(o,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(o,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+v.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(e,i){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,this.keepEmptyValues=i.keepEmptyValues,delete i.keepEmptyValues,f.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},clearDates:function(){t.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(i){if(!this.updating){this.updating=!0;var n=t.data(i.target,"datepicker");if(n!==e){var o=n.getUTCDate(),a=this.keepEmptyValues,r=t.inArray(i.target,this.inputs),s=r-1,l=r+1,d=this.inputs.length;if(-1!==r){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==n&&a||e.setUTCDate(o)}),o<this.dates[s])for(;s>=0&&o<this.dates[s];)this.pickers[s--].setUTCDate(o);else if(o>this.dates[l])for(;l<d&&o>this.dates[l];)this.pickers[l++].setUTCDate(o);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:a("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var c=t.fn.datepicker,f=function(i){var n=Array.apply(null,arguments);n.shift();var o;if(this.each(function(){var e=t(this),a=e.data("datepicker"),r="object"==typeof i&&i;if(!a){var d=s(this,"date"),c=t.extend({},p,d,r),f=l(c.language),g=t.extend({},p,f,d,r);e.hasClass("input-daterange")||g.inputs?(t.extend(g,{inputs:g.inputs||e.find("input").toArray()}),a=new u(this,g)):a=new h(this,g),e.data("datepicker",a)}"string"==typeof i&&"function"==typeof a[i]&&(o=a[i].apply(a,n))}),o===e||o instanceof h||o instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return o};t.fn.datepicker=f;var p=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,o,a,r){function s(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function l(){var t=this.slice(0,d[f].length),e=d[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!i)return e;if(i instanceof Date)return i;if("string"==typeof o&&(o=v.parseFormat(o)),o.toValue)return o.toValue(i,o,a);var d,u,c,f,p,g={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},b={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(i in b&&(i=b[i]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){for(d=i.match(/([\-+]\d+)([dmwy])/gi),i=new Date,f=0;f<d.length;f++)u=d[f].match(/([\-+]\d+)([dmwy])/i),c=Number(u[1]),p=g[u[2].toLowerCase()],i=h.prototype[p](i,c);return h.prototype._zero_utc_time(i)}d=i&&i.match(this.nonpunctuation)||[];var y,x,w={},_=["yyyy","yy","M","MM","m","mm","d","dd"],k={yyyy:function(t,e){return t.setUTCFullYear(r?s(e,r):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};k.yy=k.yyyy,k.M=k.MM=k.mm=k.m,k.dd=k.d,i=n();var C=o.parts.slice();if(d.length!==C.length&&(C=t(C).filter(function(e,i){return-1!==t.inArray(i,_)}).toArray()),d.length===C.length){var M;for(f=0,M=C.length;f<M;f++){if(y=parseInt(d[f],10),u=C[f],isNaN(y))switch(u){case"MM":x=t(m[a].months).filter(l),y=t.inArray(x[0],m[a].months)+1;break;case"M":x=t(m[a].monthsShort).filter(l),y=t.inArray(x[0],m[a].monthsShort)+1}w[u]=y}var D,S;for(f=0;f<_.length;f++)(S=_[f])in w&&!isNaN(w[S])&&(D=new Date(i),k[S](D,w[S]),isNaN(D)||(i=D))}return i},formatDate:function(e,i,n){if(!e)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,n);var o={d:e.getUTCDate(),D:m[n].daysShort[e.getUTCDay()],DD:m[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[n].monthsShort[e.getUTCMonth()],MM:m[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,e=[];for(var a=t.extend([],i.separators),r=0,s=i.parts.length;r<=s;r++)a.length&&e.push(a.shift()),e.push(o[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t.fn.datepicker.version="1.9.0",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),f.call(i,"show"))}),t(function(){f.call(t('[data-provide="datepicker-inline"]'))})}),function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(t){var n="ekkoLightbox",o=t.fn[n],a={title:"",footer:"",maxWidth:9999,maxHeight:9999,showArrows:!0,wrapping:!0,type:null,alwaysShowClose:!1,loadingMessage:'<div class="ekko-lightbox-loader"><div><div></div><div></div></div></div>',leftArrow:"<span>&#10094;</span>",rightArrow:"<span>&#10095;</span>",strings:{close:"Close",fail:"Failed to load image:",type:"Could not detect remote target type. Force the type using data-type"},doc:document,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){},onContentLoaded:function(){}},r=function(){function n(i,o){var r=this;e(this,n),this._config=t.extend({},a,o),this._$modalArrows=null,this._galleryIndex=0,this._galleryName=null,this._padding=null,this._border=null,this._titleIsShown=!1,this._footerIsShown=!1,this._wantedWidth=0,this._wantedHeight=0,this._touchstartX=0,this._touchendX=0,this._modalId="ekkoLightbox-"+Math.floor(1e3*Math.random()+1),this._$element=i instanceof jQuery?i:t(i),this._isBootstrap3=3==t.fn.modal.Constructor.VERSION[0];var s='<h4 class="modal-title">'+(this._config.title||"&nbsp;")+"</h4>",l='<button type="button" class="close" data-dismiss="modal" aria-label="'+this._config.strings.close+'"><span aria-hidden="true">&times;</span></button>',d='<div class="modal-header'+(this._config.title||this._config.alwaysShowClose?"":" hide")+'">'+(this._isBootstrap3?l+s:s+l)+"</div>",h='<div class="modal-footer'+(this._config.footer?"":" hide")+'">'+(this._config.footer||"&nbsp;")+"</div>",u='<div class="modal-dialog" role="document"><div class="modal-content">'+d+'<div class="modal-body"><div class="ekko-lightbox-container"><div class="ekko-lightbox-item fade in show"></div><div class="ekko-lightbox-item fade"></div></div></div>'+h+"</div></div>";t(this._config.doc.body).append('<div id="'+this._modalId+'" class="ekko-lightbox modal fade" tabindex="-1" tabindex="-1" role="dialog" aria-hidden="true">'+u+"</div>"),this._$modal=t("#"+this._modalId,this._config.doc),this._$modalDialog=this._$modal.find(".modal-dialog").first(),this._$modalContent=this._$modal.find(".modal-content").first(),this._$modalBody=this._$modal.find(".modal-body").first(),this._$modalHeader=this._$modal.find(".modal-header").first(),this._$modalFooter=this._$modal.find(".modal-footer").first(),this._$lightboxContainer=this._$modalBody.find(".ekko-lightbox-container").first(),this._$lightboxBodyOne=this._$lightboxContainer.find("> div:first-child").first(),this._$lightboxBodyTwo=this._$lightboxContainer.find("> div:last-child").first(),this._border=this._calculateBorders(),this._padding=this._calculatePadding(),this._galleryName=this._$element.data("gallery"),this._galleryName&&(this._$galleryItems=t(document.body).find('*[data-gallery="'+this._galleryName+'"]'),this._galleryIndex=this._$galleryItems.index(this._$element),t(document).on("keydown.ekkoLightbox",this._navigationalBinder.bind(this)),this._config.showArrows&&this._$galleryItems.length>1&&(this._$lightboxContainer.append('<div class="ekko-lightbox-nav-overlay"><a href="#">'+this._config.leftArrow+'</a><a href="#">'+this._config.rightArrow+"</a></div>"),this._$modalArrows=this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay").first(),this._$lightboxContainer.on("click","a:first-child",function(t){return t.preventDefault(),r.navigateLeft()}),this._$lightboxContainer.on("click","a:last-child",function(t){return t.preventDefault(),r.navigateRight()}),this.updateNavigation())),this._$modal.on("show.bs.modal",this._config.onShow.bind(this)).on("shown.bs.modal",function(){return r._toggleLoading(!0),r._handle(),r._config.onShown.call(r)}).on("hide.bs.modal",this._config.onHide.bind(this)).on("hidden.bs.modal",function(){return r._galleryName&&(t(document).off("keydown.ekkoLightbox"),t(window).off("resize.ekkoLightbox")),r._$modal.remove(),r._config.onHidden.call(r)}).modal(this._config),t(window).on("resize.ekkoLightbox",function(){r._resize(r._wantedWidth,r._wantedHeight)}),this._$lightboxContainer.on("touchstart",function(){r._touchstartX=event.changedTouches[0].screenX}).on("touchend",function(){r._touchendX=event.changedTouches[0].screenX,r._swipeGesure()})}return i(n,null,[{key:"Default",get:function(){return a}}]),i(n,[{key:"element",value:function(){return this._$element}},{key:"modal",value:function(){return this._$modal}},{key:"navigateTo",value:function(e){if(e<0||e>this._$galleryItems.length-1)return this;this._galleryIndex=e,this.updateNavigation(),this._$element=t(this._$galleryItems.get(this._galleryIndex)),this._handle()}},{key:"navigateLeft",value:function(){if(this._$galleryItems&&1!==this._$galleryItems.length){if(0===this._galleryIndex){if(!this._config.wrapping)return;this._galleryIndex=this._$galleryItems.length-1}else this._galleryIndex--;return this._config.onNavigate.call(this,"left",this._galleryIndex),this.navigateTo(this._galleryIndex)}}},{key:"navigateRight",value:function(){if(this._$galleryItems&&1!==this._$galleryItems.length){if(this._galleryIndex===this._$galleryItems.length-1){if(!this._config.wrapping)return;this._galleryIndex=0}else this._galleryIndex++;return this._config.onNavigate.call(this,"right",this._galleryIndex),this.navigateTo(this._galleryIndex)}}},{key:"updateNavigation",value:function(){if(!this._config.wrapping){var t=this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay");0===this._galleryIndex?t.find("a:first-child").addClass("disabled"):t.find("a:first-child").removeClass("disabled"),this._galleryIndex===this._$galleryItems.length-1?t.find("a:last-child").addClass("disabled"):t.find("a:last-child").removeClass("disabled")}}},{key:"close",value:function(){return this._$modal.modal("hide")}},{key:"_navigationalBinder",value:function(t){return t=t||window.event,39===t.keyCode?this.navigateRight():37===t.keyCode?this.navigateLeft():void 0}},{key:"_detectRemoteType",value:function(t,e){return e=e||!1,!e&&this._isImage(t)&&(e="image"),!e&&this._getYoutubeId(t)&&(e="youtube"),!e&&this._getVimeoId(t)&&(e="vimeo"),!e&&this._getInstagramId(t)&&(e="instagram"),(!e||["image","youtube","vimeo","instagram","video","url"].indexOf(e)<0)&&(e="url"),e}},{key:"_isImage",value:function(t){return t&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)}},{key:"_containerToUse",value:function(){var t=this,e=this._$lightboxBodyTwo,i=this._$lightboxBodyOne;return this._$lightboxBodyTwo.hasClass("in")&&(e=this._$lightboxBodyOne,i=this._$lightboxBodyTwo),i.removeClass("in show"),setTimeout(function(){t._$lightboxBodyTwo.hasClass("in")||t._$lightboxBodyTwo.empty(),t._$lightboxBodyOne.hasClass("in")||t._$lightboxBodyOne.empty()},500),e.addClass("in show"),e}},{key:"_handle",value:function(){var t=this._containerToUse();this._updateTitleAndFooter();var e=this._$element.attr("data-remote")||this._$element.attr("href"),i=this._detectRemoteType(e,this._$element.attr("data-type")||!1);if(["image","youtube","vimeo","instagram","video","url"].indexOf(i)<0)return this._error(this._config.strings.type);switch(i){case"image":this._preloadImage(e,t),this._preloadImageByIndex(this._galleryIndex,3);break;case"youtube":this._showYoutubeVideo(e,t);break;case"vimeo":this._showVimeoVideo(this._getVimeoId(e),t);break;case"instagram":this._showInstagramVideo(this._getInstagramId(e),t);break;case"video":this._showHtml5Video(e,t);break;default:this._loadRemoteContent(e,t)}return this}},{key:"_getYoutubeId",value:function(t){if(!t)return!1;var e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return!(!e||11!==e[2].length)&&e[2]}},{key:"_getVimeoId",value:function(t){return!!(t&&t.indexOf("vimeo")>0)&&t}},{key:"_getInstagramId",value:function(t){return!!(t&&t.indexOf("instagram")>0)&&t}},{key:"_toggleLoading",value:function(e){return e=e||!1,e?(this._$modalDialog.css("display","none"),this._$modal.removeClass("in show"),t(".modal-backdrop").append(this._config.loadingMessage)):(this._$modalDialog.css("display","block"),this._$modal.addClass("in show"),t(".modal-backdrop").find(".ekko-lightbox-loader").remove()),this}},{key:"_calculateBorders",value:function(){return{top:this._totalCssByAttribute("border-top-width"),right:this._totalCssByAttribute("border-right-width"),bottom:this._totalCssByAttribute("border-bottom-width"),left:this._totalCssByAttribute("border-left-width")}}},{key:"_calculatePadding",value:function(){return{top:this._totalCssByAttribute("padding-top"),right:this._totalCssByAttribute("padding-right"),bottom:this._totalCssByAttribute("padding-bottom"),left:this._totalCssByAttribute("padding-left")}}},{key:"_totalCssByAttribute",value:function(t){return parseInt(this._$modalDialog.css(t),10)+parseInt(this._$modalContent.css(t),10)+parseInt(this._$modalBody.css(t),10)}},{key:"_updateTitleAndFooter",value:function(){var t=this._$element.data("title")||"",e=this._$element.data("footer")||"";return this._titleIsShown=!1,t||this._config.alwaysShowClose?(this._titleIsShown=!0,this._$modalHeader.css("display","").find(".modal-title").html(t||"&nbsp;")):this._$modalHeader.css("display","none"),this._footerIsShown=!1,e?(this._footerIsShown=!0,this._$modalFooter.css("display","").html(e)):this._$modalFooter.css("display","none"),this}},{key:"_showYoutubeVideo",value:function(t,e){var i=this._getYoutubeId(t),n=t.indexOf("&")>0?t.substr(t.indexOf("&")):"",o=this._$element.data("width")||560,a=this._$element.data("height")||o/(560/315);return this._showVideoIframe("//www.youtube.com/embed/"+i+"?badge=0&autoplay=1&html5=1"+n,o,a,e)}},{key:"_showVimeoVideo",value:function(t,e){var i=this._$element.data("width")||500,n=this._$element.data("height")||i/(560/315);return this._showVideoIframe(t+"?autoplay=1",i,n,e)}},{key:"_showInstagramVideo",value:function(t,e){var i=this._$element.data("width")||612,n=i+80;return t="/"!==t.substr(-1)?t+"/":t,e.html('<iframe width="'+i+'" height="'+n+'" src="'+t+'embed/" frameborder="0" allowfullscreen></iframe>'),this._resize(i,n),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_showVideoIframe",value:function(t,e,i,n){return i=i||e,n.html('<div class="embed-responsive embed-responsive-16by9"><iframe width="'+e+'" height="'+i+'" src="'+t+'" frameborder="0" allowfullscreen class="embed-responsive-item"></iframe></div>'),this._resize(e,i),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_showHtml5Video",value:function(t,e){var i=this._$element.data("width")||560,n=this._$element.data("height")||i/(560/315)
;return e.html('<div class="embed-responsive embed-responsive-16by9"><video width="'+i+'" height="'+n+'" src="'+t+'" preload="auto" autoplay controls class="embed-responsive-item"></video></div>'),this._resize(i,n),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_loadRemoteContent",value:function(e,i){var n=this,o=this._$element.data("width")||560,a=this._$element.data("height")||560,r=this._$element.data("disableExternalCheck")||!1;return this._toggleLoading(!1),r||this._isExternal(e)?(i.html('<iframe src="'+e+'" frameborder="0" allowfullscreen></iframe>'),this._config.onContentLoaded.call(this)):i.load(e,t.proxy(function(){return n._$element.trigger("loaded.bs.modal")})),this._$modalArrows&&this._$modalArrows.css("display","none"),this._resize(o,a),this}},{key:"_isExternal",value:function(t){var e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof e[1]&&e[1].length>0&&e[1].toLowerCase()!==location.protocol||"string"==typeof e[2]&&e[2].length>0&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host}},{key:"_error",value:function(t){return console.error(t),this._containerToUse().html(t),this._resize(300,300),this}},{key:"_preloadImageByIndex",value:function(e,i){if(this._$galleryItems){var n=t(this._$galleryItems.get(e),!1);if(void 0!==n){var o=n.attr("data-remote")||n.attr("href");return("image"===n.attr("data-type")||this._isImage(o))&&this._preloadImage(o,!1),i>0?this._preloadImageByIndex(e+1,i-1):void 0}}}},{key:"_preloadImage",value:function(e,i){var n=this;i=i||!1;var o=new Image;return i&&function(){var a=setTimeout(function(){i.append(n._config.loadingMessage)},200);o.onload=function(){a&&clearTimeout(a),a=null;var e=t("<img />");return e.attr("src",o.src),e.addClass("img-fluid"),e.css("width","100%"),i.html(e),n._$modalArrows&&n._$modalArrows.css("display",""),n._resize(o.width,o.height),n._toggleLoading(!1),n._config.onContentLoaded.call(n)},o.onerror=function(){return n._toggleLoading(!1),n._error(n._config.strings.fail+"  "+e)}}(),o.src=e,o}},{key:"_swipeGesure",value:function(){return this._touchendX<this._touchstartX?this.navigateRight():this._touchendX>this._touchstartX?this.navigateLeft():void 0}},{key:"_resize",value:function(e,i){i=i||e,this._wantedWidth=e,this._wantedHeight=i;var n=e/i,o=this._padding.left+this._padding.right+this._border.left+this._border.right,a=this._config.doc.body.clientWidth>575?20:0,r=this._config.doc.body.clientWidth>575?0:20,s=Math.min(e+o,this._config.doc.body.clientWidth-a,this._config.maxWidth);e+o>s?(i=(s-o-r)/n,e=s):e+=o;var l=0,d=0;this._footerIsShown&&(d=this._$modalFooter.outerHeight(!0)||55),this._titleIsShown&&(l=this._$modalHeader.outerHeight(!0)||67);var h=this._padding.top+this._padding.bottom+this._border.bottom+this._border.top,u=parseFloat(this._$modalDialog.css("margin-top"))+parseFloat(this._$modalDialog.css("margin-bottom")),c=Math.min(i,t(window).height()-h-u-l-d,this._config.maxHeight-h-l-d);i>c&&(e=Math.ceil(c*n)+o),this._$lightboxContainer.css("height",c),this._$modalDialog.css("flex",1).css("maxWidth",e);var f=this._$modal.data("bs.modal");if(f)try{f._handleUpdate()}catch(t){f.handleUpdate()}return this}}],[{key:"_jQueryInterface",value:function(e){var i=this;return e=e||{},this.each(function(){var o=t(i),a=t.extend({},n.Default,o.data(),"object"==typeof e&&e);new n(i,a)})}}]),n}();t.fn[n]=r._jQueryInterface,t.fn[n].Constructor=r,t.fn[n].noConflict=function(){return t.fn[n]=o,r._jQueryInterface}}(jQuery)}(jQuery),function(t){function e(t,e,o){var a=t[0],r=/er/.test(o)?g:/bl/.test(o)?f:u,s=o==m?{checked:a[u],disabled:a[f],indeterminate:"true"==t.attr(g)||"false"==t.attr(p)}:a[r];if(/^(ch|di|in)/.test(o)&&!s)i(t,r);else if(/^(un|en|de)/.test(o)&&s)n(t,r);else if(o==m)for(var l in s)s[l]?i(t,l,!0):n(t,l,!0);else e&&"toggle"!=o||(e||t[w]("ifClicked"),s?a[v]!==h&&n(t,r):i(t,r))}function i(e,i,o){var m=e[0],b=e.parent(),w=i==u,_=i==g,C=i==f,M=_?p:w?c:"enabled",D=a(e,M+r(m[v])),S=a(e,i+r(m[v]));if(!0!==m[i]){if(!o&&i==u&&m[v]==h&&m.name){var T=e.closest("form"),F='input[name="'+m.name+'"]';F=T.length?T.find(F):t(F),F.each(function(){this!==m&&t(this).data(l)&&n(t(this),i)})}_?(m[i]=!0,m[u]&&n(e,u,"force")):(o||(m[i]=!0),w&&m[g]&&n(e,g,!1)),s(e,w,i,o)}m[f]&&a(e,k,!0)&&b.find("."+d).css(k,"default"),b[y](S||a(e,i)||""),b.attr("role")&&!_&&b.attr("aria-"+(C?f:u),"true"),b[x](D||a(e,M)||"")}function n(t,e,i){var n=t[0],o=t.parent(),l=e==u,h=e==g,m=e==f,b=h?p:l?c:"enabled",w=a(t,b+r(n[v])),_=a(t,e+r(n[v]));!1!==n[e]&&(!h&&i&&"force"!=i||(n[e]=!1),s(t,l,b,i)),!n[f]&&a(t,k,!0)&&o.find("."+d).css(k,"pointer"),o[x](_||a(t,e)||""),o.attr("role")&&!h&&o.attr("aria-"+(m?f:u),"false"),o[y](w||a(t,b)||"")}function o(e,i){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),i&&e[w](i),e.off(".i").unwrap(),t(_+'[for="'+e[0].id+'"]').add(e.closest(_)).off(".i"))}function a(t,e,i){if(t.data(l))return t.data(l).o[e+(i?"":"Class")]}function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t,e,i,n){n||(e&&t[w]("ifToggled"),t[w]("ifChanged")[w]("if"+r(i)))}var l="iCheck",d=l+"-helper",h="radio",u="checked",c="un"+u,f="disabled",p="determinate",g="in"+p,m="update",v="type",b="touchbegin.i touchend.i",y="addClass",x="removeClass",w="trigger",_="label",k="cursor",C=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);t.fn[l]=function(a,r){var s='input[type="checkbox"], input[type="'+h+'"]',c=t(),p=function(e){e.each(function(){var e=t(this);c=e.is(s)?c.add(e):c.add(e.find(s))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(a))return a=a.toLowerCase(),p(this),c.each(function(){var i=t(this);"destroy"==a?o(i,"ifDestroyed"):e(i,!0,a),t.isFunction(r)&&r()});if("object"!=typeof a&&a)return this;var k=t.extend({checkedClass:u,disabledClass:f,indeterminateClass:g,labelHover:!0},a),M=k.handle,D=k.hoverClass||"hover",S=k.focusClass||"focus",T=k.activeClass||"active",F=!!k.labelHover,A=k.labelHoverClass||"hover",I=0|(""+k.increaseArea).replace("%","");return"checkbox"!=M&&M!=h||(s='input[type="'+M+'"]'),I<-50&&(I=-50),p(this),c.each(function(){var a=t(this);o(a);var r,s=this,c=s.id,p=-I+"%",g=100+2*I+"%",M={position:"absolute",top:p,left:p,display:"block",width:g,height:g,margin:0,padding:0,background:"#fff",border:0,opacity:0},P=C?{position:"absolute",visibility:"hidden"}:I?M:{position:"absolute",opacity:0},E="checkbox"==s[v]?k.checkboxClass||"icheckbox":k.radioClass||"i"+h,O=t(_+'[for="'+c+'"]').add(a.closest(_)),L=!!k.aria,R=l+"-"+Math.random().toString(36).substr(2,6),V='<div class="'+E+'" '+(L?'role="'+s[v]+'" ':"");L&&O.each(function(){V+='aria-labelledby="',this.id?V+=this.id:(this.id=R,V+=R),V+='"'}),V=a.wrap(V+"/>")[w]("ifCreated").parent().append(k.insert),r=t('<ins class="'+d+'"/>').css(M).appendTo(V),a.data(l,{o:k,s:a.attr("style")}).css(P),!!k.inheritClass&&V[y](s.className||""),!!k.inheritID&&c&&V.attr("id",l+"-"+c),"static"==V.css("position")&&V.css("position","relative"),e(a,!0,m),O.length&&O.on("click.i mouseover.i mouseout.i "+b,function(i){var n=i[v],o=t(this);if(!s[f]){if("click"==n){if(t(i.target).is("a"))return;e(a,!1,!0)}else F&&(/ut|nd/.test(n)?(V[x](D),o[x](A)):(V[y](D),o[y](A)));if(!C)return!1;i.stopPropagation()}}),a.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[v],o=t.keyCode;return"click"!=e&&("keydown"==e&&32==o?(s[v]==h&&s[u]||(s[u]?n(a,u):i(a,u)),!1):void("keyup"==e&&s[v]==h?!s[u]&&i(a,u):/us|ur/.test(e)&&V["blur"==e?x:y](S)))}),r.on("click mousedown mouseup mouseover mouseout "+b,function(t){var i=t[v],n=/wn|up/.test(i)?T:D;if(!s[f]){if("click"==i?e(a,!1,!0):(/wn|er|in/.test(i)?V[y](n):V[x](n+" "+T),O.length&&F&&n==D&&O[/ut|nd/.test(i)?x:y](A)),!C)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(t){function e(t){for(var e,i,n=t.length;n;e=parseInt(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}function i(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var n=[],o=[],a=[],r=[],s=null,l={init:function(e,i){for(var d=t.extend({bind:"click",passwordElement:null,displayElement:null,passwordLength:16,uppercase:!0,lowercase:!0,numbers:!0,specialChars:!0,additionalSpecialChars:[],onPasswordGenerated:function(t){}},e),h=48;h<58;h++)n.push(h);for(h=65;h<91;h++)o.push(h);for(h=97;h<123;h++)a.push(h);return r=[33,35,64,36,38,42,91,93,123,125,92,47,63,58,59,95,45].concat(d.additionalSpecialChars),this.each(function(){s=t(this),s.bind(d.bind,function(t){t.preventDefault(),l.generatePassword(d)})})},generatePassword:function(s){var l=new Array,d=s.uppercase+s.lowercase+s.numbers+s.specialChars,h=0,u=new Array,c=Math.floor(s.passwordLength/d);if(s.uppercase){for(var f=0;f<c;f++)l.push(String.fromCharCode(o[i(0,o.length-1)]));u=u.concat(o),h++}if(s.numbers){for(var f=0;f<c;f++)l.push(String.fromCharCode(n[i(0,n.length-1)]));u=u.concat(n),h++}if(s.specialChars){for(var f=0;f<c;f++)l.push(String.fromCharCode(r[i(0,r.length-1)]));u=u.concat(r),h++}var p=s.passwordLength-h*c;if(s.lowercase)for(var f=0;f<p;f++)l.push(String.fromCharCode(a[i(0,a.length-1)]));else for(var f=0;f<p;f++)l.push(String.fromCharCode(u[i(0,u.length-1)]));l=e(l).join(""),null!==s.passwordElement&&t(s.passwordElement).val(l),null!==s.displayElement&&(t(s.displayElement).is("input")?t(s.displayElement).val(l):t(s.displayElement).text(l)),s.onPasswordGenerated(l)}};t.fn.pGenerator=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.pGenerator"):l.init.apply(this,arguments)}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(function(){try{return require("moment")}catch(t){}}()):"function"==typeof define&&define.amd?define(["require"],function(t){return e(function(){try{return t("moment")}catch(t){}}())}):t.Chart=e(t.moment)}(this,function(t){"use strict";function e(t){var e,i,n,o=t[0]/255,a=t[1]/255,r=t[2]/255,s=Math.min(o,a,r),l=Math.max(o,a,r),d=l-s;return l==s?e=0:o==l?e=(a-r)/d:a==l?e=2+(r-o)/d:r==l&&(e=4+(o-a)/d),e=Math.min(60*e,360),e<0&&(e+=360),n=(s+l)/2,i=l==s?0:n<=.5?d/(l+s):d/(2-l-s),[e,100*i,100*n]}function i(t){var e,i,n,o=t[0],a=t[1],r=t[2],s=Math.min(o,a,r),l=Math.max(o,a,r),d=l-s;return i=0==l?0:d/l*1e3/10,l==s?e=0:o==l?e=(a-r)/d:a==l?e=2+(r-o)/d:r==l&&(e=4+(o-a)/d),e=Math.min(60*e,360),e<0&&(e+=360),n=l/255*1e3/10,[e,i,n]}function n(t){var i=t[0],n=t[1],o=t[2],a=e(t)[0],r=1/255*Math.min(i,Math.min(n,o)),o=1-1/255*Math.max(i,Math.max(n,o));return[a,100*r,100*o]}function o(t){var e,i,n,o,a=t[0]/255,r=t[1]/255,s=t[2]/255;return o=Math.min(1-a,1-r,1-s),e=(1-a-o)/(1-o)||0,i=(1-r-o)/(1-o)||0,n=(1-s-o)/(1-o)||0,[100*e,100*i,100*n,100*o]}function a(t){return ni[JSON.stringify(t)]}function s(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,[100*(.4124*e+.3576*i+.1805*n),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]}function l(t){var e,i,n,o=s(t),a=o[0],r=o[1],l=o[2];return a/=95.047,r/=100,l/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*r-16,i=500*(a-r),n=200*(r-l),[e,i,n]}function d(t){return R(l(t))}function h(t){var e,i,n,o,a,r=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return a=255*l,[a,a,a];i=l<.5?l*(1+s):l+s-l*s,e=2*l-i,o=[0,0,0];for(var d=0;d<3;d++)n=r+1/3*-(d-1),n<0&&n++,n>1&&n--,a=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,o[d]=255*a;return o}function u(t){var e,i,n=t[0],o=t[1]/100,a=t[2]/100;return 0===a?[0,0,0]:(a*=2,o*=a<=1?a:2-a,i=(a+o)/2,e=2*o/(a+o),[n,100*e,100*i])}function c(t){return n(h(t))}function f(t){return o(h(t))}function p(t){return a(h(t))}function m(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,a=e-Math.floor(e),r=255*n*(1-i),s=255*n*(1-i*a),l=255*n*(1-i*(1-a)),n=255*n;switch(o){case 0:return[n,l,r];case 1:return[s,n,r];case 2:return[r,n,l];case 3:return[r,s,n];case 4:return[l,r,n];case 5:return[n,r,s]}}function v(t){var e,i,n=t[0],o=t[1]/100,a=t[2]/100;return i=(2-o)*a,e=o*a,e/=i<=1?i:2-i,e=e||0,i/=2,[n,100*e,100*i]}function y(t){return n(m(t))}function x(t){return o(m(t))}function w(t){return a(m(t))}function _(t){var e,i,n,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,d=s+l;switch(d>1&&(s/=d,l/=d),e=Math.floor(6*a),i=1-l,n=6*a-e,0!=(1&e)&&(n=1-n),o=s+n*(i-s),e){default:case 6:case 0:r=i,g=o,b=s;break;case 1:r=o,g=i,b=s;break;case 2:r=s,g=i,b=o;break;case 3:r=s,g=o,b=i;break;case 4:r=o,g=s,b=i;break;case 5:r=i,g=s,b=o}return[255*r,255*g,255*b]}function k(t){return e(_(t))}function C(t){return i(_(t))}function M(t){return o(_(t))}function D(t){return a(_(t))}function S(t){var e,i,n,o=t[0]/100,a=t[1]/100,r=t[2]/100,s=t[3]/100;return e=1-Math.min(1,o*(1-s)+s),i=1-Math.min(1,a*(1-s)+s),n=1-Math.min(1,r*(1-s)+s),[255*e,255*i,255*n]}function T(t){return e(S(t))}function F(t){return i(S(t))}function A(t){return n(S(t))}function I(t){return a(S(t))}function P(t){var e,i,n,o=t[0]/100,a=t[1]/100,r=t[2]/100;return e=3.2406*o+-1.5372*a+-.4986*r,i=-.9689*o+1.8758*a+.0415*r,n=.0557*o+-.204*a+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),n=Math.min(Math.max(0,n),1),[255*e,255*i,255*n]}function E(t){var e,i,n,o=t[0],a=t[1],r=t[2];return o/=95.047,a/=100,r/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*a-16,i=500*(o-a),n=200*(a-r),[e,i,n]}function O(t){return R(E(t))}function L(t){var e,i,n,o,a=t[0],r=t[1],s=t[2];return a<=8?(i=100*a/903.3,o=i/100*7.787+16/116):(i=100*Math.pow((a+16)/116,3),o=Math.pow(i/100,1/3)),e=e/95.047<=.008856?e=95.047*(r/500+o-16/116)/7.787:95.047*Math.pow(r/500+o,3),n=n/108.883<=.008859?n=108.883*(o-s/200-16/116)/7.787:108.883*Math.pow(o-s/200,3),[e,i,n]}function R(t){var e,i,n,o=t[0],a=t[1],r=t[2];return e=Math.atan2(r,a),i=360*e/2/Math.PI,i<0&&(i+=360),n=Math.sqrt(a*a+r*r),[o,n,i]}function V(t){return P(L(t))}function U(t){var e,i,n,o=t[0],a=t[1],r=t[2];return n=r/360*2*Math.PI,e=a*Math.cos(n),i=a*Math.sin(n),[o,e,i]}function B(t){return L(U(t))}function z(t){return V(U(t))}function N(t){return ii[t]}function W(t){return e(N(t))}function H(t){return i(N(t))}function j(t){return n(N(t))}function q(t){return o(N(t))}function $(t){return l(N(t))}function Y(t){return s(N(t))}function X(t){if(t){var e=/^#([a-fA-F0-9]{3,4})$/i,i=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,a=/(\w+)/,r=[0,0,0],s=1,l=t.match(e),d="";if(l){l=l[1],d=l[3];for(var h=0;h<r.length;h++)r[h]=parseInt(l[h]+l[h],16);d&&(s=Math.round(parseInt(d+d,16)/255*100)/100)}else if(l=t.match(i)){d=l[2],l=l[1];for(var h=0;h<r.length;h++)r[h]=parseInt(l.slice(2*h,2*h+2),16);d&&(s=Math.round(parseInt(d,16)/255*100)/100)}else if(l=t.match(n)){for(var h=0;h<r.length;h++)r[h]=parseInt(l[h+1]);s=parseFloat(l[4])}else if(l=t.match(o)){for(var h=0;h<r.length;h++)r[h]=Math.round(2.55*parseFloat(l[h+1]));s=parseFloat(l[4])}else if(l=t.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(r=ci[l[1]]))return}for(var h=0;h<r.length;h++)r[h]=dt(r[h],0,255);return s=s||0==s?dt(s,0,1):1,r[3]=s,r}}function K(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]);return[dt(parseInt(i[1]),0,360),dt(parseFloat(i[2]),0,100),dt(parseFloat(i[3]),0,100),dt(isNaN(n)?1:n,0,1)]}}}function G(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]);return[dt(parseInt(i[1]),0,360),dt(parseFloat(i[2]),0,100),dt(parseFloat(i[3]),0,100),dt(isNaN(n)?1:n,0,1)]}}}function Q(t){var e=X(t);return e&&e.slice(0,3)}function Z(t){var e=K(t);return e&&e.slice(0,3)}function J(t){var e=X(t);return e?e[3]:(e=K(t))?e[3]:(e=G(t))?e[3]:void 0}function tt(t,e){var e=void 0!==e&&3===t.length?e:t[3];return"#"+ht(t[0])+ht(t[1])+ht(t[2])+(e>=0&&e<1?ht(Math.round(255*e)):"")}function et(t,e){return e<1||t[3]&&t[3]<1?it(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function it(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function nt(t,e){return e<1||t[3]&&t[3]<1?ot(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function ot(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function at(t,e){return e<1||t[3]&&t[3]<1?rt(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function rt(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function st(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function lt(t){return pi[t.slice(0,3)]}function dt(t,e,i){return Math.min(Math.max(e,t),i)}function ht(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}function ut(t){return!t||yi.isNullOrUndef(t.size)||yi.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ct(t,e,i,n){var o,a,r,s,l,d,h,u,c,f=Object.keys(i);for(o=0,a=f.length;o<a;++o)if(r=f[o],d=i[r],e.hasOwnProperty(r)||(e[r]=d),(s=e[r])!==d&&"_"!==r[0]){if(t.hasOwnProperty(r)||(t[r]=s),l=t[r],(h=typeof d)===typeof l)if("string"===h){if(u=vi(l),u.valid&&(c=vi(d),c.valid)){e[r]=c.mix(u,n).rgbString();continue}}else if(Oi.isFinite(l)&&Oi.isFinite(d)){e[r]=l+(d-l)*n;continue}e[r]=d}}function ft(t,e){if(t._chartjs)return void t._chartjs.listeners.push(e);Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ji.forEach(function(e){var i="onData"+e.charAt(0).toUpperCase()+e.slice(1),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),o=n.apply(this,e);return Oi.each(t._chartjs.listeners,function(t){"function"==typeof t[i]&&t[i].apply(t,e)}),o}})})}function pt(t,e){var i=t._chartjs;if(i){var n=i.listeners,o=n.indexOf(e);-1!==o&&n.splice(o,1),n.length>0||(ji.forEach(function(e){delete t[e]}),delete t._chartjs)}}function gt(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function mt(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius}function vt(t){return t&&void 0!==t.width}function bt(t){var e,i,n,o,a;return vt(t)?(a=t.width/2,e=t.x-a,i=t.x+a,n=Math.min(t.y,t.base),o=Math.max(t.y,t.base)):(a=t.height/2,e=Math.min(t.x,t.base),i=Math.max(t.x,t.base),n=t.y-a,o=t.y+a),{left:e,top:n,right:i,bottom:o}}function yt(t,e,i){return t===e?i:t===i?e:t}function xt(t){var e=t.borderSkipped,i={};return e?(t.horizontal?t.base>t.x&&(e=yt(e,"left","right")):t.base<t.y&&(e=yt(e,"bottom","top")),i[e]=!0,i):i}function wt(t,e,i){var n,o,a,r,s=t.borderWidth,l=xt(t);return Oi.isObject(s)?(n=+s.top||0,o=+s.right||0,a=+s.bottom||0,r=+s.left||0):n=o=a=r=+s||0,{t:l.top||n<0?0:n>i?i:n,r:l.right||o<0?0:o>e?e:o,b:l.bottom||a<0?0:a>i?i:a,l:l.left||r<0?0:r>e?e:r}}function _t(t){var e=bt(t),i=e.right-e.left,n=e.bottom-e.top,o=wt(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n},inner:{x:e.left+o.l,y:e.top+o.t,w:i-o.l-o.r,h:n-o.t-o.b}}}function kt(t,e,i){var n=null===e,o=null===i,a=!(!t||n&&o)&&bt(t);return a&&(n||e>=a.left&&e<=a.right)&&(o||i>=a.top&&i<=a.bottom)}function Ct(t,e){var i,n,o,a,r=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(o=1,a=e.length;o<a;++o)r=Math.min(r,Math.abs(e[o]-e[o-1]));for(o=0,a=s.length;o<a;++o)n=t.getPixelForTick(o),r=o>0?Math.min(r,n-i):r,i=n;return r}function Mt(t,e,i){var n,o,a=i.barThickness,r=e.stackCount,s=e.pixels[t];return Oi.isNullOrUndef(a)?(n=e.min*i.categoryPercentage,o=i.barPercentage):(n=a*r,o=1),{chunk:n/r,ratio:o,start:s-n/2}}function Dt(t,e,i){var n,o,a=e.pixels,r=a[t],s=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null,d=i.categoryPercentage;return null===s&&(s=r-(null===l?e.end-e.start:l-r)),null===l&&(l=r+r-s),n=r-(r-Math.min(s,l))/2*d,o=Math.abs(l-s)/2*d,{chunk:o/e.stackCount,ratio:i.barPercentage,start:n}}function St(t,e){return vn(t.showLine,e.showLines)}function Tt(t,e){return t.native?{x:t.x,y:t.y}:Oi.getRelativePosition(t,e)}function Ft(t,e){var i,n,o,a,r,s=t.data.datasets;for(n=0,a=s.length;n<a;++n)if(t.isDatasetVisible(n))for(i=t.getDatasetMeta(n),o=0,r=i.data.length;o<r;++o){var l=i.data[o];l._view.skip||e(l)}}function At(t,e){var i=[];return Ft(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function It(t,e,i,n){var o=Number.POSITIVE_INFINITY,a=[];return Ft(t,function(t){if(!i||t.inRange(e.x,e.y)){var r=t.getCenterPoint(),s=n(e,r);s<o?(a=[t],o=s):s===o&&a.push(t)}}),a}function Pt(t){var e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){var o=e?Math.abs(t.x-n.x):0,a=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Et(t,e,i){var n=Tt(e,t);i.axis=i.axis||"x";var o=Pt(i.axis),a=i.intersect?At(t,n):It(t,n,!1,o),r=[];return a.length?(t.data.datasets.forEach(function(e,i){if(t.isDatasetVisible(i)){var n=t.getDatasetMeta(i),o=n.data[a[0]._index];o&&!o._view.skip&&r.push(o)}}),r):[]}function Ot(t,e){return Oi.where(t,function(t){return t.position===e})}function Lt(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,i){var n=e?i:t,o=e?t:i;return n.weight===o.weight?n._tmpIndex_-o._tmpIndex_:n.weight-o.weight}),t.forEach(function(t){delete t._tmpIndex_})}function Rt(t){var e=0,i=0,n=0,o=0;return Oi.each(t,function(t){if(t.getPadding){var a=t.getPadding();e=Math.max(e,a.top),i=Math.max(i,a.left),n=Math.max(n,a.bottom),o=Math.max(o,a.right)}}),{top:e,left:i,bottom:n,right:o}}function Vt(t,e){Oi.each(t,function(t){e[t.position]+=t.isHorizontal()?t.height:t.width})}function Ut(t,e){var i=Oi.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}function Bt(t,e){var i=t.style,n=t.getAttribute("height"),o=t.getAttribute("width");if(t[On]={initial:{height:n,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===o||""===o){var a=Ut(t,"width");void 0!==a&&(t.width=a)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var r=Ut(t,"height");void 0!==a&&(t.height=r)}return t}function zt(t,e,i){t.addEventListener(e,i,Nn)}function Nt(t,e,i){t.removeEventListener(e,i,Nn)}function Wt(t,e,i,n,o){return{type:t,chart:e,native:o||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}function Ht(t,e){var i=Bn[t.type]||t.type,n=Oi.getRelativePosition(t,e);return Wt(i,e,n.x,n.y,t)}function jt(t,e){var i=!1,n=[];return function(){n=Array.prototype.slice.call(arguments),e=e||this,i||(i=!0,Oi.requestAnimFrame.call(window,function(){i=!1,t.apply(e,n)}))}}function qt(t){var e=document.createElement("div");return e.className=t||"",e}function $t(t){var e=qt(Ln),i=qt(Ln+"-expand"),n=qt(Ln+"-shrink");i.appendChild(qt()),n.appendChild(qt()),e.appendChild(i),e.appendChild(n),e._reset=function(){i.scrollLeft=1e6,i.scrollTop=1e6,n.scrollLeft=1e6,n.scrollTop=1e6};var o=function(){e._reset(),t()};return zt(i,"scroll",o.bind(i,"expand")),zt(n,"scroll",o.bind(n,"shrink")),e}function Yt(t,e){var i=t[On]||(t[On]={}),n=i.renderProxy=function(t){t.animationName===Vn&&e()};Oi.each(Un,function(e){zt(t,e,n)}),i.reflow=!!t.offsetParent,t.classList.add(Rn)}function Xt(t){var e=t[On]||{},i=e.renderProxy;i&&(Oi.each(Un,function(e){Nt(t,e,i)}),delete e.renderProxy),t.classList.remove(Rn)}function Kt(t,e,i){var n=t[On]||(t[On]={}),o=n.resizer=$t(jt(function(){if(n.resizer){var o=i.options.maintainAspectRatio&&t.parentNode,a=o?o.clientWidth:0;e(Wt("resize",i)),o&&o.clientWidth<a&&i.canvas&&e(Wt("resize",i))}}));Yt(t,function(){if(n.resizer){var e=t.parentNode;e&&e!==o.parentNode&&e.insertBefore(o,e.firstChild),o._reset()}})}function Gt(t){var e=t[On]||{},i=e.resizer;delete e.resizer,Xt(t),i&&i.parentNode&&i.parentNode.removeChild(i)}function Qt(t,e){var i=t._style||document.createElement("style");t._style||(t._style=i,e="/* Chart.js */\n"+e,i.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(i)),i.appendChild(document.createTextNode(e))}function Zt(t,e){return e&&(Oi.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Jt(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function te(t){var e=t._xScale,i=t._yScale||t._scale,n=t._index,o=t._datasetIndex,a=t._chart.getDatasetMeta(o).controller,r=a._getIndexScale(),s=a._getValueScale();return{xLabel:e?e.getLabelForIndex(n,o):"",yLabel:i?i.getLabelForIndex(n,o):"",label:r?""+r.getLabelForIndex(n,o):"",value:s?""+s.getLabelForIndex(n,o):"",index:n,datasetIndex:o,x:t._model.x,y:t._model.y}}function ee(t){var e=Ii.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Yn(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Yn(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Yn(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Yn(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Yn(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Yn(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Yn(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Yn(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Yn(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function ie(t,e){var i=t._chart.ctx,n=2*e.yPadding,o=0,a=e.body,r=a.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);r+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,d=e.titleFontSize,h=e.bodyFontSize,u=e.footerFontSize;n+=s*d,n+=s?(s-1)*e.titleSpacing:0,n+=s?e.titleMarginBottom:0,n+=r*h,n+=r?(r-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*u,n+=l?(l-1)*e.footerSpacing:0;var c=0,f=function(t){o=Math.max(o,i.measureText(t).width+c)};return i.font=Oi.fontString(d,e._titleFontStyle,e._titleFontFamily),Oi.each(e.title,f),i.font=Oi.fontString(h,e._bodyFontStyle,e._bodyFontFamily),Oi.each(e.beforeBody.concat(e.afterBody),f),c=e.displayColors?h+2:0,Oi.each(a,function(t){Oi.each(t.before,f),Oi.each(t.lines,f),Oi.each(t.after,f)}),c=0,i.font=Oi.fontString(u,e._footerFontStyle,e._footerFontFamily),Oi.each(e.footer,f),o+=2*e.xPadding,{width:o,height:n}}function ne(t,e){var i=t._model,n=t._chart,o=t._chart.chartArea,a="center",r="center";i.y<e.height?r="top":i.y>n.height-e.height&&(r="bottom");var s,l,d,h,u,c=(o.left+o.right)/2,f=(o.top+o.bottom)/2;"center"===r?(s=function(t){return t<=c},l=function(t){return t>c}):(s=function(t){return t<=e.width/2},l=function(t){return t>=n.width-e.width/2}),d=function(t){return t+e.width+i.caretSize+i.caretPadding>n.width},h=function(t){return t-e.width-i.caretSize-i.caretPadding<0},u=function(t){return t<=f?"top":"bottom"},s(i.x)?(a="left",d(i.x)&&(a="center",r=u(i.y))):l(i.x)&&(a="right",h(i.x)&&(a="center",r=u(i.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:a,yAlign:p.yAlign?p.yAlign:r}}function oe(t,e,i,n){var o=t.x,a=t.y,r=t.caretSize,s=t.caretPadding,l=t.cornerRadius,d=i.xAlign,h=i.yAlign,u=r+s,c=l+s;return"right"===d?o-=e.width:"center"===d&&(o-=e.width/2,o+e.width>n.width&&(o=n.width-e.width),o<0&&(o=0)),"top"===h?a+=u:a-="bottom"===h?e.height+u:e.height/2,"center"===h?"left"===d?o+=u:"right"===d&&(o-=u):"left"===d?o-=c:"right"===d&&(o+=c),{x:o,y:a}}function ae(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function re(t){return Zt([],Jt(t))}function se(){return Oi.merge({},[].slice.call(arguments),{merger:function(t,e,i,n){if("xAxes"===t||"yAxes"===t){var o,a,r,s=i[t].length;for(e[t]||(e[t]=[]),o=0;o<s;++o)r=i[t][o],a=Zn(r.type,"xAxes"===t?"category":"linear"),o>=e[t].length&&e[t].push({}),!e[t][o].type||r.type&&r.type!==e[t][o].type?Oi.merge(e[t][o],[$n.getScaleDefaults(a),r]):Oi.merge(e[t][o],r)}else Oi._merger(t,e,i,n)}})}function le(){return Oi.merge({},[].slice.call(arguments),{merger:function(t,e,i,n){var o=e[t]||{},a=i[t];"scales"===t?e[t]=se(o,a):"scale"===t?e[t]=Oi.merge(o,[$n.getScaleDefaults(a.type),a]):Oi._merger(t,e,i,n)}})}function de(t){t=t||{};var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=le(Ii.global,Ii[t.type],t.options||{}),t}function he(t){var e=t.options;Oi.each(t.scales,function(e){An.removeBox(t,e)}),e=le(Ii.global,Ii[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function ue(t){return"top"===t||"bottom"===t}function ce(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function fe(t){this.options=t||{}}function pe(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(t[e].label);return n}function ge(t,e,i){var n=t.getPixelForTick(e);return i&&(1===t.getTicks().length?n-=t.isHorizontal()?Math.max(n-t.left,t.right-n):Math.max(n-t.top,t.bottom-n):n-=0===e?(t.getPixelForTick(1)-n)/2:(n-t.getPixelForTick(e-1))/2),n}function me(t,e,i){return Oi.isArray(e)?Oi.longestText(t,i,e):t.measureText(e).width}function ve(t,e){var i,n,o,a,r=[],s=t.stepSize,l=s||1,d=t.maxTicks-1,h=t.min,u=t.max,c=t.precision,f=e.min,p=e.max,g=Oi.niceNum((p-f)/d/l)*l;if(g<1e-14&&co(h)&&co(u))return[f,p];a=Math.ceil(p/g)-Math.floor(f/g),a>d&&(g=Oi.niceNum(a*g/d/l)*l),s||co(c)?i=Math.pow(10,Oi._decimalPlaces(g)):(i=Math.pow(10,c),g=Math.ceil(g*i)/i),n=Math.floor(f/g)*g,o=Math.ceil(p/g)*g,s&&(!co(h)&&Oi.almostWhole(h/g,g/1e3)&&(n=h),!co(u)&&Oi.almostWhole(u/g,g/1e3)&&(o=u)),a=(o-n)/g,a=Oi.almostEquals(a,Math.round(a),g/1e3)?Math.round(a):Math.ceil(a),n=Math.round(n*i)/i,o=Math.round(o*i)/i,r.push(co(h)?n:h);for(var m=1;m<a;++m)r.push(Math.round((n+m*g)*i)/i);return r.push(co(u)?o:u),r}function be(t,e){var i,n,o=[],a=vo(t.min,Math.pow(10,Math.floor(Oi.log10(e.min)))),r=Math.floor(Oi.log10(e.max)),s=Math.ceil(e.max/Math.pow(10,r));0===a?(i=Math.floor(Oi.log10(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),o.push(a),a=n*Math.pow(10,i)):(i=Math.floor(Oi.log10(a)),n=Math.floor(a/Math.pow(10,i)));var l=i<0?Math.pow(10,Math.abs(i)):1;do{o.push(a),++n,10===n&&(n=1,++i,l=i>=0?1:l),a=Math.round(n*Math.pow(10,i)*l)/l}while(i<r||i===r&&n<s);var d=vo(t.max,a);return o.push(d),o}function ye(t,e){return Oi.isFinite(t)&&t>=0?t:e}function xe(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function we(t){var e=t.ticks;return e.display&&t.display?wo(e.fontSize,Ii.global.defaultFontSize)+2*e.backdropPaddingY:0}function _e(t,e,i){return Oi.isArray(i)?{w:Oi.longestText(t,t.font,i),h:i.length*e}:{w:t.measureText(i).width,h:e}}function ke(t,e,i,n,o){return t===n||t===o?{start:e-i/2,end:e+i/2}:t<n||t>o?{start:e-i,end:e}:{start:e,end:e+i}}function Ce(t){var e,i,n,o=Oi.options._parseFont(t.options.pointLabels),a={l:0,r:t.width,t:0,b:t.height-t.paddingTop},r={};t.ctx.font=o.string,t._pointLabelSizes=[];var s=xe(t);for(e=0;e<s;e++){
n=t.getPointPosition(e,t.drawingArea+5),i=_e(t.ctx,o.lineHeight,t.pointLabels[e]||""),t._pointLabelSizes[e]=i;var l=t.getIndexAngle(e),d=Oi.toDegrees(l)%360,h=ke(d,n.x,i.w,0,180),u=ke(d,n.y,i.h,90,270);h.start<a.l&&(a.l=h.start,r.l=l),h.end>a.r&&(a.r=h.end,r.r=l),u.start<a.t&&(a.t=u.start,r.t=l),u.end>a.b&&(a.b=u.end,r.b=l)}t.setReductions(t.drawingArea,a,r)}function Me(t){return 0===t||180===t?"center":t<180?"left":"right"}function De(t,e,i,n){var o,a,r=i.y+n/2;if(Oi.isArray(e))for(o=0,a=e.length;o<a;++o)t.fillText(e[o],i.x,r),r+=n;else t.fillText(e,i.x,r)}function Se(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function Te(t){var e=t.ctx,i=t.options,n=i.angleLines,o=i.gridLines,a=i.pointLabels,r=wo(n.lineWidth,o.lineWidth),s=wo(n.color,o.color),l=we(i);e.save(),e.lineWidth=r,e.strokeStyle=s,e.setLineDash&&(e.setLineDash(ko([n.borderDash,o.borderDash,[]])),e.lineDashOffset=ko([n.borderDashOffset,o.borderDashOffset,0]));var d=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),h=Oi.options._parseFont(a);e.font=h.string,e.textBaseline="middle";for(var u=xe(t)-1;u>=0;u--){if(n.display&&r&&s){var c=t.getPointPosition(u,d);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(c.x,c.y),e.stroke()}if(a.display){var f=0===u?l/2:0,p=t.getPointPosition(u,d+f+5),g=_o(a.fontColor,u,Ii.global.defaultFontColor);e.fillStyle=g;var m=t.getIndexAngle(u),v=Oi.toDegrees(m);e.textAlign=Me(v),Se(v,t._pointLabelSizes[u],p),De(e,t.pointLabels[u]||"",p,h.lineHeight)}}e.restore()}function Fe(t,e,i,n){var o,a=t.ctx,r=e.circular,s=xe(t),l=_o(e.color,n-1),d=_o(e.lineWidth,n-1);if((r||s)&&l&&d){if(a.save(),a.strokeStyle=l,a.lineWidth=d,a.setLineDash&&(a.setLineDash(e.borderDash||[]),a.lineDashOffset=e.borderDashOffset||0),a.beginPath(),r)a.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{o=t.getPointPosition(0,i),a.moveTo(o.x,o.y);for(var h=1;h<s;h++)o=t.getPointPosition(h,i),a.lineTo(o.x,o.y)}a.closePath(),a.stroke(),a.restore()}}function Ae(t){return Oi.isNumber(t)?t:0}function Ie(t,e){return t-e}function Pe(t){var e,i,n,o={},a=[];for(e=0,i=t.length;e<i;++e)n=t[e],o[n]||(o[n]=!0,a.push(n));return a}function Ee(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var o,a,r,s,l,d=[],h=[e];for(o=0,a=t.length;o<a;++o)(s=t[o])>e&&s<i&&h.push(s);for(h.push(i),o=0,a=h.length;o<a;++o)l=h[o+1],r=h[o-1],s=h[o],void 0!==r&&void 0!==l&&Math.round((l+r)/2)===s||d.push({time:s,pos:o/(a-1)});return d}function Oe(t,e,i){for(var n,o,a,r=0,s=t.length-1;r>=0&&r<=s;){if(n=r+s>>1,o=t[n-1]||null,a=t[n],!o)return{lo:null,hi:a};if(a[e]<i)r=n+1;else{if(!(o[e]>i))return{lo:o,hi:a};s=n-1}}return{lo:a,hi:null}}function Le(t,e,i,n){var o=Oe(t,e,i),a=o.lo?o.hi?o.lo:t[t.length-2]:t[0],r=o.lo?o.hi?o.hi:t[t.length-1]:t[1],s=r[e]-a[e],l=s?(i-a[e])/s:0,d=(r[n]-a[n])*l;return a[n]+d}function Re(t,e){var i=t._adapter,n=t.options.time,o=n.parser,a=o||n.format,r=e;return"function"==typeof o&&(r=o(r)),Oi.isFinite(r)||(r="string"==typeof a?i.parse(r,a):i.parse(r)),null!==r?+r:(o||"function"!=typeof a||(r=a(e),Oi.isFinite(r)||(r=i.parse(r))),r)}function Ve(t,e){if(Oi.isNullOrUndef(e))return null;var i=t.options.time,n=Re(t,t.getRightValue(e));return null===n?n:(i.round&&(n=+t._adapter.startOf(n,i.round)),n)}function Ue(t,e,i,n){var o,a,r,s=e-t,l=Ao[i],d=l.size,h=l.steps;if(!h)return Math.ceil(s/(n*d));for(o=0,a=h.length;o<a&&(r=h[o],!(Math.ceil(s/(d*r))<=n));++o);return r}function Be(t,e,i,n){var o,a,r,s=Io.length;for(o=Io.indexOf(t);o<s-1;++o)if(a=Ao[Io[o]],r=a.steps?a.steps[a.steps.length-1]:Fo,a.common&&Math.ceil((i-e)/(r*a.size))<=n)return Io[o];return Io[s-1]}function ze(t,e,i,n,o){var a,r,s=Io.length;for(a=s-1;a>=Io.indexOf(i);a--)if(r=Io[a],Ao[r].common&&t._adapter.diff(o,n,r)>=e.length)return r;return Io[i?Io.indexOf(i):0]}function Ne(t){for(var e=Io.indexOf(t)+1,i=Io.length;e<i;++e)if(Ao[Io[e]].common)return Io[e]}function We(t,e,i,n){var o,a=t._adapter,r=t.options,s=r.time,l=s.unit||Be(s.minUnit,e,i,n),d=Ne(l),h=So(s.stepSize,s.unitStepSize),u="week"===l&&s.isoWeekday,c=r.ticks.major.enabled,f=Ao[l],p=e,g=i,m=[];for(h||(h=Ue(e,i,l,n)),u&&(p=+a.startOf(p,"isoWeek",u),g=+a.startOf(g,"isoWeek",u)),p=+a.startOf(p,u?"day":l),g=+a.startOf(g,u?"day":l),g<i&&(g=+a.add(g,1,l)),o=p,c&&d&&!u&&!s.round&&(o=+a.startOf(o,d),o=+a.add(o,~~((p-o)/(f.size*h))*h,l));o<g;o=+a.add(o,h,l))m.push(+o);return m.push(+o),m}function He(t,e,i,n,o){var a,r,s=0,l=0;return o.offset&&e.length&&(o.time.min||(a=Le(t,"time",e[0],"pos"),s=1===e.length?1-a:(Le(t,"time",e[1],"pos")-a)/2),o.time.max||(r=Le(t,"time",e[e.length-1],"pos"),l=1===e.length?r:(r-Le(t,"time",e[e.length-2],"pos"))/2)),{start:s,end:l}}function je(t,e,i){var n,o,a,r,s=[];for(n=0,o=e.length;n<o;++n)a=e[n],r=!!i&&a===+t._adapter.startOf(a,i),s.push({value:a,major:r});return s}function qe(t,e,i){var n,o=t._model||{},a=o.fill;if(void 0===a&&(a=!!o.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(n=parseFloat(a,10),isFinite(n)&&Math.floor(n)===n)return"-"!==a[0]&&"+"!==a[0]||(n=e+n),!(n===e||n<0||n>=i)&&n;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function $e(t){var e,i=t.el._model||{},n=t.el._scale||{},o=t.fill,a=null;if(isFinite(o))return null;if("start"===o?a=void 0===i.scaleBottom?n.bottom:i.scaleBottom:"end"===o?a=void 0===i.scaleTop?n.top:i.scaleTop:void 0!==i.scaleZero?a=i.scaleZero:n.getBasePosition?a=n.getBasePosition():n.getBasePixel&&(a=n.getBasePixel()),void 0!==a&&null!==a){if(void 0!==a.x&&void 0!==a.y)return a;if(Oi.isFinite(a))return e=n.isHorizontal(),{x:e?a:null,y:e?null:a}}return null}function Ye(t,e,i){var n,o=t[e],a=o.fill,r=[e];if(!i)return a;for(;!1!==a&&-1===r.indexOf(a);){if(!isFinite(a))return a;if(!(n=t[a]))return!1;if(n.visible)return a;r.push(a),a=n.fill}return!1}function Xe(t){var e=t.fill,i="dataset";return!1===e?null:(isFinite(e)||(i="boundary"),Vo[i](t))}function Ke(t){return t&&!t.skip}function Ge(t,e,i,n,o){var a;if(n&&o){for(t.moveTo(e[0].x,e[0].y),a=1;a<n;++a)Oi.canvas.lineTo(t,e[a-1],e[a]);for(t.lineTo(i[o-1].x,i[o-1].y),a=o-1;a>0;--a)Oi.canvas.lineTo(t,i[a],i[a-1],!0)}}function Qe(t,e,i,n,o,a){var r,s,l,d,h,u,c,f=e.length,p=n.spanGaps,g=[],m=[],v=0,b=0;for(t.beginPath(),r=0,s=f+!!a;r<s;++r)l=r%f,d=e[l]._view,h=i(d,l,n),u=Ke(d),c=Ke(h),u&&c?(v=g.push(d),b=m.push(h)):v&&b&&(p?(u&&g.push(d),c&&m.push(h)):(Ge(t,g,m,v,b),v=b=0,g=[],m=[]));Ge(t,g,m,v,b),t.closePath(),t.fillStyle=o,t.fill()}function Ze(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}function Je(t,e){var i=new No({ctx:t.ctx,options:e,chart:t});An.configure(t,i,e),An.addBox(t,i),t.legend=i}function ti(t,e){var i=new jo({ctx:t.ctx,options:e,chart:t});An.configure(t,i,e),An.addBox(t,i),t.titleBlock=i}t=t&&t.hasOwnProperty("default")?t.default:t;var ei={rgb2hsl:e,rgb2hsv:i,rgb2hwb:n,rgb2cmyk:o,rgb2keyword:a,rgb2xyz:s,rgb2lab:l,rgb2lch:d,hsl2rgb:h,hsl2hsv:u,hsl2hwb:c,hsl2cmyk:f,hsl2keyword:p,hsv2rgb:m,hsv2hsl:v,hsv2hwb:y,hsv2cmyk:x,hsv2keyword:w,hwb2rgb:_,hwb2hsl:k,hwb2hsv:C,hwb2cmyk:M,hwb2keyword:D,cmyk2rgb:S,cmyk2hsl:T,cmyk2hsv:F,cmyk2hwb:A,cmyk2keyword:I,keyword2rgb:N,keyword2hsl:W,keyword2hsv:H,keyword2hwb:j,keyword2cmyk:q,keyword2lab:$,keyword2xyz:Y,xyz2rgb:P,xyz2lab:E,xyz2lch:O,lab2xyz:L,lab2rgb:V,lab2lch:R,lch2lab:U,lch2xyz:B,lch2rgb:z},ii={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ni={};for(var oi in ii)ni[JSON.stringify(ii[oi])]=oi;var ai=function(){return new hi};for(var ri in ei){ai[ri+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),ei[t](e)}}(ri);var si=/(\w+)2(\w+)/.exec(ri),li=si[1],di=si[2];ai[li]=ai[li]||{},ai[li][di]=ai[ri]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var i=ei[t](e);if("string"==typeof i||void 0===i)return i;for(var n=0;n<i.length;n++)i[n]=Math.round(i[n]);return i}}(ri)}var hi=function(){this.convs={}};hi.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},hi.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},hi.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,n=this.convs[i];e=ai[i][t](n),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){hi.prototype[t]=function(e){return this.routeSpace(t,arguments)}});var ui=ai,ci={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},fi={getRgba:X,getHsla:K,getRgb:Q,getHsl:Z,getHwb:G,getAlpha:J,hexString:tt,rgbString:et,rgbaString:it,percentString:nt,percentaString:ot,hslString:at,hslaString:rt,hwbString:st,keyword:lt},pi={};for(var gi in ci)pi[ci[gi]]=gi;var mi=function(t){if(t instanceof mi)return t;if(!(this instanceof mi))return new mi(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=fi.getRgba(t),e?this.setValues("rgb",e):(e=fi.getHsla(t))?this.setValues("hsl",e):(e=fi.getHwb(t))&&this.setValues("hwb",e)):"object"==typeof t&&(e=t,void 0!==e.r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e))};mi.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return fi.hexString(this.values.rgb)},rgbString:function(){return fi.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return fi.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return fi.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return fi.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return fi.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return fi.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return fi.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=this,n=t,o=void 0===e?.5:e,a=2*o-1,r=i.alpha()-n.alpha(),s=((a*r==-1?a:(a+r)/(1+a*r))+1)/2,l=1-s;return this.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue()).alpha(i.alpha()*o+n.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new mi,n=this.values,o=i.values;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],e={}.toString.call(t),"[object Array]"===e?o[a]=t.slice(0):"[object Number]"===e?o[a]=t:console.error("unexpected color value:",t));return i}},mi.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},mi.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},mi.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},mi.prototype.setValues=function(t,e){var i,n=this.values,o=this.spaces,a=this.maxes,r=1;if(this.valid=!0,"alpha"===t)r=e;else if(e.length)n[t]=e.slice(0,t.length),r=e[t.length];else if(void 0!==e[t.charAt(0)]){for(i=0;i<t.length;i++)n[t][i]=e[t.charAt(i)];r=e.a}else if(void 0!==e[o[t][0]]){var s=o[t];for(i=0;i<t.length;i++)n[t][i]=e[s[i]];r=e.alpha}if(n.alpha=Math.max(0,Math.min(1,void 0===r?n.alpha:r)),"alpha"===t)return!1;var l;for(i=0;i<t.length;i++)l=Math.max(0,Math.min(a[t][i],n[t][i])),n[t][i]=Math.round(l);for(var d in o)d!==t&&(n[d]=ui[t][d](n[t]));return!0},mi.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},mi.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:i===n[e]?this:(n[e]=i,this.setValues(t,n),this)},"undefined"!=typeof window&&(window.Color=mi);var vi=mi,bi={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||void 0===t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,i){return bi.valueOrDefault(bi.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)},each:function(t,e,i,n){var o,a,r;if(bi.isArray(t))if(a=t.length,n)for(o=a-1;o>=0;o--)e.call(i,t[o],o);else for(o=0;o<a;o++)e.call(i,t[o],o);else if(bi.isObject(t))for(r=Object.keys(t),a=r.length,o=0;o<a;o++)e.call(i,t[r[o]],r[o])},arrayEquals:function(t,e){var i,n,o,a;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(o=t[i],a=e[i],o instanceof Array&&a instanceof Array){if(!bi.arrayEquals(o,a))return!1}else if(o!==a)return!1;return!0},clone:function(t){if(bi.isArray(t))return t.map(bi.clone);if(bi.isObject(t)){for(var e={},i=Object.keys(t),n=i.length,o=0;o<n;++o)e[i[o]]=bi.clone(t[i[o]]);return e}return t},_merger:function(t,e,i,n){var o=e[t],a=i[t];bi.isObject(o)&&bi.isObject(a)?bi.merge(o,a,n):e[t]=bi.clone(a)},_mergerIf:function(t,e,i){var n=e[t],o=i[t];bi.isObject(n)&&bi.isObject(o)?bi.mergeIf(n,o):e.hasOwnProperty(t)||(e[t]=bi.clone(o))},merge:function(t,e,i){var n,o,a,r,s,l=bi.isArray(e)?e:[e],d=l.length;if(!bi.isObject(t))return t;for(i=i||{},n=i.merger||bi._merger,o=0;o<d;++o)if(e=l[o],bi.isObject(e))for(a=Object.keys(e),s=0,r=a.length;s<r;++s)n(a[s],t,e,i);return t},mergeIf:function(t,e){return bi.merge(t,e,{merger:bi._mergerIf})},extend:function(t){for(var e=function(e,i){t[i]=e},i=1,n=arguments.length;i<n;++i)bi.each(arguments[i],e);return t},inherits:function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=bi.inherits,t&&bi.extend(i.prototype,t),i.__super__=e.prototype,i}},yi=bi;bi.callCallback=bi.callback,bi.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},bi.getValueOrDefault=bi.valueOrDefault,bi.getValueAtIndexOrDefault=bi.valueAtIndexOrDefault;var xi={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-xi.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*xi.easeInBounce(2*t):.5*xi.easeOutBounce(2*t-1)+.5}},wi={effects:xi};yi.easingEffects=xi;var _i=Math.PI,ki=_i/180,Ci=2*_i,Mi=_i/2,Di=_i/4,Si=2*_i/3,Ti={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,o,a){if(a){var r=Math.min(a,o/2,n/2),s=e+r,l=i+r,d=e+n-r,h=i+o-r;t.moveTo(e,l),s<d&&l<h?(t.arc(s,l,r,-_i,-Mi),t.arc(d,l,r,-Mi,0),t.arc(d,h,r,0,Mi),t.arc(s,h,r,Mi,_i)):s<d?(t.moveTo(s,i),t.arc(d,l,r,-Mi,Mi),t.arc(s,l,r,Mi,_i+Mi)):l<h?(t.arc(s,l,r,-_i,0),t.arc(s,h,r,0,_i)):t.arc(s,l,r,-_i,_i),t.closePath(),t.moveTo(e,i)}else t.rect(e,i,n,o)},drawPoint:function(t,e,i,n,o,a){var r,s,l,d,h,u=(a||0)*ki;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(r=e.toString())||"[object HTMLCanvasElement]"===r))return void t.drawImage(e,n-e.width/2,o-e.height/2,e.width,e.height);if(!(isNaN(i)||i<=0)){switch(t.beginPath(),e){default:t.arc(n,o,i,0,Ci),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(u)*i,o-Math.cos(u)*i),u+=Si,t.lineTo(n+Math.sin(u)*i,o-Math.cos(u)*i),u+=Si,t.lineTo(n+Math.sin(u)*i,o-Math.cos(u)*i),t.closePath();break;case"rectRounded":h=.516*i,d=i-h,s=Math.cos(u+Di)*d,l=Math.sin(u+Di)*d,t.arc(n-s,o-l,h,u-_i,u-Mi),t.arc(n+l,o-s,h,u-Mi,u),t.arc(n+s,o+l,h,u,u+Mi),t.arc(n-l,o+s,h,u+Mi,u+_i),t.closePath();break;case"rect":if(!a){d=Math.SQRT1_2*i,t.rect(n-d,o-d,2*d,2*d);break}u+=Di;case"rectRot":s=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-s,o-l),t.lineTo(n+l,o-s),t.lineTo(n+s,o+l),t.lineTo(n-l,o+s),t.closePath();break;case"crossRot":u+=Di;case"cross":s=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-s,o-l),t.lineTo(n+s,o+l),t.moveTo(n+l,o-s),t.lineTo(n-l,o+s);break;case"star":s=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-s,o-l),t.lineTo(n+s,o+l),t.moveTo(n+l,o-s),t.lineTo(n-l,o+s),u+=Di,s=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-s,o-l),t.lineTo(n+s,o+l),t.moveTo(n+l,o-s),t.lineTo(n-l,o+s);break;case"line":s=Math.cos(u)*i,l=Math.sin(u)*i,t.moveTo(n-s,o-l),t.lineTo(n+s,o+l);break;case"dash":t.moveTo(n,o),t.lineTo(n+Math.cos(u)*i,o+Math.sin(u)*i)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){var o=i.steppedLine;if(o){if("middle"===o){var a=(e.x+i.x)/2;t.lineTo(a,n?i.y:e.y),t.lineTo(a,n?e.y:i.y)}else"after"===o&&!n||"after"!==o&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);return void t.lineTo(i.x,i.y)}if(!i.tension)return void t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y)}},Fi=Ti;yi.clear=Ti.clear,yi.drawRoundedRectangle=function(t){t.beginPath(),Ti.roundedRect.apply(Ti,arguments)};var Ai={_set:function(t,e){return yi.merge(this[t]||(this[t]={}),e)}};Ai._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Ii=Ai,Pi=yi.valueOrDefault,Ei={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,i,n,o;return yi.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,o=+t.left||0):e=i=n=o=+t||0,{top:e,right:i,bottom:n,left:o,height:e+n,width:o+i}},_parseFont:function(t){var e=Ii.global,i=Pi(t.fontSize,e.defaultFontSize),n={family:Pi(t.fontFamily,e.defaultFontFamily),lineHeight:yi.options.toLineHeight(Pi(t.lineHeight,e.defaultLineHeight),i),size:i,style:Pi(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return n.string=ut(n),n},resolve:function(t,e,i){var n,o,a;for(n=0,o=t.length;n<o;++n)if(void 0!==(a=t[n])&&(void 0!==e&&"function"==typeof a&&(a=a(e)),void 0!==i&&yi.isArray(a)&&(a=a[i]),void 0!==a))return a}},Oi=yi,Li=wi,Ri=Fi,Vi=Ei;Oi.easing=Li,Oi.canvas=Ri,Oi.options=Vi;var Ui=function(t){Oi.extend(this,t),this.initialize.apply(this,arguments)};Oi.extend(Ui.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=Oi.clone(t._model)),t._start={},t},transition:function(t){var e=this,i=e._model,n=e._start,o=e._view;return i&&1!==t?(o||(o=e._view={}),n||(n=e._start={}),ct(n,o,i,t),e):(e._view=i,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Oi.isNumber(this._model.x)&&Oi.isNumber(this._model.y)}}),Ui.extend=Oi.inherits;var Bi=Ui,zi=Bi.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Ni=zi;Object.defineProperty(zi.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(zi.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),Ii._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Oi.noop,onComplete:Oi.noop}});var Wi={animations:[],request:null,addAnimation:function(t,e,i,n){var o,a,r=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=i,
n||(t.animating=!0),o=0,a=r.length;o<a;++o)if(r[o].chart===t)return void(r[o]=e);r.push(e),1===r.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=Oi.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=Oi.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this;t.advance(),t.animations.length>0&&t.requestAnimationFrame()},advance:function(){for(var t,e,i,n,o=this.animations,a=0;a<o.length;)t=o[a],e=t.chart,i=t.numSteps,n=Math.floor((Date.now()-t.startTime)/t.duration*i)+1,t.currentStep=Math.min(n,i),Oi.callback(t.render,[e,t],e),Oi.callback(t.onAnimationProgress,[t],e),t.currentStep>=i?(Oi.callback(t.onAnimationComplete,[t],e),e.animating=!1,o.splice(a,1)):++a}},Hi=Oi.options.resolve,ji=["push","pop","shift","splice","unshift"],qi=function(t,e){this.initialize(t,e)};Oi.extend(qi.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var i=this;i.chart=t,i.index=e,i.linkScales(),i.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),i=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=i.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=i.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&pt(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,i=e.dataElementType;return i&&new i({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,i=this,n=i.getMeta(),o=i.getDataset().data||[],a=n.data;for(t=0,e=o.length;t<e;++t)a[t]=a[t]||i.createMetaData(t);n.dataset=n.dataset||i.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),i=e.data||(e.data=[]);t._data!==i&&(t._data&&pt(t._data,t),i&&Object.isExtensible(i)&&ft(i,t),t._data=i),t.resyncElements()},update:Oi.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,o=0;o<n;++o)i[o].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},removeHoverStyle:function(t){Oi.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model,a=Oi.getHoverColor;t.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth},o.backgroundColor=Hi([n.hoverBackgroundColor,e.hoverBackgroundColor,a(o.backgroundColor)],void 0,i),o.borderColor=Hi([n.hoverBorderColor,e.hoverBorderColor,a(o.borderColor)],void 0,i),o.borderWidth=Hi([n.hoverBorderWidth,e.hoverBorderWidth,o.borderWidth],void 0,i)},resyncElements:function(){var t=this,e=t.getMeta(),i=t.getDataset().data,n=e.data.length,o=i.length;o<n?e.data.splice(o,n-o):o>n&&t.insertElements(n,o-n)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),qi.extend=Oi.inherits;var $i=qi;Ii._set("global",{elements:{arc:{backgroundColor:Ii.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Yi=Bi.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=Oi.getAngleFromPoint(i,{x:t,y:e}),o=n.angle,a=n.distance,r=i.startAngle,s=i.endAngle;s<r;)s+=2*Math.PI;for(;o>s;)o-=2*Math.PI;for(;o<r;)o+=2*Math.PI;var l=o>=r&&o<=s,d=a>=i.innerRadius&&a<=i.outerRadius;return l&&d}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t,e=this._chart.ctx,i=this._view,n=i.startAngle,o=i.endAngle,a="inner"===i.borderAlign?.33:0;e.save(),e.beginPath(),e.arc(i.x,i.y,Math.max(i.outerRadius-a,0),n,o),e.arc(i.x,i.y,i.innerRadius,o,n,!0),e.closePath(),e.fillStyle=i.backgroundColor,e.fill(),i.borderWidth&&("inner"===i.borderAlign?(e.beginPath(),t=a/i.outerRadius,e.arc(i.x,i.y,i.outerRadius,n-t,o+t),i.innerRadius>a?(t=a/i.innerRadius,e.arc(i.x,i.y,i.innerRadius-a,o+t,n-t,!0)):e.arc(i.x,i.y,a,o+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip(),e.beginPath(),e.arc(i.x,i.y,i.outerRadius,n,o),e.arc(i.x,i.y,i.innerRadius,o,n,!0),e.closePath(),e.lineWidth=2*i.borderWidth,e.lineJoin="round"):(e.lineWidth=i.borderWidth,e.lineJoin="bevel"),e.strokeStyle=i.borderColor,e.stroke()),e.restore()}}),Xi=Oi.valueOrDefault,Ki=Ii.global.defaultColor;Ii._set("global",{elements:{line:{tension:.4,backgroundColor:Ki,borderWidth:3,borderColor:Ki,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Gi=Bi.extend({draw:function(){var t,e,i,n,o=this,a=o._view,r=o._chart.ctx,s=a.spanGaps,l=o._children.slice(),d=Ii.global,h=d.elements.line,u=-1;for(o._loop&&l.length&&l.push(l[0]),r.save(),r.lineCap=a.borderCapStyle||h.borderCapStyle,r.setLineDash&&r.setLineDash(a.borderDash||h.borderDash),r.lineDashOffset=Xi(a.borderDashOffset,h.borderDashOffset),r.lineJoin=a.borderJoinStyle||h.borderJoinStyle,r.lineWidth=Xi(a.borderWidth,h.borderWidth),r.strokeStyle=a.borderColor||d.defaultColor,r.beginPath(),u=-1,t=0;t<l.length;++t)e=l[t],i=Oi.previousItem(l,t),n=e._view,0===t?n.skip||(r.moveTo(n.x,n.y),u=t):(i=-1===u?i:l[u],n.skip||(u!==t-1&&!s||-1===u?r.moveTo(n.x,n.y):Oi.canvas.lineTo(r,i._view,e._view),u=t));r.stroke(),r.restore()}}),Qi=Oi.valueOrDefault,Zi=Ii.global.defaultColor;Ii._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Zi,borderColor:Zi,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Ji=Bi.extend({inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:gt,inXRange:gt,inYRange:mt,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._chart.ctx,n=e.pointStyle,o=e.rotation,a=e.radius,r=e.x,s=e.y,l=Ii.global,d=l.defaultColor;e.skip||(void 0===t||Oi.canvas._isPointInArea(e,t))&&(i.strokeStyle=e.borderColor||d,i.lineWidth=Qi(e.borderWidth,l.elements.point.borderWidth),i.fillStyle=e.backgroundColor||d,Oi.canvas.drawPoint(i,n,a,r,s,o))}}),tn=Ii.global.defaultColor;Ii._set("global",{elements:{rectangle:{backgroundColor:tn,borderColor:tn,borderSkipped:"bottom",borderWidth:0}}});var en=Bi.extend({draw:function(){var t=this._chart.ctx,e=this._view,i=_t(e),n=i.outer,o=i.inner;t.fillStyle=e.backgroundColor,t.fillRect(n.x,n.y,n.w,n.h),n.w===o.w&&n.h===o.h||(t.save(),t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.clip(),t.fillStyle=e.borderColor,t.rect(o.x,o.y,o.w,o.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return kt(this._view,t,e)},inLabelRange:function(t,e){var i=this._view;return vt(i)?kt(i,t,null):kt(i,null,e)},inXRange:function(t){return kt(this._view,t,null)},inYRange:function(t){return kt(this._view,null,t)},getCenterPoint:function(){var t,e,i=this._view;return vt(i)?(t=i.x,e=(i.y+i.base)/2):(t=(i.x+i.base)/2,e=i.y),{x:t,y:e}},getArea:function(){var t=this._view;return vt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),nn={},on=Yi,an=Gi,rn=Ji,sn=en;nn.Arc=on,nn.Line=an,nn.Point=rn,nn.Rectangle=sn;var ln=Oi.options.resolve;Ii._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var dn=$i.extend({dataElementType:nn.Rectangle,initialize:function(){var t,e=this;$i.prototype.initialize.apply(e,arguments),t=e.getMeta(),t.stack=e.getDataset().stack,t.bar=!0},update:function(t){var e,i,n=this,o=n.getMeta().data;for(n._ruler=n.getRuler(),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t)},updateElement:function(t,e,i){var n=this,o=n.getMeta(),a=n.getDataset(),r=n._resolveElementOptions(t,e);t._xScale=n.getScaleForId(o.xAxisID),t._yScale=n.getScaleForId(o.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderSkipped:r.borderSkipped,borderWidth:r.borderWidth,datasetLabel:a.label,label:n.chart.data.labels[e]},n._updateElementGeometry(t,e,i),t.pivot()},_updateElementGeometry:function(t,e,i){var n=this,o=t._model,a=n._getValueScale(),r=a.getBasePixel(),s=a.isHorizontal(),l=n._ruler||n.getRuler(),d=n.calculateBarValuePixels(n.index,e),h=n.calculateBarIndexPixels(n.index,e,l);o.horizontal=s,o.base=i?r:d.base,o.x=s?i?r:d.head:h.center,o.y=s?h.center:i?r:d.head,o.height=s?h.size:void 0,o.width=s?void 0:h.size},_getStacks:function(t){var e,i,n=this,o=n.chart,a=n._getIndexScale(),r=a.options.stacked,s=void 0===t?o.data.datasets.length:t+1,l=[];for(e=0;e<s;++e)i=o.getDatasetMeta(e),i.bar&&o.isDatasetVisible(e)&&(!1===r||!0===r&&-1===l.indexOf(i.stack)||void 0===r&&(void 0===i.stack||-1===l.indexOf(i.stack)))&&l.push(i.stack);return l},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t),n=void 0!==e?i.indexOf(e):-1;return-1===n?i.length-1:n},getRuler:function(){var t,e,i,n=this,o=n._getIndexScale(),a=n.getStackCount(),r=n.index,s=o.isHorizontal(),l=s?o.left:o.top,d=l+(s?o.width:o.height),h=[];for(t=0,e=n.getMeta().data.length;t<e;++t)h.push(o.getPixelForValue(null,t,r));return i=Oi.isNullOrUndef(o.options.barThickness)?Ct(o,h):-1,{min:i,pixels:h,start:l,end:d,stackCount:a,scale:o}},calculateBarValuePixels:function(t,e){var i,n,o,a,r,s,l=this,d=l.chart,h=l.getMeta(),u=l._getValueScale(),c=u.isHorizontal(),f=d.data.datasets,p=+u.getRightValue(f[t].data[e]),g=u.options.minBarLength,m=u.options.stacked,v=h.stack,b=0;if(m||void 0===m&&void 0!==v)for(i=0;i<t;++i)n=d.getDatasetMeta(i),n.bar&&n.stack===v&&n.controller._getValueScaleId()===u.id&&d.isDatasetVisible(i)&&(o=+u.getRightValue(f[i].data[e]),(p<0&&o<0||p>=0&&o>0)&&(b+=o));return a=u.getPixelForValue(b),r=u.getPixelForValue(b+p),s=r-a,void 0!==g&&Math.abs(s)<g&&(s=g,r=p>=0&&!c||p<0&&c?a-g:a+g),{size:s,base:a,head:r,center:r+s/2}},calculateBarIndexPixels:function(t,e,i){var n=this,o=i.scale.options,a="flex"===o.barThickness?Dt(e,i,o):Mt(e,i,o),r=n.getStackIndex(t,n.getMeta().stack),s=a.start+a.chunk*r+a.chunk/2,l=Math.min(Oi.valueOrDefault(o.maxBarThickness,1/0),a.chunk*a.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}},draw:function(){var t=this,e=t.chart,i=t._getValueScale(),n=t.getMeta().data,o=t.getDataset(),a=n.length,r=0;for(Oi.canvas.clipArea(e.ctx,e.chartArea);r<a;++r)isNaN(i.getRightValue(o.data[r]))||n[r].draw();Oi.canvas.unclipArea(e.ctx)},_resolveElementOptions:function(t,e){var i,n,o,a=this,r=a.chart,s=r.data.datasets,l=s[a.index],d=t.custom||{},h=r.options.elements.rectangle,u={},c={chart:r,dataIndex:e,dataset:l,datasetIndex:a.index},f=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(i=0,n=f.length;i<n;++i)o=f[i],u[o]=ln([d[o],l[o],h[o]],c,e);return u}}),hn=Oi.valueOrDefault,un=Oi.options.resolve;Ii._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}});var cn=$i.extend({dataElementType:nn.Point,update:function(t){var e=this,i=e.getMeta(),n=i.data;Oi.each(n,function(i,n){e.updateElement(i,n,t)})},updateElement:function(t,e,i){var n=this,o=n.getMeta(),a=t.custom||{},r=n.getScaleForId(o.xAxisID),s=n.getScaleForId(o.yAxisID),l=n._resolveElementOptions(t,e),d=n.getDataset().data[e],h=n.index,u=i?r.getPixelForDecimal(.5):r.getPixelForValue("object"==typeof d?d:NaN,e,h),c=i?s.getBasePixel():s.getPixelForValue(d,e,h);t._xScale=r,t._yScale=s,t._options=l,t._datasetIndex=h,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:i?0:l.radius,skip:a.skip||isNaN(u)||isNaN(c),x:u,y:c},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options,n=Oi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=hn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=hn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=hn(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},_resolveElementOptions:function(t,e){var i,n,o,a=this,r=a.chart,s=r.data.datasets,l=s[a.index],d=t.custom||{},h=r.options.elements.point,u=l.data[e],c={},f={chart:r,dataIndex:e,dataset:l,datasetIndex:a.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(i=0,n=p.length;i<n;++i)o=p[i],c[o]=un([d[o],l[o],h[o]],f,e);return c.radius=un([d.radius,u?u.r:void 0,l.radius,h.radius],f,e),c}}),fn=Oi.options.resolve,pn=Oi.valueOrDefault;Ii._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,o=i.labels;if(n.length)for(var a=0;a<n[0].data.length;++a)e.push('<li><span style="background-color:'+n[0].backgroundColor[a]+'"></span>'),o[a]&&e.push(o[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var o=t.getDatasetMeta(0),a=e.datasets[0],r=o.data[n],s=r&&r.custom||{},l=t.options.elements.arc;return{text:i,fillStyle:fn([s.backgroundColor,a.backgroundColor,l.backgroundColor],void 0,n),strokeStyle:fn([s.borderColor,a.borderColor,l.borderColor],void 0,n),lineWidth:fn([s.borderWidth,a.borderWidth,l.borderWidth],void 0,n),hidden:isNaN(a.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,o,a=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)o=r.getDatasetMeta(i),o.data[a]&&(o.data[a].hidden=!o.data[a].hidden);r.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return Oi.isArray(i)?(i=i.slice(),i[0]+=n):i+=n,i}}}});var gn=$i.extend({dataElementType:nn.Arc,linkScales:Oi.noop,getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var e,i,n=this,o=n.chart,a=o.chartArea,r=o.options,s=a.right-a.left,l=a.bottom-a.top,d=Math.min(s,l),h={x:0,y:0},u=n.getMeta(),c=u.data,f=r.cutoutPercentage,p=r.circumference,g=n._getRingWeight(n.index);if(p<2*Math.PI){var m=r.rotation%(2*Math.PI);m+=2*Math.PI*(m>=Math.PI?-1:m<-Math.PI?1:0);var v=m+p,b={x:Math.cos(m),y:Math.sin(m)},y={x:Math.cos(v),y:Math.sin(v)},x=m<=0&&v>=0||m<=2*Math.PI&&2*Math.PI<=v,w=m<=.5*Math.PI&&.5*Math.PI<=v||m<=2.5*Math.PI&&2.5*Math.PI<=v,_=m<=-Math.PI&&-Math.PI<=v||m<=Math.PI&&Math.PI<=v,k=m<=.5*-Math.PI&&.5*-Math.PI<=v||m<=1.5*Math.PI&&1.5*Math.PI<=v,C=f/100,M={x:_?-1:Math.min(b.x*(b.x<0?1:C),y.x*(y.x<0?1:C)),y:k?-1:Math.min(b.y*(b.y<0?1:C),y.y*(y.y<0?1:C))},D={x:x?1:Math.max(b.x*(b.x>0?1:C),y.x*(y.x>0?1:C)),y:w?1:Math.max(b.y*(b.y>0?1:C),y.y*(y.y>0?1:C))},S={width:.5*(D.x-M.x),height:.5*(D.y-M.y)};d=Math.min(s/S.width,l/S.height),h={x:-.5*(D.x+M.x),y:-.5*(D.y+M.y)}}for(e=0,i=c.length;e<i;++e)c[e]._options=n._resolveElementOptions(c[e],e);for(o.borderWidth=n.getMaxBorderWidth(),o.outerRadius=Math.max((d-o.borderWidth)/2,0),o.innerRadius=Math.max(f?o.outerRadius/100*f:0,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(n._getVisibleDatasetWeightTotal()||1),o.offsetX=h.x*o.outerRadius,o.offsetY=h.y*o.outerRadius,u.total=n.calculateTotal(),n.outerRadius=o.outerRadius-o.radiusLength*n._getRingWeightOffset(n.index),n.innerRadius=Math.max(n.outerRadius-o.radiusLength*g,0),e=0,i=c.length;e<i;++e)n.updateElement(c[e],e,t)},updateElement:function(t,e,i){var n=this,o=n.chart,a=o.chartArea,r=o.options,s=r.animation,l=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=r.rotation,u=r.rotation,c=n.getDataset(),f=i&&s.animateRotate?0:t.hidden?0:n.calculateCircumference(c.data[e])*(r.circumference/(2*Math.PI)),p=i&&s.animateScale?0:n.innerRadius,g=i&&s.animateScale?0:n.outerRadius,m=t._options||{};Oi.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:l+o.offsetX,y:d+o.offsetY,startAngle:h,endAngle:u,circumference:f,outerRadius:g,innerRadius:p,label:Oi.valueAtIndexOrDefault(c.label,e,o.data.labels[e])}});var v=t._model;i&&s.animateRotate||(v.startAngle=0===e?r.rotation:n.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),i=this.getMeta(),n=0;return Oi.each(i.data,function(i,o){t=e.data[o],isNaN(t)||i.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,i,n,o,a,r,s,l,d=this,h=0,u=d.chart;if(!t)for(e=0,i=u.data.datasets.length;e<i;++e)if(u.isDatasetVisible(e)){n=u.getDatasetMeta(e),t=n.data,e!==d.index&&(a=n.controller);break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)o=t[e],r=a?a._resolveElementOptions(o,e):o._options,"inner"!==r.borderAlign&&(s=r.borderWidth,l=r.hoverBorderWidth,h=s>h?s:h,h=l>h?l:h);return h},setHoverStyle:function(t){var e=t._model,i=t._options,n=Oi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=pn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=pn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=pn(i.hoverBorderWidth,i.borderWidth)},_resolveElementOptions:function(t,e){var i,n,o,a=this,r=a.chart,s=a.getDataset(),l=t.custom||{},d=r.options.elements.arc,h={},u={chart:r,dataIndex:e,dataset:s,datasetIndex:a.index},c=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(i=0,n=c.length;i<n;++i)o=c[i],h[o]=fn([l[o],s[o],d[o]],u,e);return h},_getRingWeightOffset:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e},_getRingWeight:function(t){return Math.max(pn(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Ii._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var mn=dn.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),vn=Oi.valueOrDefault,bn=Oi.options.resolve,yn=Oi.canvas._isPointInArea;Ii._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var xn=$i.extend({datasetElementType:nn.Line,dataElementType:nn.Point,update:function(t){var e,i,n=this,o=n.getMeta(),a=o.dataset,r=o.data||[],s=n.getScaleForId(o.yAxisID),l=n.getDataset(),d=St(l,n.chart.options);for(d&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=n.index,a._children=r,a._model=n._resolveLineOptions(a),a.pivot()),e=0,i=r.length;e<i;++e)n.updateElement(r[e],e,t);for(d&&0!==a._model.tension&&n.updateBezierControlPoints(),e=0,i=r.length;e<i;++e)r[e].pivot()},updateElement:function(t,e,i){var n,o,a=this,r=a.getMeta(),s=t.custom||{},l=a.getDataset(),d=a.index,h=l.data[e],u=a.getScaleForId(r.yAxisID),c=a.getScaleForId(r.xAxisID),f=r.dataset._model,p=a._resolvePointOptions(t,e);n=c.getPixelForValue("object"==typeof h?h:NaN,e,d),o=i?u.getBasePixel():a.calculatePointY(h,e,d),t._xScale=c,t._yScale=u,t._options=p,t._datasetIndex=d,t._index=e,t._model={x:n,y:o,skip:s.skip||isNaN(n)||isNaN(o),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:vn(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:p.hitRadius}},_resolvePointOptions:function(t,e){var i,n,o,a=this,r=a.chart,s=r.data.datasets[a.index],l=t.custom||{},d=r.options.elements.point,h={},u={chart:r,dataIndex:e,dataset:s,datasetIndex:a.index},c={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},f=Object.keys(c);for(i=0,n=f.length;i<n;++i)o=f[i],h[o]=bn([l[o],s[c[o]],s[o],d[o]],u,e);return h},_resolveLineOptions:function(t){var e,i,n,o=this,a=o.chart,r=a.data.datasets[o.index],s=t.custom||{},l=a.options,d=l.elements.line,h={},u=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(e=0,i=u.length;e<i;++e)n=u[e],h[n]=bn([s[n],r[n],d[n]]);return h.spanGaps=vn(r.spanGaps,l.spanGaps),h.tension=vn(r.lineTension,d.tension),h.steppedLine=bn([s.steppedLine,r.steppedLine,d.stepped]),h},calculatePointY:function(t,e,i){var n,o,a,r=this,s=r.chart,l=r.getMeta(),d=r.getScaleForId(l.yAxisID),h=0,u=0;if(d.options.stacked){for(n=0;n<i;n++)if(o=s.data.datasets[n],a=s.getDatasetMeta(n),"line"===a.type&&a.yAxisID===d.id&&s.isDatasetVisible(n)){var c=Number(d.getRightValue(o.data[e]));c<0?u+=c||0:h+=c||0}var f=Number(d.getRightValue(t));return f<0?d.getPixelForValue(u+f):d.getPixelForValue(h+f)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,i){return Math.max(Math.min(t,i),e)}var e,i,n,o,a=this,r=a.chart,s=a.getMeta(),l=s.dataset._model,d=r.chartArea,h=s.data||[];if(l.spanGaps&&(h=h.filter(function(t){return!t._model.skip})),"monotone"===l.cubicInterpolationMode)Oi.splineCurveMonotone(h);else for(e=0,i=h.length;e<i;++e)n=h[e]._model,o=Oi.splineCurve(Oi.previousItem(h,e)._model,n,Oi.nextItem(h,e)._model,l.tension),n.controlPointPreviousX=o.previous.x,n.controlPointPreviousY=o.previous.y,n.controlPointNextX=o.next.x,n.controlPointNextY=o.next.y;if(r.options.elements.line.capBezierPoints)for(e=0,i=h.length;e<i;++e)n=h[e]._model,yn(n,d)&&(e>0&&yn(h[e-1]._model,d)&&(n.controlPointPreviousX=t(n.controlPointPreviousX,d.left,d.right),n.controlPointPreviousY=t(n.controlPointPreviousY,d.top,d.bottom)),e<h.length-1&&yn(h[e+1]._model,d)&&(n.controlPointNextX=t(n.controlPointNextX,d.left,d.right),n.controlPointNextY=t(n.controlPointNextY,d.top,d.bottom)))},draw:function(){var t,e=this,i=e.chart,n=e.getMeta(),o=n.data||[],a=i.chartArea,r=o.length,s=0;for(St(e.getDataset(),i.options)&&(t=(n.dataset._model.borderWidth||0)/2,Oi.canvas.clipArea(i.ctx,{left:a.left,right:a.right,top:a.top-t,bottom:a.bottom+t}),n.dataset.draw(),Oi.canvas.unclipArea(i.ctx));s<r;++s)o[s].draw(a)},setHoverStyle:function(t){var e=t._model,i=t._options,n=Oi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=vn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=vn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=vn(i.hoverBorderWidth,i.borderWidth),e.radius=vn(i.hoverRadius,i.radius)}}),wn=Oi.options.resolve;Ii._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,o=i.labels;if(n.length)for(var a=0;a<n[0].data.length;++a)e.push('<li><span style="background-color:'+n[0].backgroundColor[a]+'"></span>'),o[a]&&e.push(o[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var o=t.getDatasetMeta(0),a=e.datasets[0],r=o.data[n],s=r.custom||{},l=t.options.elements.arc;return{text:i,fillStyle:wn([s.backgroundColor,a.backgroundColor,l.backgroundColor],void 0,n),strokeStyle:wn([s.borderColor,a.borderColor,l.borderColor],void 0,n),lineWidth:wn([s.borderWidth,a.borderWidth,l.borderWidth],void 0,n),hidden:isNaN(a.data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,o,a=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)o=r.getDatasetMeta(i),o.data[a].hidden=!o.data[a].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var _n=$i.extend({dataElementType:nn.Arc,linkScales:Oi.noop,update:function(t){var e,i,n,o=this,a=o.getDataset(),r=o.getMeta(),s=o.chart.options.startAngle||0,l=o._starts=[],d=o._angles=[],h=r.data;for(o._updateRadius(),r.count=o.countVisibleElements(),e=0,i=a.data.length;e<i;e++)l[e]=s,n=o._computeAngle(e),d[e]=n,s+=n;for(e=0,i=h.length;e<i;++e)h[e]._options=o._resolveElementOptions(h[e],e),o.updateElement(h[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,i=e.chartArea,n=e.options,o=Math.min(i.right-i.left,i.bottom-i.top);e.outerRadius=Math.max(o/2,0),e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,i){var n=this,o=n.chart,a=n.getDataset(),r=o.options,s=r.animation,l=o.scale,d=o.data.labels,h=l.xCenter,u=l.yCenter,c=r.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(a.data[e]),p=n._starts[e],g=p+(t.hidden?0:n._angles[e]),m=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[e]),v=t._options||{};Oi.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:h,y:u,innerRadius:0,outerRadius:i?m:f,startAngle:i&&s.animateRotate?c:p,endAngle:i&&s.animateRotate?c:g,label:Oi.valueAtIndexOrDefault(d,e,d[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),i=0;return Oi.each(e.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},setHoverStyle:function(t){var e=t._model,i=t._options,n=Oi.getHoverColor,o=Oi.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=o(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=o(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=o(i.hoverBorderWidth,i.borderWidth)},_resolveElementOptions:function(t,e){var i,n,o,a=this,r=a.chart,s=a.getDataset(),l=t.custom||{},d=r.options.elements.arc,h={},u={chart:r,dataIndex:e,dataset:s,datasetIndex:a.index},c=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(i=0,n=c.length;i<n;++i)o=c[i],h[o]=wn([l[o],s[o],d[o]],u,e);return h},_computeAngle:function(t){var e=this,i=this.getMeta().count,n=e.getDataset(),o=e.getMeta();if(isNaN(n.data[t])||o.data[t].hidden)return 0;var a={chart:e.chart,dataIndex:t,dataset:n,datasetIndex:e.index};return wn([e.chart.options.elements.arc.angle,2*Math.PI/i],a,t)}});Ii._set("pie",Oi.clone(Ii.doughnut)),Ii._set("pie",{cutoutPercentage:0});var kn=gn,Cn=Oi.valueOrDefault,Mn=Oi.options.resolve;Ii._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var Dn=$i.extend({datasetElementType:nn.Line,dataElementType:nn.Point,linkScales:Oi.noop,update:function(t){var e,i,n=this,o=n.getMeta(),a=o.dataset,r=o.data||[],s=n.chart.scale,l=n.getDataset();for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=n.index,a._children=r,a._loop=!0,a._model=n._resolveLineOptions(a),a.pivot(),e=0,i=r.length;e<i;++e)n.updateElement(r[e],e,t);for(n.updateBezierControlPoints(),e=0,i=r.length;e<i;++e)r[e].pivot()},updateElement:function(t,e,i){var n=this,o=t.custom||{},a=n.getDataset(),r=n.chart.scale,s=r.getPointPositionForValue(e,a.data[e]),l=n._resolvePointOptions(t,e),d=n.getMeta().dataset._model,h=i?r.xCenter:s.x,u=i?r.yCenter:s.y;t._scale=r,t._options=l,t._datasetIndex=n.index,t._index=e,t._model={x:h,y:u,skip:o.skip||isNaN(h)||isNaN(u),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Cn(o.tension,d?d.tension:0),hitRadius:l.hitRadius}},_resolvePointOptions:function(t,e){var i,n,o,a=this,r=a.chart,s=r.data.datasets[a.index],l=t.custom||{},d=r.options.elements.point,h={},u={chart:r,dataIndex:e,dataset:s,datasetIndex:a.index},c={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},f=Object.keys(c);for(i=0,n=f.length;i<n;++i)o=f[i],h[o]=Mn([l[o],s[c[o]],s[o],d[o]],u,e);return h},_resolveLineOptions:function(t){var e,i,n,o=this,a=o.chart,r=a.data.datasets[o.index],s=t.custom||{},l=a.options.elements.line,d={},h=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(e=0,i=h.length;e<i;++e)n=h[e],d[n]=Mn([s[n],r[n],l[n]]);return d.tension=Cn(r.lineTension,l.tension),d},updateBezierControlPoints:function(){function t(t,e,i){return Math.max(Math.min(t,i),e)}var e,i,n,o,a=this,r=a.getMeta(),s=a.chart.chartArea,l=r.data||[];for(e=0,
i=l.length;e<i;++e)n=l[e]._model,o=Oi.splineCurve(Oi.previousItem(l,e,!0)._model,n,Oi.nextItem(l,e,!0)._model,n.tension),n.controlPointPreviousX=t(o.previous.x,s.left,s.right),n.controlPointPreviousY=t(o.previous.y,s.top,s.bottom),n.controlPointNextX=t(o.next.x,s.left,s.right),n.controlPointNextY=t(o.next.y,s.top,s.bottom)},setHoverStyle:function(t){var e=t._model,i=t._options,n=Oi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Cn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Cn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Cn(i.hoverBorderWidth,i.borderWidth),e.radius=Cn(i.hoverRadius,i.radius)}});Ii._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}});var Sn=xn,Tn={bar:dn,bubble:cn,doughnut:gn,horizontalBar:mn,line:xn,polarArea:_n,pie:kn,radar:Dn,scatter:Sn},Fn={modes:{single:function(t,e){var i=Tt(e,t),n=[];return Ft(t,function(t){if(t.inRange(i.x,i.y))return n.push(t),n}),n.slice(0,1)},label:Et,index:Et,dataset:function(t,e,i){var n=Tt(e,t);i.axis=i.axis||"xy";var o=Pt(i.axis),a=i.intersect?At(t,n):It(t,n,!1,o);return a.length>0&&(a=t.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(t,e){return Et(t,e,{intersect:!1})},point:function(t,e){return At(t,Tt(e,t))},nearest:function(t,e,i){var n=Tt(e,t);i.axis=i.axis||"xy";var o=Pt(i.axis);return It(t,n,i.intersect,o)},x:function(t,e,i){var n=Tt(e,t),o=[],a=!1;return Ft(t,function(t){t.inXRange(n.x)&&o.push(t),t.inRange(n.x,n.y)&&(a=!0)}),i.intersect&&!a&&(o=[]),o},y:function(t,e,i){var n=Tt(e,t),o=[],a=!1;return Ft(t,function(t){t.inYRange(n.y)&&o.push(t),t.inRange(n.x,n.y)&&(a=!0)}),i.intersect&&!a&&(o=[]),o}}};Ii._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var An={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,o=["fullWidth","position","weight"],a=o.length,r=0;r<a;++r)n=o[r],i.hasOwnProperty(n)&&(e[n]=i[n])},update:function(t,e,i){function n(t){var e,i=t.isHorizontal();i?(e=t.update(t.fullWidth?_:D,k/2),S-=e.height):(e=t.update(M,S),D-=e.width),F.push({horizontal:i,width:e.width,box:t})}function o(t){var e=Oi.findNextWhere(F,function(e){return e.box===t});if(e)if(e.horizontal){var i={left:Math.max(T.left,b.left),right:Math.max(T.right,b.right),top:0,bottom:0};t.update(t.fullWidth?_:D,k/2,i)}else t.update(e.width,S)}function a(t){var e=Oi.findNextWhere(F,function(e){return e.box===t}),i={left:0,right:0,top:T.top,bottom:T.bottom};e&&t.update(e.width,S,i)}function r(t){t.isHorizontal()?(t.left=t.fullWidth?d:T.left,t.right=t.fullWidth?e-h:T.left+D,t.top=L,t.bottom=L+t.height,L=t.bottom):(t.left=O,t.right=O+t.width,t.top=T.top,t.bottom=T.top+S,O=t.right)}if(t){var s=t.options.layout||{},l=Oi.options.toPadding(s.padding),d=l.left,h=l.right,u=l.top,c=l.bottom,f=Ot(t.boxes,"left"),p=Ot(t.boxes,"right"),g=Ot(t.boxes,"top"),m=Ot(t.boxes,"bottom"),v=Ot(t.boxes,"chartArea");Lt(f,!0),Lt(p,!1),Lt(g,!0),Lt(m,!1);var b,y=f.concat(p),x=g.concat(m),w=y.concat(x),_=e-d-h,k=i-u-c,C=_/2,M=(e-C)/y.length,D=_,S=k,T={top:u,left:d,bottom:c,right:h},F=[];Oi.each(w,n),b=Rt(w),Oi.each(y,o),Vt(y,T),Oi.each(x,o),Vt(x,T),Oi.each(y,a),T={top:u,left:d,bottom:c,right:h},Vt(w,T);var A=Math.max(b.left-T.left,0);T.left+=A,T.right+=Math.max(b.right-T.right,0);var I=Math.max(b.top-T.top,0);T.top+=I,T.bottom+=Math.max(b.bottom-T.bottom,0);var P=i-T.top-T.bottom,E=e-T.left-T.right;E===D&&P===S||(Oi.each(y,function(t){t.height=P}),Oi.each(x,function(t){t.fullWidth||(t.width=E)}),S=P,D=E);var O=d+A,L=u+I;Oi.each(f.concat(g),r),O+=D,L+=S,Oi.each(p,r),Oi.each(m,r),t.chartArea={left:T.left,top:T.top,right:T.left+D,bottom:T.top+S},Oi.each(v,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(D,S)})}}},In={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},Pn=Object.freeze({default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}),En=function(t){return t&&t.default||t}(Pn),On="$chartjs",Ln="chartjs-size-monitor",Rn="chartjs-render-monitor",Vn="chartjs-render-animation",Un=["animationstart","webkitAnimationStart"],Bn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zn=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}(),Nn=!!zn&&{passive:!0},Wn={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){this._loaded||(this._loaded=!0,this.disableCSSInjection||Qt(this,En))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return this._ensureLoaded(),i&&i.canvas===t?(Bt(t,e),i):null},releaseContext:function(t){var e=t.canvas;if(e[On]){var i=e[On].initial;["height","width"].forEach(function(t){var n=i[t];Oi.isNullOrUndef(n)?e.removeAttribute(t):e.setAttribute(t,n)}),Oi.each(i.style||{},function(t,i){e.style[i]=t}),e.width=e.width,delete e[On]}},addEventListener:function(t,e,i){var n=t.canvas;if("resize"===e)return void Kt(n,i,t);var o=i[On]||(i[On]={});zt(n,e,(o.proxies||(o.proxies={}))[t.id+"_"+e]=function(e){i(Ht(e,t))})},removeEventListener:function(t,e,i){var n=t.canvas;if("resize"===e)return void Gt(n);var o=i[On]||{},a=o.proxies||{},r=a[t.id+"_"+e];r&&Nt(n,e,r)}};Oi.addEvent=zt,Oi.removeEvent=Nt;var Hn=Wn._enabled?Wn:In,jn=Oi.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Hn);Ii._set("global",{plugins:{}});var qn={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,o,a,r,s,l=this.descriptors(t),d=l.length;for(n=0;n<d;++n)if(o=l[n],a=o.plugin,"function"==typeof(s=a[e])&&(r=[t].concat(i||[]),r.push(o.options),!1===s.apply(a,r)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],n=[],o=t&&t.config||{},a=o.options&&o.options.plugins||{};return this._plugins.concat(o.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,o=a[e];!1!==o&&(!0===o&&(o=Oi.clone(Ii.global.plugins[e])),i.push(t),n.push({plugin:t,options:o||{}}))}}),e.descriptors=n,e.id=this._cacheId,n},_invalidate:function(t){delete t.$plugins}},$n={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=Oi.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?Oi.merge({},[Ii.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var i=this;i.defaults.hasOwnProperty(t)&&(i.defaults[t]=Oi.extend(i.defaults[t],e))},addScalesToLayout:function(t){Oi.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,An.addBox(t,e)})}},Yn=Oi.valueOrDefault;Ii._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Oi.noop,title:function(t,e){var i="",n=e.labels,o=n?n.length:0;if(t.length>0){var a=t[0];a.label?i=a.label:a.xLabel?i=a.xLabel:o>0&&a.index<o&&(i=n[a.index])}return i},afterTitle:Oi.noop,beforeBody:Oi.noop,beforeLabel:Oi.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),Oi.isNullOrUndef(t.value)?i+=t.yLabel:i+=t.value,i},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex),n=i.data[t.index],o=n._view;return{borderColor:o.borderColor,backgroundColor:o.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Oi.noop,afterBody:Oi.noop,beforeFooter:Oi.noop,footer:Oi.noop,afterFooter:Oi.noop}}});var Xn={average:function(t){if(!t.length)return!1;var e,i,n=0,o=0,a=0;for(e=0,i=t.length;e<i;++e){var r=t[e];if(r&&r.hasValue()){var s=r.tooltipPosition();n+=s.x,o+=s.y,++a}}return{x:n/a,y:o/a}},nearest:function(t,e){var i,n,o,a=e.x,r=e.y,s=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i];if(l&&l.hasValue()){var d=l.getCenterPoint(),h=Oi.distanceBetweenPoints(e,d);h<s&&(s=h,o=l)}}if(o){var u=o.tooltipPosition();a=u.x,r=u.y}return{x:a,y:r}}},Kn=Bi.extend({initialize:function(){this._model=ee(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,i=e.callbacks,n=i.beforeTitle.apply(t,arguments),o=i.title.apply(t,arguments),a=i.afterTitle.apply(t,arguments),r=[];return r=Zt(r,Jt(n)),r=Zt(r,Jt(o)),r=Zt(r,Jt(a))},getBeforeBody:function(){return re(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var i=this,n=i._options.callbacks,o=[];return Oi.each(t,function(t){var a={before:[],lines:[],after:[]};Zt(a.before,Jt(n.beforeLabel.call(i,t,e))),Zt(a.lines,n.label.call(i,t,e)),Zt(a.after,Jt(n.afterLabel.call(i,t,e))),o.push(a)}),o},getAfterBody:function(){return re(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),n=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),a=[];return a=Zt(a,Jt(i)),a=Zt(a,Jt(n)),a=Zt(a,Jt(o))},update:function(t){var e,i,n=this,o=n._options,a=n._model,r=n._model=ee(o),s=n._active,l=n._data,d={xAlign:a.xAlign,yAlign:a.yAlign},h={x:a.x,y:a.y},u={width:a.width,height:a.height},c={x:a.caretX,y:a.caretY};if(s.length){r.opacity=1;var f=[],p=[];c=Xn[o.position].call(n,s,n._eventPosition);var g=[];for(e=0,i=s.length;e<i;++e)g.push(te(s[e]));o.filter&&(g=g.filter(function(t){return o.filter(t,l)})),o.itemSort&&(g=g.sort(function(t,e){return o.itemSort(t,e,l)})),Oi.each(g,function(t){f.push(o.callbacks.labelColor.call(n,t,n._chart)),p.push(o.callbacks.labelTextColor.call(n,t,n._chart))}),r.title=n.getTitle(g,l),r.beforeBody=n.getBeforeBody(g,l),r.body=n.getBody(g,l),r.afterBody=n.getAfterBody(g,l),r.footer=n.getFooter(g,l),r.x=c.x,r.y=c.y,r.caretPadding=o.caretPadding,r.labelColors=f,r.labelTextColors=p,r.dataPoints=g,u=ie(this,r),d=ne(this,u),h=oe(r,u,d,n._chart)}else r.opacity=0;return r.xAlign=d.xAlign,r.yAlign=d.yAlign,r.x=h.x,r.y=h.y,r.width=u.width,r.height=u.height,r.caretX=c.x,r.caretY=c.y,n._model=r,t&&o.custom&&o.custom.call(n,r),n},drawCaret:function(t,e){var i=this._chart.ctx,n=this._view,o=this.getCaretPosition(t,e,n);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)},getCaretPosition:function(t,e,i){var n,o,a,r,s,l,d=i.caretSize,h=i.cornerRadius,u=i.xAlign,c=i.yAlign,f=t.x,p=t.y,g=e.width,m=e.height;if("center"===c)s=p+m/2,"left"===u?(n=f,o=n-d,a=n,r=s+d,l=s-d):(n=f+g,o=n+d,a=n,r=s-d,l=s+d);else if("left"===u?(o=f+h+d,n=o-d,a=o+d):"right"===u?(o=f+g-h-d,n=o-d,a=o+d):(o=i.caretX,n=o-d,a=o+d),"top"===c)r=p,s=r-d,l=r;else{r=p+m,s=r+d,l=r;var v=a;a=n,n=v}return{x1:n,x2:o,x3:a,y1:r,y2:s,y3:l}},drawTitle:function(t,e,i){var n=e.title;if(n.length){t.x=ae(e,e._titleAlign),i.textAlign=e._titleAlign,i.textBaseline="top";var o=e.titleFontSize,a=e.titleSpacing;i.fillStyle=e.titleFontColor,i.font=Oi.fontString(o,e._titleFontStyle,e._titleFontFamily);var r,s;for(r=0,s=n.length;r<s;++r)i.fillText(n[r],t.x,t.y),t.y+=o+a,r+1===n.length&&(t.y+=e.titleMarginBottom-a)}},drawBody:function(t,e,i){var n,o=e.bodyFontSize,a=e.bodySpacing,r=e._bodyAlign,s=e.body,l=e.displayColors,d=e.labelColors,h=0,u=l?ae(e,"left"):0;i.textAlign=r,i.textBaseline="top",i.font=Oi.fontString(o,e._bodyFontStyle,e._bodyFontFamily),t.x=ae(e,r);var c=function(e){i.fillText(e,t.x+h,t.y),t.y+=o+a};i.fillStyle=e.bodyFontColor,Oi.each(e.beforeBody,c),h=l&&"right"!==r?"center"===r?o/2+1:o+2:0,Oi.each(s,function(a,r){n=e.labelTextColors[r],i.fillStyle=n,Oi.each(a.before,c),Oi.each(a.lines,function(a){l&&(i.fillStyle=e.legendColorBackground,i.fillRect(u,t.y,o,o),i.lineWidth=1,i.strokeStyle=d[r].borderColor,i.strokeRect(u,t.y,o,o),i.fillStyle=d[r].backgroundColor,i.fillRect(u+1,t.y+1,o-2,o-2),i.fillStyle=n),c(a)}),Oi.each(a.after,c)}),h=0,Oi.each(e.afterBody,c),t.y-=a},drawFooter:function(t,e,i){var n=e.footer;n.length&&(t.x=ae(e,e._footerAlign),t.y+=e.footerMarginTop,i.textAlign=e._footerAlign,i.textBaseline="top",i.fillStyle=e.footerFontColor,i.font=Oi.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),Oi.each(n,function(n){i.fillText(n,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing}))},drawBackground:function(t,e,i,n){i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,i.lineWidth=e.borderWidth;var o=e.xAlign,a=e.yAlign,r=t.x,s=t.y,l=n.width,d=n.height,h=e.cornerRadius;i.beginPath(),i.moveTo(r+h,s),"top"===a&&this.drawCaret(t,n),i.lineTo(r+l-h,s),i.quadraticCurveTo(r+l,s,r+l,s+h),"center"===a&&"right"===o&&this.drawCaret(t,n),i.lineTo(r+l,s+d-h),i.quadraticCurveTo(r+l,s+d,r+l-h,s+d),"bottom"===a&&this.drawCaret(t,n),i.lineTo(r+h,s+d),i.quadraticCurveTo(r,s+d,r,s+d-h),"center"===a&&"left"===o&&this.drawCaret(t,n),i.lineTo(r,s+h),i.quadraticCurveTo(r,s,r+h,s),i.closePath(),i.fill(),e.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity,a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&a&&(t.save(),t.globalAlpha=o,this.drawBackground(n,e,t,i),n.y+=e.yPadding,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),t.restore())}},handleEvent:function(t){var e=this,i=e._options,n=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,i.mode,i),n=!Oi.arrayEquals(e._active,e._lastActive),n&&(e._lastActive=e._active,(i.enabled||i.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),n}}),Gn=Xn,Qn=Kn;Qn.positioners=Gn;var Zn=Oi.valueOrDefault;Ii._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Jn=function(t,e){return this.construct(t,e),this};Oi.extend(Jn.prototype,{construct:function(t,e){var i=this;e=de(e);var n=jn.acquireContext(t,e),o=n&&n.canvas,a=o&&o.height,r=o&&o.width;if(i.id=Oi.uid(),i.ctx=n,i.canvas=o,i.config=e,i.width=r,i.height=a,i.aspectRatio=a?r/a:null,i.options=e.options,i._bufferedRender=!1,i.chart=i,i.controller=i,Jn.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),!n||!o)return void console.error("Failed to create chart: can't acquire context from the given item");i.initialize(),i.update()},initialize:function(){var t=this;return qn.notify(t,"beforeInit"),Oi.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),qn.notify(t,"afterInit"),t},clear:function(){return Oi.canvas.clear(this),this},stop:function(){return Wi.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,n=e.canvas,o=i.maintainAspectRatio&&e.aspectRatio||null,a=Math.max(0,Math.floor(Oi.getMaximumWidth(n))),r=Math.max(0,Math.floor(o?a/o:Oi.getMaximumHeight(n)));if((e.width!==a||e.height!==r)&&(n.width=e.width=a,n.height=e.height=r,n.style.width=a+"px",n.style.height=r+"px",Oi.retinaScale(e,i.devicePixelRatio),!t)){var s={width:a,height:r};qn.notify(e,"resize",[s]),i.onResize&&i.onResize(e,s),e.stop(),e.update({duration:i.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;Oi.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),Oi.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,i=t.scales||{},n=[],o=Object.keys(i).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(n=n.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&n.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),Oi.each(n,function(e){var n=e.options,a=n.id,r=Zn(n.type,e.dtype);ue(n.position)!==ue(e.dposition)&&(n.position=e.dposition),o[a]=!0;var s=null;if(a in i&&i[a].type===r)s=i[a],s.options=n,s.ctx=t.ctx,s.chart=t;else{var l=$n.getScaleConstructor(r);if(!l)return;s=new l({id:a,type:r,options:n,ctx:t.ctx,chart:t}),i[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)}),Oi.each(o,function(t,e){t||delete i[e]}),t.scales=i,$n.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,e=[];return Oi.each(t.data.datasets,function(i,n){var o=t.getDatasetMeta(n),a=i.type||t.config.type;if(o.type&&o.type!==a&&(t.destroyDatasetMeta(n),o=t.getDatasetMeta(n)),o.type=a,o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{var r=Tn[o.type];if(void 0===r)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new r(t,n),e.push(o.controller)}},t),e},resetElements:function(){var t=this;Oi.each(t.data.datasets,function(e,i){t.getDatasetMeta(i).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),he(e),qn._invalidate(e),!1!==qn.notify(e,"beforeUpdate")){e.tooltip._data=e.data;var i=e.buildOrUpdateControllers();Oi.each(e.data.datasets,function(t,i){e.getDatasetMeta(i).controller.buildOrUpdateElements()},e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&Oi.each(i,function(t){t.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],qn.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var t=this;!1!==qn.notify(t,"beforeLayout")&&(An.update(this,this.width,this.height),qn.notify(t,"afterScaleUpdate"),qn.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==qn.notify(t,"beforeDatasetsUpdate")){for(var e=0,i=t.data.datasets.length;e<i;++e)t.updateDataset(e);qn.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,i=e.getDatasetMeta(t),n={meta:i,index:t};!1!==qn.notify(e,"beforeDatasetUpdate",[n])&&(i.controller.update(),qn.notify(e,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var i=e.options.animation,n=Zn(t.duration,i&&i.duration),o=t.lazy;if(!1!==qn.notify(e,"beforeRender")){var a=function(t){qn.notify(e,"afterRender"),Oi.callback(i&&i.onComplete,[t],e)};if(i&&n){var r=new Ni({numSteps:n/16.66,easing:t.easing||i.easing,render:function(t,e){var i=Oi.easing.effects[e.easing],n=e.currentStep,o=n/e.numSteps;t.draw(i(o),o,n)},onAnimationProgress:i.onProgress,onAnimationComplete:a});Wi.addAnimation(e,r,n,o)}else e.draw(),a(new Ni({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),Oi.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||!1!==qn.notify(e,"beforeDraw",[t])&&(Oi.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.drawDatasets(t),e._drawTooltip(t),qn.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,i=0,n=(e.data.datasets||[]).length;i<n;++i)e.isDatasetVisible(i)&&e.getDatasetMeta(i).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==qn.notify(e,"beforeDatasetsDraw",[t])){for(var i=(e.data.datasets||[]).length-1;i>=0;--i)e.isDatasetVisible(i)&&e.drawDataset(i,t);qn.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i=this,n=i.getDatasetMeta(t),o={meta:n,index:t,easingValue:e};!1!==qn.notify(i,"beforeDatasetDraw",[o])&&(n.controller.draw(e),qn.notify(i,"afterDatasetDraw",[o]))},_drawTooltip:function(t){var e=this,i=e.tooltip,n={tooltip:i,easingValue:t};!1!==qn.notify(e,"beforeTooltipDraw",[n])&&(i.draw(),qn.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Fn.modes.single(this,t)},getElementsAtEvent:function(t){return Fn.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Fn.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=Fn.modes[e];return"function"==typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return Fn.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,i=e.data.datasets[t];i._meta||(i._meta={});var n=i._meta[e.id];return n||(n=i._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t)i.destroyDatasetMeta(t);n&&(i.unbindEvents(),Oi.canvas.clear(i),jn.releaseContext(i.ctx),i.canvas=null,i.ctx=null),qn.notify(i,"destroy"),delete Jn.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Qn({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},i=function(){t.eventHandler.apply(t,arguments)};Oi.each(t.options.events,function(n){jn.addEventListener(t,n,i),e[n]=i}),t.options.responsive&&(i=function(){t.resize()},jn.addEventListener(t,"resize",i),e.resize=i)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,Oi.each(e,function(e,i){jn.removeEventListener(t,i,e)}))},updateHoverStyle:function(t,e,i){var n,o,a,r=i?"setHoverStyle":"removeHoverStyle";for(o=0,a=t.length;o<a;++o)(n=t[o])&&this.getDatasetMeta(n._datasetIndex).controller[r](n)},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==qn.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);i&&(n=i._start?i.handleEvent(t):n|i.handleEvent(t)),qn.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o):n&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,i=e.options||{},n=i.hover,o=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,n.mode,n),Oi.callback(i.onHover||i.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,n.mode,!1),e.active.length&&n.mode&&e.updateHoverStyle(e.active,n.mode,!0),o=!Oi.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,o}}),Jn.instances={};var to=Jn;Jn.Controller=Jn,Jn.types={},Oi.configMerge=le,Oi.scaleMerge=se;Oi.extend(fe.prototype,{formats:ce,parse:ce,format:ce,add:ce,diff:ce,startOf:ce,endOf:ce,_create:function(t){return t}}),fe.override=function(t){Oi.extend(fe.prototype,t)};var eo=fe,io={_date:eo},no={formatters:{values:function(t){return Oi.isArray(t)?t:""+t},linear:function(t,e,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var o=Oi.log10(Math.abs(n)),a="";if(0!==t){if(Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]))<1e-4){var r=Oi.log10(Math.abs(t));a=t.toExponential(Math.floor(r)-Math.floor(o))}else{var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=t.toFixed(s)}}else a="0";return a},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(Oi.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===e||e===i.length-1?t.toExponential():""}}},oo=Oi.valueOrDefault,ao=Oi.valueAtIndexOrDefault;Ii._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:no.formatters.values,minor:{},major:{}}});var ro=Bi.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1});for(var e in t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){Oi.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,o,a,r,s,l,d=this;for(d.beforeUpdate(),d.maxWidth=t,d.maxHeight=e,d.margins=Oi.extend({left:0,right:0,top:0,bottom:0},i),d._maxLabelLines=0,d.longestLabelWidth=0,d.longestTextCache=d.longestTextCache||{},d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeDataLimits(),d.determineDataLimits(),d.afterDataLimits(),d.beforeBuildTicks(),s=d.buildTicks()||[],s=d.afterBuildTicks(s)||s,d.beforeTickToLabelConversion(),a=d.convertTicksToLabels(s)||d.ticks,d.afterTickToLabelConversion(),d.ticks=a,n=0,o=a.length;n<o;++n)r=a[n],l=s[n],l?l.label=r:s.push(l={label:r,major:!1});return d._ticks=s,d.beforeCalculateTickRotation(),d.calculateTickRotation(),d.afterCalculateTickRotation(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:function(){Oi.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Oi.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){Oi.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Oi.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Oi.noop,afterDataLimits:function(){Oi.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Oi.callback(this.options.beforeBuildTicks,[this])},buildTicks:Oi.noop,afterBuildTicks:function(t){var e=this;return Oi.isArray(t)&&t.length?Oi.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=Oi.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){Oi.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){Oi.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Oi.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,i=t.options.ticks,n=pe(t._ticks),o=Oi.options._parseFont(i);e.font=o.string;var a=i.minRotation||0;if(n.length&&t.options.display&&t.isHorizontal())for(var r,s=Oi.longestText(e,o.string,n,t.longestTextCache),l=s,d=t.getPixelForTick(1)-t.getPixelForTick(0)-6;l>d&&a<i.maxRotation;){var h=Oi.toRadians(a);if(r=Math.cos(h),Math.sin(h)*s>t.maxHeight){a--;break}a++,l=r*s}t.labelRotation=a},afterCalculateTickRotation:function(){Oi.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Oi.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=pe(t._ticks),n=t.options,o=n.ticks,a=n.scaleLabel,r=n.gridLines,s=t._isVisible(),l=n.position,d=t.isHorizontal(),h=Oi.options._parseFont,u=h(o),c=n.gridLines.tickMarkLength;if(e.width=d?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&r.drawTicks?c:0,e.height=d?s&&r.drawTicks?c:0:t.maxHeight,a.display&&s){var f=h(a),p=Oi.options.toPadding(a.padding),g=f.lineHeight+p.height;d?e.height+=g:e.width+=g}if(o.display&&s){var m=Oi.longestText(t.ctx,u.string,i,t.longestTextCache),v=Oi.numberOfLabelLines(i),b=.5*u.size,y=t.options.ticks.padding;if(t._maxLabelLines=v,t.longestLabelWidth=m,d){var x=Oi.toRadians(t.labelRotation),w=Math.cos(x),_=Math.sin(x),k=_*m+u.lineHeight*v+b;e.height=Math.min(t.maxHeight,e.height+k+y),t.ctx.font=u.string;var C,M,D=me(t.ctx,i[0],u.string),S=me(t.ctx,i[i.length-1],u.string),T=t.getPixelForTick(0)-t.left,F=t.right-t.getPixelForTick(i.length-1);0!==t.labelRotation?(C="bottom"===l?w*D:w*b,M="bottom"===l?w*b:w*S):(C=D/2,M=S/2),t.paddingLeft=Math.max(C-T,0)+3,t.paddingRight=Math.max(M-F,0)+3}else o.mirror?m=0:m+=y+b,e.width=Math.min(t.maxWidth,e.width+m),t.paddingTop=u.size/2,t.paddingBottom=u.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){Oi.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(Oi.isNullOrUndef(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){
if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:Oi.noop,getPixelForValue:Oi.noop,getValueForPixel:Oi.noop,getPixelForTick:function(t){var e=this,i=e.options.offset;if(e.isHorizontal()){var n=e.width-(e.paddingLeft+e.paddingRight),o=n/Math.max(e._ticks.length-(i?0:1),1),a=o*t+e.paddingLeft;i&&(a+=o/2);var r=e.left+a;return r+=e.isFullWidth()?e.margins.left:0}var s=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(s/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var i=e.width-(e.paddingLeft+e.paddingRight),n=i*t+e.paddingLeft,o=e.left+n;return o+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e,i,n=this,o=n.isHorizontal(),a=n.options.ticks.minor,r=t.length,s=!1,l=a.maxTicksLimit,d=n._tickSize()*(r-1),h=o?n.width-(n.paddingLeft+n.paddingRight):n.height-(n.paddingTop+n.PaddingBottom),u=[];for(d>h&&(s=1+Math.floor(d/h)),r>l&&(s=Math.max(s,1+Math.floor(r/l))),e=0;e<r;e++)i=t[e],s>1&&e%s>0&&delete i.label,u.push(i);return u},_tickSize:function(){var t=this,e=t.isHorizontal(),i=t.options.ticks.minor,n=Oi.toRadians(t.labelRotation),o=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),r=i.autoSkipPadding||0,s=t.longestLabelWidth+r||0,l=Oi.options._parseFont(i),d=t._maxLabelLines*l.lineHeight+r||0;return e?d*o>s*a?s/o:d/a:d*a<s*o?d/o:s/a},_isVisible:function(){var t,e,i,n=this,o=n.chart,a=n.options.display;if("auto"!==a)return!!a;for(t=0,e=o.data.datasets.length;t<e;++t)if(o.isDatasetVisible(t)&&(i=o.getDatasetMeta(t),i.xAxisID===n.id||i.yAxisID===n.id))return!0;return!1},draw:function(t){var e=this,i=e.options;if(e._isVisible()){var n,o,a,r=e.chart,s=e.ctx,l=Ii.global,d=l.defaultFontColor,h=i.ticks.minor,u=i.ticks.major||h,c=i.gridLines,f=i.scaleLabel,p=i.position,g=0!==e.labelRotation,m=h.mirror,v=e.isHorizontal(),b=Oi.options._parseFont,y=h.display&&h.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),x=oo(h.fontColor,d),w=b(h),_=w.lineHeight,k=oo(u.fontColor,d),C=b(u),M=h.padding,D=h.labelOffset,S=c.drawTicks?c.tickMarkLength:0,T=oo(f.fontColor,d),F=b(f),A=Oi.options.toPadding(f.padding),I=Oi.toRadians(e.labelRotation),P=[],E=c.drawBorder?ao(c.lineWidth,0,0):0,O=Oi._alignPixel;"top"===p?(n=O(r,e.bottom,E),o=e.bottom-S,a=n-E/2):"bottom"===p?(n=O(r,e.top,E),o=n+E/2,a=e.top+S):"left"===p?(n=O(r,e.right,E),o=e.right-S,a=n-E/2):(n=O(r,e.left,E),o=n+E/2,a=e.left+S);if(Oi.each(y,function(n,s){if(!Oi.isNullOrUndef(n.label)){var l,d,h,u,f=n.label;s===e.zeroLineIndex&&i.offset===c.offsetGridLines?(l=c.zeroLineWidth,d=c.zeroLineColor,h=c.zeroLineBorderDash||[],u=c.zeroLineBorderDashOffset||0):(l=ao(c.lineWidth,s),d=ao(c.color,s),h=c.borderDash||[],u=c.borderDashOffset||0);var b,y,x,w,k,C,T,F,A,L,R,V,U=Oi.isArray(f)?f.length:1,B=ge(e,s,c.offsetGridLines);if(v){var z=S+M;B<e.left-1e-7&&(d="rgba(0,0,0,0)"),b=x=k=T=O(r,B,l),y=o,w=a,A=e.getPixelForTick(s)+D,"top"===p?(C=O(r,t.top,E)+E/2,F=t.bottom,R=((g?1:.5)-U)*_,V=g?"left":"center",L=e.bottom-z):(C=t.top,F=O(r,t.bottom,E)-E/2,R=(g?0:.5)*_,V=g?"right":"center",L=e.top+z)}else{var N=(m?0:S)+M;B<e.top-1e-7&&(d="rgba(0,0,0,0)"),b=o,x=a,y=w=C=F=O(r,B,l),L=e.getPixelForTick(s)+D,R=(1-U)*_/2,"left"===p?(k=O(r,t.left,E)+E/2,T=t.right,V=m?"left":"right",A=e.right-N):(k=t.left,T=O(r,t.right,E)-E/2,V=m?"right":"left",A=e.left+N)}P.push({tx1:b,ty1:y,tx2:x,ty2:w,x1:k,y1:C,x2:T,y2:F,labelX:A,labelY:L,glWidth:l,glColor:d,glBorderDash:h,glBorderDashOffset:u,rotation:-1*I,label:f,major:n.major,textOffset:R,textAlign:V})}}),Oi.each(P,function(t){var e=t.glWidth,i=t.glColor;if(c.display&&e&&i&&(s.save(),s.lineWidth=e,s.strokeStyle=i,s.setLineDash&&(s.setLineDash(t.glBorderDash),s.lineDashOffset=t.glBorderDashOffset),s.beginPath(),c.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),c.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke(),s.restore()),h.display){s.save(),s.translate(t.labelX,t.labelY),s.rotate(t.rotation),s.font=t.major?C.string:w.string,s.fillStyle=t.major?k:x,s.textBaseline="middle",s.textAlign=t.textAlign;var n=t.label,o=t.textOffset;if(Oi.isArray(n))for(var a=0;a<n.length;++a)s.fillText(""+n[a],0,o),o+=_;else s.fillText(n,0,o);s.restore()}}),f.display){var L,R,V=0,U=F.lineHeight/2;if(v)L=e.left+(e.right-e.left)/2,R="bottom"===p?e.bottom-U-A.bottom:e.top+U+A.top;else{var B="left"===p;L=B?e.left+U+A.top:e.right-U-A.top,R=e.top+(e.bottom-e.top)/2,V=B?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(L,R),s.rotate(V),s.textAlign="center",s.textBaseline="middle",s.fillStyle=T,s.font=F.string,s.fillText(f.labelString,0,0),s.restore()}if(E){var z,N,W,H,j=E,q=ao(c.lineWidth,y.length-1,0);v?(z=O(r,e.left,j)-j/2,N=O(r,e.right,q)+q/2,W=H=n):(W=O(r,e.top,j)-j/2,H=O(r,e.bottom,q)+q/2,z=N=n),s.lineWidth=E,s.strokeStyle=ao(c.color,0),s.beginPath(),s.moveTo(z,W),s.lineTo(N,H),s.stroke()}}}}),so={position:"bottom"},lo=ro.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,e=t.getLabels();t.minIndex=0,t.maxIndex=e.length-1;var i;void 0!==t.options.ticks.min&&(i=e.indexOf(t.options.ticks.min),t.minIndex=-1!==i?i:t.minIndex),void 0!==t.options.ticks.max&&(i=e.indexOf(t.options.ticks.max),t.maxIndex=-1!==i?i:t.maxIndex),t.min=e[t.minIndex],t.max=e[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var i=this,n=i.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===i.id?i.getRightValue(n.data.datasets[e].data[t]):i.ticks[t-i.minIndex]},getPixelForValue:function(t,e){var i,n=this,o=n.options.offset,a=Math.max(n.maxIndex+1-n.minIndex-(o?0:1),1);if(void 0!==t&&null!==t&&(i=n.isHorizontal()?t.x:t.y),void 0!==i||void 0!==t&&isNaN(e)){var r=n.getLabels();t=i||t;var s=r.indexOf(t);e=-1!==s?s:e}if(n.isHorizontal()){var l=n.width/a,d=l*(e-n.minIndex);return o&&(d+=l/2),n.left+d}var h=n.height/a,u=h*(e-n.minIndex);return o&&(u+=h/2),n.top+u},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,i=e.options.offset,n=Math.max(e._ticks.length-(i?0:1),1),o=e.isHorizontal(),a=(o?e.width:e.height)/n;return t-=o?e.left:e.top,i&&(t-=a/2),(t<=0?0:Math.round(t/a))+e.minIndex},getBasePixel:function(){return this.bottom}}),ho=so;lo._defaults=ho;var uo=Oi.noop,co=Oi.isNullOrUndef,fo=ro.extend({getRightValue:function(t){return"string"==typeof t?+t:ro.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options,i=e.ticks;if(i.beginAtZero){var n=Oi.sign(t.min),o=Oi.sign(t.max);n<0&&o<0?t.max=0:n>0&&o>0&&(t.min=0)}var a=void 0!==i.min||void 0!==i.suggestedMin,r=void 0!==i.max||void 0!==i.suggestedMax;void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(null===t.min?t.min=i.suggestedMin:t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(null===t.max?t.max=i.suggestedMax:t.max=Math.max(t.max,i.suggestedMax)),a!==r&&t.min>=t.max&&(a?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this,i=e.options.ticks,n=i.stepSize,o=i.maxTicksLimit;return n?t=Math.ceil(e.max/n)-Math.floor(e.min/n)+1:(t=e._computeTickLimit(),o=o||11),o&&(t=Math.min(o,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:uo,buildTicks:function(){var t=this,e=t.options,i=e.ticks,n=t.getTickLimit();n=Math.max(2,n);var o={maxTicks:n,min:i.min,max:i.max,precision:i.precision,stepSize:Oi.valueOrDefault(i.fixedStepSize,i.stepSize)},a=t.ticks=ve(o,t);t.handleDirectionalChanges(),t.max=Oi.max(a),t.min=Oi.min(a),i.reverse?(a.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),ro.prototype.convertTicksToLabels.call(t)}}),po={position:"left",ticks:{callback:no.formatters.linear}},go=fo.extend({determineDataLimits:function(){function t(t){return r?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,i=e.options,n=e.chart,o=n.data,a=o.datasets,r=e.isHorizontal();e.min=null,e.max=null;var s=i.stacked;if(void 0===s&&Oi.each(a,function(e,i){if(!s){var o=n.getDatasetMeta(i);n.isDatasetVisible(i)&&t(o)&&void 0!==o.stack&&(s=!0)}}),i.stacked||s){var l={};Oi.each(a,function(o,a){var r=n.getDatasetMeta(a),s=[r.type,void 0===i.stacked&&void 0===r.stack?a:"",r.stack].join(".");void 0===l[s]&&(l[s]={positiveValues:[],negativeValues:[]});var d=l[s].positiveValues,h=l[s].negativeValues;n.isDatasetVisible(a)&&t(r)&&Oi.each(o.data,function(t,n){var o=+e.getRightValue(t);isNaN(o)||r.data[n].hidden||(d[n]=d[n]||0,h[n]=h[n]||0,i.relativePoints?d[n]=100:o<0?h[n]+=o:d[n]+=o)})}),Oi.each(l,function(t){var i=t.positiveValues.concat(t.negativeValues),n=Oi.min(i),o=Oi.max(i);e.min=null===e.min?n:Math.min(e.min,n),e.max=null===e.max?o:Math.max(e.max,o)})}else Oi.each(a,function(i,o){var a=n.getDatasetMeta(o);n.isDatasetVisible(o)&&t(a)&&Oi.each(i.data,function(t,i){var n=+e.getRightValue(t);isNaN(n)||a.data[i].hidden||(null===e.min?e.min=n:n<e.min&&(e.min=n),null===e.max?e.max=n:n>e.max&&(e.max=n))})});e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:0,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=Oi.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,i=e.start,n=+e.getRightValue(t),o=e.end-i;return e.isHorizontal()?e.left+e.width/o*(n-i):e.bottom-e.height/o*(n-i)},getValueForPixel:function(t){var e=this,i=e.isHorizontal(),n=i?e.width:e.height,o=(i?t-e.left:e.bottom-t)/n;return e.start+(e.end-e.start)*o},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}}),mo=po;go._defaults=mo;var vo=Oi.valueOrDefault,bo={position:"left",ticks:{callback:no.formatters.logarithmic}},yo=ro.extend({determineDataLimits:function(){function t(t){return r?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,i=e.options,n=e.chart,o=n.data,a=o.datasets,r=e.isHorizontal();e.min=null,e.max=null,e.minNotZero=null;var s=i.stacked;if(void 0===s&&Oi.each(a,function(e,i){if(!s){var o=n.getDatasetMeta(i);n.isDatasetVisible(i)&&t(o)&&void 0!==o.stack&&(s=!0)}}),i.stacked||s){var l={};Oi.each(a,function(o,a){var r=n.getDatasetMeta(a),s=[r.type,void 0===i.stacked&&void 0===r.stack?a:"",r.stack].join(".");n.isDatasetVisible(a)&&t(r)&&(void 0===l[s]&&(l[s]=[]),Oi.each(o.data,function(t,i){var n=l[s],o=+e.getRightValue(t);isNaN(o)||r.data[i].hidden||o<0||(n[i]=n[i]||0,n[i]+=o)}))}),Oi.each(l,function(t){if(t.length>0){var i=Oi.min(t),n=Oi.max(t);e.min=null===e.min?i:Math.min(e.min,i),e.max=null===e.max?n:Math.max(e.max,n)}})}else Oi.each(a,function(i,o){var a=n.getDatasetMeta(o);n.isDatasetVisible(o)&&t(a)&&Oi.each(i.data,function(t,i){var n=+e.getRightValue(t);isNaN(n)||a.data[i].hidden||n<0||(null===e.min?e.min=n:n<e.min&&(e.min=n),null===e.max?e.max=n:n>e.max&&(e.max=n),0!==n&&(null===e.minNotZero||n<e.minNotZero)&&(e.minNotZero=n))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=ye(e.min,t.min),t.max=ye(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(Oi.log10(t.min))-1),t.max=Math.pow(10,Math.floor(Oi.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(Oi.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(Oi.log10(t.min))+1):10),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(Oi.log10(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,i=!t.isHorizontal(),n={min:ye(e.min),max:ye(e.max)},o=t.ticks=be(n,t);t.max=Oi.max(o),t.min=Oi.min(o),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&o.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),ro.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(Oi.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(t){var e,i,n,o,a,r=this,s=r.options.ticks,l=s.reverse,d=Oi.log10,h=r._getFirstTickValue(r.minNotZero),u=0;return t=+r.getRightValue(t),l?(n=r.end,o=r.start,a=-1):(n=r.start,o=r.end,a=1),r.isHorizontal()?(e=r.width,i=l?r.right:r.left):(e=r.height,a*=-1,i=l?r.top:r.bottom),t!==n&&(0===n&&(u=vo(s.fontSize,Ii.global.defaultFontSize),e-=u,n=h),0!==t&&(u+=e/(d(o)-d(n))*(d(t)-d(n))),i+=a*u),i},getValueForPixel:function(t){var e,i,n,o,a=this,r=a.options.ticks,s=r.reverse,l=Oi.log10,d=a._getFirstTickValue(a.minNotZero);if(s?(i=a.end,n=a.start):(i=a.start,n=a.end),a.isHorizontal()?(e=a.width,o=s?a.right-t:t-a.left):(e=a.height,o=s?t-a.top:a.bottom-t),o!==i){if(0===i){var h=vo(r.fontSize,Ii.global.defaultFontSize);o-=h,e-=h,i=d}o*=l(n)-l(i),o/=e,o=Math.pow(10,l(i)+o)}return o}}),xo=bo;yo._defaults=xo;var wo=Oi.valueOrDefault,_o=Oi.valueAtIndexOrDefault,ko=Oi.options.resolve,Co={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:no.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},Mo=fo.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=we(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;Oi.each(e.data.datasets,function(o,a){if(e.isDatasetVisible(a)){var r=e.getDatasetMeta(a);Oi.each(o.data,function(e,o){var a=+t.getRightValue(e);isNaN(a)||r.data[o].hidden||(i=Math.min(a,i),n=Math.max(a,n))})}}),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=n===Number.NEGATIVE_INFINITY?0:n,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/we(this.options))},convertTicksToLabels:function(){var t=this;fo.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?Ce(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,i){var n=this,o=e.l/Math.sin(i.l),a=Math.max(e.r-n.width,0)/Math.sin(i.r),r=-e.t/Math.cos(i.t),s=-Math.max(e.b-(n.height-n.paddingTop),0)/Math.cos(i.b);o=Ae(o),a=Ae(a),r=Ae(r),s=Ae(s),n.drawingArea=Math.min(Math.floor(t-(o+a)/2),Math.floor(t-(r+s)/2)),n.setCenterPoint(o,a,r,s)},setCenterPoint:function(t,e,i,n){var o=this,a=o.width-e-o.drawingArea,r=t+o.drawingArea,s=i+o.drawingArea,l=o.height-o.paddingTop-n-o.drawingArea;o.xCenter=Math.floor((r+a)/2+o.left),o.yCenter=Math.floor((s+l)/2+o.top+o.paddingTop)},getIndexAngle:function(t){return t*(2*Math.PI/xe(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this,n=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+i.xCenter,y:Math.sin(n)*e+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,i=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0)},draw:function(){var t=this,e=t.options,i=e.gridLines,n=e.ticks;if(e.display){var o=t.ctx,a=this.getIndexAngle(0),r=Oi.options._parseFont(n);(e.angleLines.display||e.pointLabels.display)&&Te(t),Oi.each(t.ticks,function(e,s){if(s>0||n.reverse){var l=t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]);if(i.display&&0!==s&&Fe(t,i,l,s),n.display){var d=wo(n.fontColor,Ii.global.defaultFontColor);if(o.font=r.string,o.save(),o.translate(t.xCenter,t.yCenter),o.rotate(a),n.showLabelBackdrop){var h=o.measureText(e).width;o.fillStyle=n.backdropColor,o.fillRect(-h/2-n.backdropPaddingX,-l-r.size/2-n.backdropPaddingY,h+2*n.backdropPaddingX,r.size+2*n.backdropPaddingY)}o.textAlign="center",o.textBaseline="middle",o.fillStyle=d,o.fillText(e,0,-l),o.restore()}}})}}}),Do=Co;Mo._defaults=Do;var So=Oi.valueOrDefault,To=Number.MIN_SAFE_INTEGER||-9007199254740991,Fo=Number.MAX_SAFE_INTEGER||9007199254740991,Ao={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},Io=Object.keys(Ao),Po={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Eo=ro.extend({initialize:function(){this.mergeTicksOptions(),ro.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,i=e.time||(e.time={}),n=t._adapter=new io._date(e.adapters.date);return i.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),Oi.mergeIf(i.displayFormats,n.formats()),ro.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),ro.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,o,a,r=this,s=r.chart,l=r._adapter,d=r.options.time,h=d.unit||"day",u=Fo,c=To,f=[],p=[],g=[],m=s.data.labels||[];for(t=0,i=m.length;t<i;++t)g.push(Ve(r,m[t]));for(t=0,i=(s.data.datasets||[]).length;t<i;++t)if(s.isDatasetVisible(t))if(o=s.data.datasets[t].data,Oi.isObject(o[0]))for(p[t]=[],e=0,n=o.length;e<n;++e)a=Ve(r,o[e]),f.push(a),p[t][e]=a;else{for(e=0,n=g.length;e<n;++e)f.push(g[e]);p[t]=g.slice(0)}else p[t]=[];g.length&&(g=Pe(g).sort(Ie),u=Math.min(u,g[0]),c=Math.max(c,g[g.length-1])),f.length&&(f=Pe(f).sort(Ie),u=Math.min(u,f[0]),c=Math.max(c,f[f.length-1])),u=Ve(r,d.min)||u,c=Ve(r,d.max)||c,u=u===Fo?+l.startOf(Date.now(),h):u,c=c===To?+l.endOf(Date.now(),h)+1:c,r.min=Math.min(u,c),r.max=Math.max(u+1,c),r._horizontal=r.isHorizontal(),r._table=[],r._timestamps={data:f,datasets:p,labels:g}},buildTicks:function(){var t,e,i,n=this,o=n.min,a=n.max,r=n.options,s=r.time,l=[],d=[];switch(r.ticks.source){case"data":l=n._timestamps.data;break;case"labels":l=n._timestamps.labels;break;case"auto":default:l=We(n,o,a,n.getLabelCapacity(o))}for("ticks"===r.bounds&&l.length&&(o=l[0],a=l[l.length-1]),o=Ve(n,s.min)||o,a=Ve(n,s.max)||a,t=0,e=l.length;t<e;++t)(i=l[t])>=o&&i<=a&&d.push(i);return n.min=o,n.max=a,n._unit=s.unit||ze(n,d,s.minUnit,n.min,n.max),n._majorUnit=Ne(n._unit),n._table=Ee(n._timestamps.data,o,a,r.distribution),n._offsets=He(n._table,d,o,a,r),r.ticks.reverse&&d.reverse(),je(n,d,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i._adapter,o=i.chart.data,a=i.options.time,r=o.labels&&t<o.labels.length?o.labels[t]:"",s=o.datasets[e].data[t];return Oi.isObject(s)&&(r=i.getRightValue(s)),a.tooltipFormat?n.format(Re(i,r),a.tooltipFormat):"string"==typeof r?r:n.format(Re(i,r),a.displayFormats.datetime)},tickFormatFunction:function(t,e,i,n){var o=this,a=o._adapter,r=o.options,s=r.time.displayFormats,l=s[o._unit],d=o._majorUnit,h=s[d],u=+a.startOf(t,d),c=r.ticks.major,f=c.enabled&&d&&h&&t===u,p=a.format(t,n||(f?h:l)),g=f?c:r.ticks.minor,m=So(g.callback,g.userCallback);return m?m(p,e,i):p},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(t[e].value,e,t));return n},getPixelForOffset:function(t){var e=this,i=e.options.ticks.reverse,n=e._horizontal?e.width:e.height,o=e._horizontal?i?e.right:e.left:i?e.bottom:e.top,a=Le(e._table,"time",t,"pos"),r=n*(e._offsets.start+a)/(e._offsets.start+1+e._offsets.end);return i?o-r:o+r},getPixelForValue:function(t,e,i){var n=this,o=null;if(void 0!==e&&void 0!==i&&(o=n._timestamps.datasets[i][e]),null===o&&(o=Ve(n,t)),null!==o)return n.getPixelForOffset(o)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,o=(i?(t-n)/i:0)*(e._offsets.start+1+e._offsets.start)-e._offsets.end,a=Le(e._table,"pos",o,"time");return e._adapter._create(a)},getLabelWidth:function(t){var e=this,i=e.options.ticks,n=e.ctx.measureText(t).width,o=Oi.toRadians(i.maxRotation),a=Math.cos(o),r=Math.sin(o);return n*a+So(i.fontSize,Ii.global.defaultFontSize)*r},getLabelCapacity:function(t){var e=this,i=e.options.time.displayFormats.millisecond,n=e.tickFormatFunction(t,0,[],i),o=e.getLabelWidth(n),a=e.isHorizontal()?e.width:e.height,r=Math.floor(a/o);return r>0?r:1}}),Oo=Po;Eo._defaults=Oo;var Lo={category:lo,linear:go,logarithmic:yo,radialLinear:Mo,time:Eo},Ro={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};io._date.override("function"==typeof t?{_id:"moment",formats:function(){return Ro},parse:function(e,i){return"string"==typeof e&&"string"==typeof i?e=t(e,i):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,i){return t(e).format(i)},add:function(e,i,n){return t(e).add(i,n).valueOf()},diff:function(e,i,n){return t.duration(t(e).diff(t(i))).as(n)},startOf:function(e,i,n){return e=t(e),"isoWeek"===i?e.isoWeekday(n).valueOf():e.startOf(i).valueOf()},endOf:function(e,i){return t(e).endOf(i).valueOf()},_create:function(e){return t(e)}}:{}),Ii._set("global",{plugins:{filler:{propagate:!0}}});var Vo={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),o=n&&i.isDatasetVisible(e),a=o&&n.dataset._children||[],r=a.length||0;return r?function(t,e){return e<r&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}},Uo={id:"filler",afterDatasetsUpdate:function(t,e){var i,n,o,a,r=(t.data.datasets||[]).length,s=e.propagate,l=[];for(n=0;n<r;++n)i=t.getDatasetMeta(n),o=i.dataset,a=null,o&&o._model&&o instanceof nn.Line&&(a={visible:t.isDatasetVisible(n),fill:qe(o,n,r),chart:t,el:o}),i.$filler=a,l.push(a);for(n=0;n<r;++n)(a=l[n])&&(a.fill=Ye(l,n,s),a.boundary=$e(a),a.mapper=Xe(a))},beforeDatasetDraw:function(t,e){var i=e.meta.$filler;if(i){var n=t.ctx,o=i.el,a=o._view,r=o._children||[],s=i.mapper,l=a.backgroundColor||Ii.global.defaultColor;s&&l&&r.length&&(Oi.canvas.clipArea(n,t.chartArea),Qe(n,r,s,a,l,o._loop),Oi.canvas.unclipArea(n))}}},Bo=Oi.noop,zo=Oi.valueOrDefault;Ii._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,o=n.getDatasetMeta(i);o.hidden=null===o.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return Oi.isArray(e.datasets)?e.datasets.map(function(e,i){return{text:e.label,fillStyle:Oi.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(i),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:i}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'"></span>'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var No=Bi.extend({initialize:function(t){Oi.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Bo,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:Bo,beforeSetDimensions:Bo,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Bo,beforeBuildLabels:Bo,buildLabels:function(){var t=this,e=t.options.labels||{},i=Oi.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(i=i.filter(function(i){return e.filter(i,t.chart.data)})),t.options.reverse&&i.reverse(),t.legendItems=i},afterBuildLabels:Bo,beforeFit:Bo,fit:function(){var t=this,e=t.options,i=e.labels,n=e.display,o=t.ctx,a=Oi.options._parseFont(i),r=a.size,s=t.legendHitBoxes=[],l=t.minSize,d=t.isHorizontal();if(d?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n)if(o.font=a.string,d){var h=t.lineWidths=[0],u=0;o.textAlign="left",o.textBaseline="top",Oi.each(t.legendItems,function(t,e){var n=Ze(i,r),a=n+r/2+o.measureText(t.text).width;(0===e||h[h.length-1]+a+i.padding>l.width)&&(u+=r+i.padding,h[h.length-(e>0?0:1)]=i.padding),s[e]={left:0,top:0,width:a,height:r},h[h.length-1]+=a+i.padding}),l.height+=u}else{var c=i.padding,f=t.columnWidths=[],p=i.padding,g=0,m=0,v=r+c;Oi.each(t.legendItems,function(t,e){var n=Ze(i,r),a=n+r/2+o.measureText(t.text).width;e>0&&m+v>l.height-c&&(p+=g+i.padding,f.push(g),g=0,m=0),g=Math.max(g,a),m+=v,s[e]={left:0,top:0,width:a,height:r}}),p+=g,f.push(g),l.width+=p}t.width=l.width,t.height=l.height},afterFit:Bo,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,i=e.labels,n=Ii.global,o=n.defaultColor,a=n.elements.line,r=t.width,s=t.lineWidths;if(e.display){var l,d=t.ctx,h=zo(i.fontColor,n.defaultFontColor),u=Oi.options._parseFont(i),c=u.size;d.textAlign="left",d.textBaseline="middle",d.lineWidth=.5,d.strokeStyle=h,d.fillStyle=h,d.font=u.string;var f=Ze(i,c),p=t.legendHitBoxes,g=function(t,i,n){if(!(isNaN(f)||f<=0)){d.save();var r=zo(n.lineWidth,a.borderWidth);if(d.fillStyle=zo(n.fillStyle,o),d.lineCap=zo(n.lineCap,a.borderCapStyle),d.lineDashOffset=zo(n.lineDashOffset,a.borderDashOffset),d.lineJoin=zo(n.lineJoin,a.borderJoinStyle),d.lineWidth=r,d.strokeStyle=zo(n.strokeStyle,o),d.setLineDash&&d.setLineDash(zo(n.lineDash,a.borderDash)),e.labels&&e.labels.usePointStyle){var s=f*Math.SQRT2/2,l=t+f/2,h=i+c/2;Oi.canvas.drawPoint(d,n.pointStyle,s,l,h)}else 0!==r&&d.strokeRect(t,i,f,c),d.fillRect(t,i,f,c);d.restore()}},m=function(t,e,i,n){var o=c/2,a=f+o+t,r=e+o;d.fillText(i.text,a,r),i.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(a,r),d.lineTo(a+n,r),d.stroke())},v=t.isHorizontal();l=v?{x:t.left+(r-s[0])/2+i.padding,y:t.top+i.padding,line:0}:{x:t.left+i.padding,y:t.top+i.padding,line:0};var b=c+i.padding;Oi.each(t.legendItems,function(e,n){var o=d.measureText(e.text).width,a=f+c/2+o,h=l.x,u=l.y;v?n>0&&h+a+i.padding>t.left+t.minSize.width&&(u=l.y+=b,l.line++,h=l.x=t.left+(r-s[l.line])/2+i.padding):n>0&&u+b>t.top+t.minSize.height&&(h=l.x=h+t.columnWidths[l.line]+i.padding,u=l.y=t.top+i.padding,l.line++),g(h,u,e),p[n].left=h,p[n].top=u,m(h,u,e,o),v?l.x+=a+i.padding:l.y+=b})}},_getLegendItemAt:function(t,e){var i,n,o,a=this;if(t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom)for(o=a.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],t>=n.left&&t<=n.left+n.width&&e>=n.top&&e<=n.top+n.height)return a.legendItems[i];return null},handleEvent:function(t){var e,i=this,n=i.options,o="mouseup"===t.type?"click":t.type;if("mousemove"===o){if(!n.onHover&&!n.onLeave)return}else{if("click"!==o)return;if(!n.onClick)return}e=i._getLegendItemAt(t.x,t.y),"click"===o?e&&n.onClick&&n.onClick.call(i,t.native,e):(n.onLeave&&e!==i._hoveredItem&&(i._hoveredItem&&n.onLeave.call(i,t.native,i._hoveredItem),i._hoveredItem=e),n.onHover&&e&&n.onHover.call(i,t.native,e))}}),Wo={id:"legend",_element:No,beforeInit:function(t){var e=t.options.legend;e&&Je(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(Oi.mergeIf(e,Ii.global.legend),i?(An.configure(t,i,e),i.options=e):Je(t,e)):i&&(An.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}},Ho=Oi.noop;Ii._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var jo=Bi.extend({initialize:function(t){var e=this;Oi.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:Ho,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:Ho,beforeSetDimensions:Ho,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Ho,beforeBuildLabels:Ho,buildLabels:Ho,afterBuildLabels:Ho,beforeFit:Ho,fit:function(){var t=this,e=t.options,i=e.display,n=t.minSize,o=Oi.isArray(e.text)?e.text.length:1,a=Oi.options._parseFont(e),r=i?o*a.lineHeight+2*e.padding:0;t.isHorizontal()?(n.width=t.maxWidth,n.height=r):(n.width=r,n.height=t.maxHeight),t.width=n.width,t.height=n.height},afterFit:Ho,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=t.options;if(i.display){var n,o,a,r=Oi.options._parseFont(i),s=r.lineHeight,l=s/2+i.padding,d=0,h=t.top,u=t.left,c=t.bottom,f=t.right;e.fillStyle=Oi.valueOrDefault(i.fontColor,Ii.global.defaultFontColor),e.font=r.string,t.isHorizontal()?(o=u+(f-u)/2,a=h+l,n=f-u):(o="left"===i.position?u+l:f-l,a=h+(c-h)/2,n=c-h,d=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(o,a),e.rotate(d),e.textAlign="center",e.textBaseline="middle";var p=i.text;if(Oi.isArray(p))for(var g=0,m=0;m<p.length;++m)e.fillText(p[m],0,g,n),g+=s;else e.fillText(p,0,0,n);e.restore()}}}),qo={id:"title",_element:jo,beforeInit:function(t){var e=t.options.title;e&&ti(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(Oi.mergeIf(e,Ii.global.title),i?(An.configure(t,i,e),i.options=e):ti(t,e)):i&&(An.removeBox(t,i),delete t.titleBlock)}},$o={},Yo=Uo,Xo=Wo,Ko=qo;$o.filler=Yo,$o.legend=Xo,$o.title=Ko,to.helpers=Oi,function(){function t(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function e(t){return void 0!==t&&null!==t&&"none"!==t}function i(i,n,o){var a=document.defaultView,r=Oi._getParentNode(i),s=a.getComputedStyle(i)[n],l=a.getComputedStyle(r)[n],d=e(s),h=e(l),u=Number.POSITIVE_INFINITY;return d||h?Math.min(d?t(s,i,o):u,h?t(l,r,o):u):"none"}
Oi.where=function(t,e){if(Oi.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return Oi.each(t,function(t){e(t)&&i.push(t)}),i},Oi.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=void 0===i?t:i;for(var n=0,o=t.length;n<o;++n)if(e.call(i,t[n],n,t))return n;return-1},Oi.findNextWhere=function(t,e,i){Oi.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var o=t[n];if(e(o))return o}},Oi.findPreviousWhere=function(t,e,i){Oi.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;n>=0;n--){var o=t[n];if(e(o))return o}},Oi.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},Oi.almostEquals=function(t,e,i){return Math.abs(t-e)<i},Oi.almostWhole=function(t,e){var i=Math.round(t);return i-e<t&&i+e>t},Oi.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},Oi.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},Oi.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},Oi.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e},Oi.toRadians=function(t){return t*(Math.PI/180)},Oi.toDegrees=function(t){return t*(180/Math.PI)},Oi._decimalPlaces=function(t){if(Oi.isFinite(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}},Oi.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,o=Math.sqrt(i*i+n*n),a=Math.atan2(n,i);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:o}},Oi.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Oi.aliasPixel=function(t){return t%2==0?0:.5},Oi._alignPixel=function(t,e,i){var n=t.currentDevicePixelRatio,o=i/2;return Math.round((e-o)*n)/n+o},Oi.splineCurve=function(t,e,i,n){var o=t.skip?e:t,a=e,r=i.skip?e:i,s=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),l=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),d=s/(s+l),h=l/(s+l);d=isNaN(d)?0:d,h=isNaN(h)?0:h;var u=n*d,c=n*h;return{previous:{x:a.x-u*(r.x-o.x),y:a.y-u*(r.y-o.y)},next:{x:a.x+c*(r.x-o.x),y:a.y+c*(r.y-o.y)}}},Oi.EPSILON=Number.EPSILON||1e-14,Oi.splineCurveMonotone=function(t){var e,i,n,o,a=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),r=a.length;for(e=0;e<r;++e)if(n=a[e],!n.model.skip){if(i=e>0?a[e-1]:null,(o=e<r-1?a[e+1]:null)&&!o.model.skip){var s=o.model.x-n.model.x;n.deltaK=0!==s?(o.model.y-n.model.y)/s:0}!i||i.model.skip?n.mK=n.deltaK:!o||o.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}var l,d,h,u;for(e=0;e<r-1;++e)n=a[e],o=a[e+1],n.model.skip||o.model.skip||(Oi.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=o.mK=0:(l=n.mK/n.deltaK,d=o.mK/n.deltaK,(u=Math.pow(l,2)+Math.pow(d,2))<=9||(h=3/Math.sqrt(u),n.mK=l*h*n.deltaK,o.mK=d*h*n.deltaK)));var c;for(e=0;e<r;++e)n=a[e],n.model.skip||(i=e>0?a[e-1]:null,o=e<r-1?a[e+1]:null,i&&!i.model.skip&&(c=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-c,n.model.controlPointPreviousY=n.model.y-c*n.mK),o&&!o.model.skip&&(c=(o.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+c,n.model.controlPointNextY=n.model.y+c*n.mK))},Oi.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},Oi.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},Oi.niceNum=function(t,e){var i=Math.floor(Oi.log10(t)),n=t/Math.pow(10,i);return(e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)},Oi.requestAnimFrame=function(){return"undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),Oi.getRelativePosition=function(t,e){var i,n,o=t.originalEvent||t,a=t.target||t.srcElement,r=a.getBoundingClientRect(),s=o.touches;s&&s.length>0?(i=s[0].clientX,n=s[0].clientY):(i=o.clientX,n=o.clientY);var l=parseFloat(Oi.getStyle(a,"padding-left")),d=parseFloat(Oi.getStyle(a,"padding-top")),h=parseFloat(Oi.getStyle(a,"padding-right")),u=parseFloat(Oi.getStyle(a,"padding-bottom")),c=r.right-r.left-l-h,f=r.bottom-r.top-d-u;return i=Math.round((i-r.left-l)/c*a.width/e.currentDevicePixelRatio),n=Math.round((n-r.top-d)/f*a.height/e.currentDevicePixelRatio),{x:i,y:n}},Oi.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},Oi.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},Oi._calculatePadding=function(t,e,i){return e=Oi.getStyle(t,e),e.indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)},Oi._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},Oi.getMaximumWidth=function(t){var e=Oi._getParentNode(t);if(!e)return t.clientWidth;var i=e.clientWidth,n=Oi._calculatePadding(e,"padding-left",i),o=Oi._calculatePadding(e,"padding-right",i),a=i-n-o,r=Oi.getConstraintWidth(t);return isNaN(r)?a:Math.min(a,r)},Oi.getMaximumHeight=function(t){var e=Oi._getParentNode(t);if(!e)return t.clientHeight;var i=e.clientHeight,n=Oi._calculatePadding(e,"padding-top",i),o=Oi._calculatePadding(e,"padding-bottom",i),a=i-n-o,r=Oi.getConstraintHeight(t);return isNaN(r)?a:Math.min(a,r)},Oi.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},Oi.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==i){var n=t.canvas,o=t.height,a=t.width;n.height=o*i,n.width=a*i,t.ctx.scale(i,i),n.style.height||n.style.width||(n.style.height=o+"px",n.style.width=a+"px")}},Oi.fontString=function(t,e,i){return e+" "+t+"px "+i},Oi.longestText=function(t,e,i,n){n=n||{};var o=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(o=n.data={},a=n.garbageCollect=[],n.font=e),t.font=e;var r=0;Oi.each(i,function(e){void 0!==e&&null!==e&&!0!==Oi.isArray(e)?r=Oi.measureText(t,o,a,r,e):Oi.isArray(e)&&Oi.each(e,function(e){void 0===e||null===e||Oi.isArray(e)||(r=Oi.measureText(t,o,a,r,e))})});var s=a.length/2;if(s>i.length){for(var l=0;l<s;l++)delete o[a[l]];a.splice(0,s)}return r},Oi.measureText=function(t,e,i,n,o){var a=e[o];return a||(a=e[o]=t.measureText(o).width,i.push(o)),a>n&&(n=a),n},Oi.numberOfLabelLines=function(t){var e=1;return Oi.each(t,function(t){Oi.isArray(t)&&t.length>e&&(e=t.length)}),e},Oi.color=vi?function(t){return t instanceof CanvasGradient&&(t=Ii.global.defaultColor),vi(t)}:function(t){return console.error("Color.js not found!"),t},Oi.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:Oi.color(t).saturate(.5).darken(.1).rgbString()}}(),to._adapters=io,to.Animation=Ni,to.animationService=Wi,to.controllers=Tn,to.DatasetController=$i,to.defaults=Ii,to.Element=Bi,to.elements=nn,to.Interaction=Fn,to.layouts=An,to.platform=jn,to.plugins=qn,to.Scale=ro,to.scaleService=$n,to.Ticks=no,to.Tooltip=Qn,to.helpers.each(Lo,function(t,e){to.scaleService.registerScaleType(e,t,t._defaults)});for(var Go in $o)$o.hasOwnProperty(Go)&&to.plugins.register($o[Go]);to.platform.initialize();var Qo=to;return"undefined"!=typeof window&&(window.Chart=to),to.Chart=to,to.Legend=$o.legend._element,to.Title=$o.title._element,to.pluginService=to.plugins,to.PluginBase=to.Element.extend({}),to.canvasHelpers=to.helpers.canvas,to.layoutService=to.layouts,to.LinearScaleBase=fo,to.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){to[t]=function(e,i){return new to(e,to.helpers.merge(i||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),Qo}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.SignaturePad=e()}):"object"==typeof exports?module.exports=e():t.SignaturePad=e()}(this,function(){return function(t){"use strict";var e=function(t,e){var i=this,n=e||{};this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onEnd=n.onEnd,this.onBegin=n.onBegin,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(i._mouseButtonDown=!0,i._strokeBegin(t))},this._handleMouseMove=function(t){i._mouseButtonDown&&i._strokeUpdate(t)},this._handleMouseUp=function(t){1===t.which&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(t))},this._handleTouchStart=function(t){if(1==t.targetTouches.length){var e=t.changedTouches[0];i._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];i._strokeUpdate(e)},this._handleTouchEnd=function(t){t.target===i._canvas&&(t.preventDefault(),i._strokeEnd(t))},this._handleMouseEvents(),this._handleTouchEvents()};e.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._reset()},e.prototype.toDataURL=function(t,e){var i=this._canvas;return i.toDataURL.apply(i,arguments)},e.prototype.fromDataURL=function(t){var e=this,i=new Image,n=window.devicePixelRatio||1,o=this._canvas.width/n,a=this._canvas.height/n;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,o,a)},this._isEmpty=!1},e.prototype._strokeUpdate=function(t){var e=this._createPoint(t);this._addPoint(e)},e.prototype._strokeBegin=function(t){this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},e.prototype._strokeDraw=function(t){var e=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,i),e.closePath(),e.fill()},e.prototype._strokeEnd=function(t){var e=this.points.length>2,i=this.points[0];!e&&i&&this._strokeDraw(i),"function"==typeof this.onEnd&&this.onEnd(t)},e.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),t.addEventListener("mouseup",this._handleMouseUp)},e.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},e.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},e.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),t.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},e.prototype._createPoint=function(t){var e=this._canvas.getBoundingClientRect();return new i(t.clientX-e.left,t.clientY-e.top)},e.prototype._addPoint=function(t){var e,i,o,a,r=this.points;r.push(t),r.length>2&&(3===r.length&&r.unshift(r[0]),a=this._calculateCurveControlPoints(r[0],r[1],r[2]),e=a.c2,a=this._calculateCurveControlPoints(r[1],r[2],r[3]),i=a.c1,o=new n(r[1],e,i,r[2]),this._addCurve(o),r.shift())},e.prototype._calculateCurveControlPoints=function(t,e,n){var o=t.x-e.x,a=t.y-e.y,r=e.x-n.x,s=e.y-n.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},d={x:(e.x+n.x)/2,y:(e.y+n.y)/2},h=Math.sqrt(o*o+a*a),u=Math.sqrt(r*r+s*s),c=l.x-d.x,f=l.y-d.y,p=u/(h+u),g={x:d.x+c*p,y:d.y+f*p},m=e.x-g.x,v=e.y-g.y;return{c1:new i(l.x+m,l.y+v),c2:new i(d.x+m,d.y+v)}},e.prototype._addCurve=function(t){var e,i,n=t.startPoint,o=t.endPoint;e=o.velocityFrom(n),e=this.velocityFilterWeight*e+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(e),this._drawCurve(t,this._lastWidth,i),this._lastVelocity=e,this._lastWidth=i},e.prototype._drawPoint=function(t,e,i){var n=this._ctx;n.moveTo(t,e),n.arc(t,e,i,0,2*Math.PI,!1),this._isEmpty=!1},e.prototype._drawCurve=function(t,e,i){var n,o,a,r,s,l,d,h,u,c,f,p=this._ctx,g=i-e;for(n=Math.floor(t.length()),p.beginPath(),a=0;a<n;a++)r=a/n,s=r*r,l=s*r,d=1-r,h=d*d,u=h*d,c=u*t.startPoint.x,c+=3*h*r*t.control1.x,c+=3*d*s*t.control2.x,c+=l*t.endPoint.x,f=u*t.startPoint.y,f+=3*h*r*t.control1.y,f+=3*d*s*t.control2.y,f+=l*t.endPoint.y,o=e+l*g,this._drawPoint(c,f,o);p.closePath(),p.fill()},e.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var i=function(t,e,i){this.x=t,this.y=e,this.time=i||(new Date).getTime()};i.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},i.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var n=function(t,e,i,n){this.startPoint=t,this.control1=e,this.control2=i,this.endPoint=n};return n.prototype.length=function(){var t,e,i,n,o,a,r,s,l=0;for(t=0;t<=10;t++)e=t/10,i=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),n=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),t>0&&(r=i-o,s=n-a,l+=Math.sqrt(r*r+s*s)),o=i,a=n;return l},n.prototype._point=function(t,e,i,n,o){return e*(1-t)*(1-t)*(1-t)+3*i*(1-t)*(1-t)*t+3*n*(1-t)*t*t+o*t*t*t},e}(document)}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(t,e,i){function n(t,e){this.$form=t,this.$input=e,this.reset(),e.on("change paste",this.reset.bind(this))}var o=function(){return!1},a=null,r={numHalted:0,haltValidation:function(e){this.numHalted++,t.formUtils.haltValidation=!0,e.unbind("submit",o).bind("submit",o).find('*[type="submit"]').addClass("disabled").attr("disabled","disabled")},unHaltValidation:function(e){0===--this.numHalted&&(t.formUtils.haltValidation=!1,e.unbind("submit",o).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled","disabled"))}};n.prototype.reset=function(){this.haltedFormValidation=!1,this.hasRun=!1,this.isRunning=!1,this.result=void 0},n.prototype.run=function(t,e){return"keyup"===t?null:this.isRunning?(a=t,this.haltedFormValidation||(r.haltValidation(),this.haltedFormValidation=!0),null):this.hasRun?this.result:(a=t,r.haltValidation(this.$form),this.haltedFormValidation=!0,this.isRunning=!0,this.$input.attr("disabled","disabled").addClass("async-validation"),this.$form.addClass("async-validation"),e(function(t){this.done(t)}.bind(this)),null)},n.prototype.done=function(t){this.result=t,this.hasRun=!0,this.isRunning=!1,this.$input.removeAttr("disabled").removeClass("async-validation"),this.$form.removeClass("async-validation"),this.haltedFormValidation&&(r.unHaltValidation(this.$form),"submit"===a?this.$form.trigger("submit"):this.$input.trigger("validation.revalidate"))},n.loadInstance=function(t,e,i){var o,a=e.get(0);return a.asyncValidators||(a.asyncValidators={}),a.asyncValidators[t]?o=a.asyncValidators[t]:(o=new n(i,e),a.asyncValidators[t]=o),o},t.formUtils=t.extend(t.formUtils||{},{asyncValidation:function(t,e,i){return this.warn("Use of deprecated function $.formUtils.asyncValidation, use $.formUtils.addAsyncValidator() instead"),n.loadInstance(t,e,i)},addAsyncValidator:function(e){var i=t.extend({},e),o=i.validatorFunction;i.async=!0,i.validatorFunction=function(t,e,a,r,s,l){return n.loadInstance(this.name,e,s).run(l,function(n){o.apply(i,[n,t,e,a,r,s,l])})},this.addValidator(i)}}),t(e).bind("validatorsLoaded formValidationSetup",function(e,i){i||(i=t("form")),i.find("[data-validation]").each(function(){var e=t(this);e.valAttr("async",!1),t.each(t.split(e.attr("data-validation")),function(i,n){var o=t.formUtils.validators["validate_"+n];o&&o.async&&e.valAttr("async","yes")})})})}(t,window),function(t,e){"use strict";function i(e){e&&"custom"===e.errorMessagePosition&&"function"==typeof e.errorMessageCustom&&(t.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"),e.submitErrorMessageCallback=function(t,i){e.errorMessageCustom(t,e.language.errorTitle,i,e)})}function n(e){if(e.errorMessagePosition&&"object"==typeof e.errorMessagePosition){t.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead");var i=e.errorMessagePosition;e.errorMessagePosition="top",e.submitErrorMessageCallback=function(){return i}}}function o(e){var i=e.find("[data-validation-if-checked]");i.length&&t.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"'),i.on("beforeValidation",function(){var i=t(this),n=i.valAttr("if-checked"),o=t('input[name="'+n+'"]',e),a=o.is(":checked"),r=(t.formUtils.getValue(o)||"").toString(),s=i.valAttr("if-checked-value");(!a||s&&s!==r)&&i.valAttr("skipped",!0)})}function a(e){var i={se:"sv",cz:"cs",dk:"da"};if(e.lang in i){var n=i[e.lang];t.formUtils.warn('Deprecated use of lang code "'+e.lang+'" use "'+n+'" instead'),e.lang=n}}t.fn.validateForm=function(e,i){return t.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(e,i,!0)},t(window).on("formValidationPluginInit",function(t,e){a(e),i(e),n(e)}).on("validatorsLoaded formValidationSetup",function(e,i){i||(i=t("form")),o(i)})}(t),function(t){"use strict";var e={resolveErrorMessage:function(t,e,i,n,o){var a=n.validationErrorMsgAttribute+"-"+i.replace("validate_",""),r=t.attr(a);return r||(r=t.attr(n.validationErrorMsgAttribute))||(r="function"!=typeof e.errorMessageKey?o[e.errorMessageKey]:o[e.errorMessageKey(n)])||(r=e.errorMessage),r},getParentContainer:function(e){if(e.valAttr("error-msg-container"))return t(e.valAttr("error-msg-container"));var i=e.parent();return"checkbox"===e.attr("type")&&e.closest(".checkbox").length?i=e.closest(".checkbox").parent():"radio"===e.attr("type")&&e.closest(".radio").length&&(i=e.closest(".radio").parent()),i.closest(".input-group").length&&(i=i.closest(".input-group").parent()),i},applyInputErrorStyling:function(t,e){t.addClass(e.errorElementClass).removeClass(e.successElementClass),this.getParentContainer(t).addClass(e.inputParentClassOnError).removeClass(e.inputParentClassOnSuccess),""!==e.borderColorOnError&&t.css("border-color",e.borderColorOnError)},applyInputSuccessStyling:function(t,e){t.addClass(e.successElementClass),this.getParentContainer(t).addClass(e.inputParentClassOnSuccess)},removeInputStylingAndMessage:function(t,i){t.removeClass(i.successElementClass).removeClass(i.errorElementClass).css("border-color","");var n=e.getParentContainer(t);if(n.removeClass(i.inputParentClassOnError).removeClass(i.inputParentClassOnSuccess),"function"==typeof i.inlineErrorMessageCallback){var o=i.inlineErrorMessageCallback(t,!1,i);o&&o.html("")}else n.find("."+i.errorMessageClass).remove()},removeAllMessagesAndStyling:function(i,n){if("function"==typeof n.submitErrorMessageCallback){var o=n.submitErrorMessageCallback(i,!1,n);o&&o.html("")}else i.find("."+n.errorMessageClass+".alert").remove();i.find("."+n.errorElementClass+",."+n.successElementClass).each(function(){e.removeInputStylingAndMessage(t(this),n)})},setInlineMessage:function(e,i,n){this.applyInputErrorStyling(e,n);var o,a=document.getElementById(e.attr("name")+"_err_msg"),r=!1,s=function(n){t.formUtils.$win.trigger("validationErrorDisplay",[e,n]),n.html(i)},l=function(){var a=!1;r.find("."+n.errorMessageClass).each(function(){if(this.inputReferer===e[0])return a=t(this),!1}),a?i?s(a):a.remove():""!==i&&(o=t('<div class="'+n.errorMessageClass+' alert"></div>'),s(o),o[0].inputReferer=e[0],r.prepend(o))};if(a)t.formUtils.warn("Using deprecated element reference "+a.id),r=t(a),l();else if("function"==typeof n.inlineErrorMessageCallback){if(!(r=n.inlineErrorMessageCallback(e,i,n)))return;l()}else{var d=this.getParentContainer(e);o=d.find("."+n.errorMessageClass+".help-block"),0===o.length&&(o=t("<span></span>").addClass("help-block").addClass(n.errorMessageClass),o.appendTo(d)),s(o)}},setMessageInTopOfForm:function(e,i,n,o){var a='<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}</strong><ul>{fields}</ul></div>',r=!1;if("function"!=typeof n.submitErrorMessageCallback||(r=n.submitErrorMessageCallback(e,i,n))){var s={errorTitle:o.errorTitle,fields:"",errorMessageClass:n.errorMessageClass};t.each(i,function(t,e){s.fields+="<li>"+e+"</li>"}),t.each(s,function(t,e){a=a.replace("{"+t+"}",e)}),r?r.html(a):e.children().eq(0).before(t(a))}}};t.formUtils=t.extend(t.formUtils||{},{dialogs:e})}(t),function(t,e,i){"use strict";var n=0;t.fn.validateOnBlur=function(e,i){var n=this,o=this.find("*[data-validation]");return o.each(function(){var o=t(this);if(o.is("[type=radio]")){var a=n.find('[type=radio][name="'+o.attr("name")+'"]');a.bind("blur.validation",function(){o.validateInputOnBlur(e,i,!0,"blur")}),i.validateCheckboxRadioOnClick&&a.bind("click.validation",function(){o.validateInputOnBlur(e,i,!0,"click")})}}),o.bind("blur.validation",function(){t(this).validateInputOnBlur(e,i,!0,"blur")}),i.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){t(this).validateInputOnBlur(e,i,!0,"click")}),this},t.fn.validateOnEvent=function(e,i){if(0!==this.length){return("FORM"===this[0].nodeName?this.find("*[data-validation-event]"):this).each(function(){var n=t(this),o=n.valAttr("event");o&&n.unbind(o+".validation").bind(o+".validation",function(n){9!==(n||{}).keyCode&&t(this).validateInputOnBlur(e,i,!0,o)})}),this}},t.fn.showHelpOnFocus=function(e){return e||(e="data-validation-help"),this.find("textarea,input").each(function(){var i=t(this),o="jquery_form_help_"+ ++n,a=i.attr(e);i.removeClass("has-help-text").unbind("focus.help").unbind("blur.help"),a&&i.addClass("has-help-txt").bind("focus.help",function(){var e=i.parent().find("."+o);0===e.length&&(e=t("<span />").addClass(o).addClass("help").addClass("help-block").text(a).hide(),i.after(e)),e.fadeIn()}).bind("blur.help",function(){t(this).parent().find("."+o).fadeOut("slow")})}),this},t.fn.validate=function(e,i,n){var o=t.extend({},t.formUtils.LANG,n||{});this.each(function(){var n=t(this),a=n.closest("form").get(0)||{},r=a.validationConfig||t.formUtils.defaultConfig();n.one("validation",function(t,i){"function"==typeof e&&e(i,this,t)}),n.validateInputOnBlur(o,t.extend({},r,i||{}),!0)})},t.fn.willPostponeValidation=function(){return(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!e.postponedValidation},t.fn.validateInputOnBlur=function(i,n,o,a){if(t.formUtils.eventType=a,this.willPostponeValidation()){var r=this,s=this.valAttr("postpone")||200;return e.postponedValidation=function(){r.validateInputOnBlur(i,n,o,a),e.postponedValidation=!1},setTimeout(function(){e.postponedValidation&&e.postponedValidation()},s),this}i=t.extend({},t.formUtils.LANG,i||{}),t.formUtils.dialogs.removeInputStylingAndMessage(this,n);var l=this,d=l.closest("form"),h=t.formUtils.validateInput(l,i,n,d,a),u=function(){l.validateInputOnBlur(i,n,!1,"blur.revalidated")};return"blur"===a&&l.unbind("validation.revalidate",u).one("validation.revalidate",u),o&&l.removeKeyUpValidation(),h.shouldChangeDisplay&&(h.isValid?t.formUtils.dialogs.applyInputSuccessStyling(l,n):t.formUtils.dialogs.setInlineMessage(l,h.errorMsg,n)),!h.isValid&&o&&l.validateOnKeyUp(i,n),this},t.fn.validateOnKeyUp=function(e,i){return this.each(function(){var n=t(this);n.valAttr("has-keyup-event")||n.valAttr("has-keyup-event","true").bind("keyup.validation",function(t){9!==t.keyCode&&n.validateInputOnBlur(e,i,!1,"keyup")})}),this},t.fn.removeKeyUpValidation=function(){return this.each(function(){t(this).valAttr("has-keyup-event",!1).unbind("keyup.validation")}),this},t.fn.valAttr=function(t,e){return void 0===e?this.attr("data-validation-"+t):!1===e||null===e?this.removeAttr("data-validation-"+t):(t=t.length>0?"-"+t:"",this.attr("data-validation"+t,e))},t.fn.isValid=function(e,i,n){if(t.formUtils.isLoadingModules){var o=this;return setTimeout(function(){o.isValid(e,i,n)},200),null}i=t.extend({},t.formUtils.defaultConfig(),i||{}),e=t.extend({},t.formUtils.LANG,e||{}),n=!1!==n,t.formUtils.errorDisplayPreventedWhenHalted&&(delete t.formUtils.errorDisplayPreventedWhenHalted,n=!1);var a=function(e,o){t.inArray(e,s)<0&&s.push(e),l.push(o),o.valAttr("current-error",e),n&&t.formUtils.dialogs.applyInputErrorStyling(o,i)},r=[],s=[],l=[],d=this,h=function(e,n){return"submit"===n||"button"===n||"reset"===n||t.inArray(e,i.ignore||[])>-1};if(n&&t.formUtils.dialogs.removeAllMessagesAndStyling(d,i),d.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var n=t(this),o=n.attr("type"),s="radio"===o||"checkbox"===o,l=n.attr("name");if(!h(l,o)&&(!s||t.inArray(l,r)<0)){s&&r.push(l);var u=t.formUtils.validateInput(n,e,i,d,"submit");u.isValid?u.isValid&&u.shouldChangeDisplay&&(n.valAttr("current-error",!1),t.formUtils.dialogs.applyInputSuccessStyling(n,i)):a(u.errorMsg,n)}}),"function"==typeof i.onValidate){var u=i.onValidate(d);t.isArray(u)?t.each(u,function(t,e){a(e.message,e.element)}):u&&u.element&&u.message&&a(u.message,u.element)}return t.formUtils.isValidatingEntireForm=!1,l.length>0&&n&&("top"===i.errorMessagePosition?t.formUtils.dialogs.setMessageInTopOfForm(d,s,i,e):t.each(l,function(e,n){t.formUtils.dialogs.setInlineMessage(n,n.valAttr("current-error"),i)}),i.scrollToTopOnError&&t.formUtils.$win.scrollTop(d.offset().top-20)),!n&&t.formUtils.haltValidation&&(t.formUtils.errorDisplayPreventedWhenHalted=!0),0===l.length&&!t.formUtils.haltValidation},t.fn.restrictLength=function(e){return new t.formUtils.lengthRestriction(this,e),this},t.fn.addSuggestions=function(e){var i=!1;return this.find("input").each(function(){var n=t(this);i=t.split(n.attr("data-suggestions")),i.length>0&&!n.hasClass("has-suggestions")&&(t.formUtils.suggest(n,i,e),n.addClass("has-suggestions"))}),this}}(t,window),function(t){"use strict";t.formUtils=t.extend(t.formUtils||{},{isLoadingModules:!1,loadedModules:{},registerLoadedModule:function(e){this.loadedModules[t.trim(e).toLowerCase()]=!0},hasLoadedModule:function(e){return t.trim(e).toLowerCase()in this.loadedModules},loadModules:function(e,i,n){if(t.formUtils.isLoadingModules)return void setTimeout(function(){t.formUtils.loadModules(e,i,n)},100);var o=function(e,i){var o=t.split(e),a=o.length,r=function(){0===--a&&(t.formUtils.isLoadingModules=!1,"function"==typeof n&&n())};a>0&&(t.formUtils.isLoadingModules=!0);var s="?_="+(new Date).getTime(),l=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];t.each(o,function(e,n){if(n=t.trim(n),0===n.length||t.formUtils.hasLoadedModule(n))r();else{var o=i+n+(".js"===n.slice(-3)?"":".js"),a=document.createElement("SCRIPT");"function"==typeof define&&define.amd?require([o+(".dev.js"===o.slice(-7)?s:"")],r):(a.type="text/javascript",a.onload=r,a.src=o+(".dev.js"===o.slice(-7)?s:""),a.onerror=function(){t.formUtils.warn("Unable to load form validation module "+o,!0),r()},a.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(r(),this.onload=null,this.onreadystatechange=null)},l.appendChild(a))}})};if(i)o(e,i);else{var a=function(){var i=!1;return t('script[src*="form-validator"]').each(function(){if(!(this.src.split("form-validator")[1].split("node_modules").length>1))return i=this.src.substr(0,this.src.lastIndexOf("/"))+"/","/"===i&&(i=""),!1}),!1!==i&&(o(e,i),!0)};a()||t(function(){a()||"function"==typeof n&&n()})}}})}(t),function(t){"use strict";t.split=function(e,i,n){n=void 0===n||!0===n;var o="[,|"+(n?"\\s":"")+"-]\\s*",a=new RegExp(o,"g");if("function"!=typeof i){if(!e)return[];var r=[];return t.each(e.split(i||a),function(e,i){i=t.trim(i),i.length&&r.push(i)}),r}e&&t.each(e.split(a),function(e,n){if(n=t.trim(n),n.length)return i(n,e)})},t.validate=function(e){var i=t.extend(t.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1});if(e=t.extend(i,e||{}),t(window).trigger("formValidationPluginInit",[e]),e.lang&&"en"!==e.lang){var n="lang/"+e.lang+".js";e.modules+=e.modules.length?","+n:n}t(e.form).each(function(i,n){n.validationConfig=e;var o=t(n);o.trigger("formValidationSetup",[o,e]),o.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),o.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),o.bind("submit.validation",function(i){var n=t(this),o=function(){return i.stopImmediatePropagation(),!1};if(t.formUtils.haltValidation)return o();if(t.formUtils.isLoadingModules)return setTimeout(function(){n.trigger("submit.validation")},200),o();var a=n.isValid(e.language,e);return t.formUtils.haltValidation?o():a&&"function"==typeof e.onSuccess?!1===e.onSuccess(n)?o():void 0:a||"function"!=typeof e.onError?!!a||o():(e.onError(n),o())}).bind("reset.validation",function(){t.formUtils.dialogs.removeAllMessagesAndStyling(o,e)}).addClass("has-validation-callback"),e.showHelpOnFocus&&o.showHelpOnFocus(),e.addSuggestions&&o.addSuggestions(),e.validateOnBlur&&(o.validateOnBlur(e.language,e),o.bind("html5ValidationAttrsFound",function(){o.validateOnBlur(e.language,e)})),e.validateOnEvent&&o.validateOnEvent(e.language,e)}),""!==e.modules&&t.formUtils.loadModules(e.modules,null,function(){"function"==typeof e.onModulesLoaded&&e.onModulesLoaded();var i="string"==typeof e.form?t(e.form):e.form;t.formUtils.$win.trigger("validatorsLoaded",[i,e])})}}(t),function(t,e){"use strict";var i=t(e);t.formUtils=t.extend(t.formUtils||{},{$win:i,defaultConfig:function(){return{ignore:[],errorElementClass:"error",successElementClass:"valid",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"inline",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success",validateHiddenInputs:!1,inlineErrorMessageCallback:!1,submitErrorMessageCallback:!1}},validators:{},sanitizers:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,addValidator:function(t){var e=0===t.name.indexOf("validate_")?t.name:"validate_"+t.name;void 0===t.validateOnKeyUp&&(t.validateOnKeyUp=!0),this.validators[e]=t},addSanitizer:function(t){this.sanitizers[t.name]=t},warn:function(t,i){"console"in e?"function"==typeof e.console.warn?e.console.warn(t):"function"==typeof e.console.log&&e.console.log(t):i&&alert(t)},getValue:function(t,e){var i=e?e.find(t):t;if(i.length>0){var n=i.eq(0).attr("type");return"radio"===n||"checkbox"===n?i.filter(":checked").val()||"":i.val()||""}return!1},validateInput:function(e,i,n,o,a){n=n||t.formUtils.defaultConfig(),i=i||t.formUtils.LANG,o.length||(o=e.parent());var r=this.getValue(e);e.valAttr("skipped",!1).one("beforeValidation",function(){(e.attr("disabled")||!e.is(":visible")&&!n.validateHiddenInputs)&&e.valAttr("skipped",1)
}).trigger("beforeValidation",[r,i,n]);var s="true"===e.valAttr("optional"),l=!r&&s,d=e.attr(n.validationRuleAttribute),h=!0,u="",c={isValid:!0,shouldChangeDisplay:!0,errorMsg:""};if(!d||l||e.valAttr("skipped"))return c.shouldChangeDisplay=n.addValidClassOnAll,c;var f=e.valAttr("ignore");return f&&t.each(f.split(""),function(t,e){r=r.replace(new RegExp("\\"+e,"g"),"")}),t.split(d,function(s){0!==s.indexOf("validate_")&&(s="validate_"+s);var l=t.formUtils.validators[s];if(!l)throw new Error('Using undefined validator "'+s+'". Maybe you have forgotten to load the module that "'+s+'" belongs to?');if("validate_checkbox_group"===s&&(e=o.find('[name="'+e.attr("name")+'"]:eq(0)')),("keyup"!==a||l.validateOnKeyUp)&&(h=l.validatorFunction(r,e,n,i,o,a)),!h)return n.validateOnBlur&&e.validateOnKeyUp(i,n),u=t.formUtils.dialogs.resolveErrorMessage(e,l,s,n,i),!1}),!1===h?(e.trigger("validation",!1),c.errorMsg=u,c.isValid=!1,c.shouldChangeDisplay=!0):null===h?c.shouldChangeDisplay=!1:(e.trigger("validation",!0),c.shouldChangeDisplay=!0),"function"==typeof n.onElementValidate&&null!==u&&n.onElementValidate(c.isValid,e,o,u),e.trigger("afterValidation",[c,a]),c},parseDate:function(e,i,n){var o,a,r,s,l=i.replace(/[a-zA-Z]/gi,"").substring(0,1),d="^",h=i.split(l||null);if(t.each(h,function(t,e){d+=(t>0?"\\"+l:"")+"(\\d{"+e.length+"})"}),d+="$",n){var u=[];t.each(e.split(l),function(t,e){1===e.length&&(e="0"+e),u.push(e)}),e=u.join(l)}if(null===(o=e.match(new RegExp(d))))return!1;var c=function(e,i,n){for(var o=0;o<i.length;o++)if(i[o].substring(0,1)===e)return t.formUtils.parseDateInt(n[o+1]);return-1};return r=c("m",h,o),a=c("d",h,o),s=c("y",h,o),!(2===r&&a>28&&(s%4!=0||s%100==0&&s%400!=0)||2===r&&a>29&&(s%4==0||s%100!=0&&s%400==0)||r>12||0===r)&&(!(this.isShortMonth(r)&&a>30||!this.isShortMonth(r)&&a>31||0===a)&&[s,r,a])},parseDateInt:function(t){return 0===t.indexOf("0")&&(t=t.replace("0","")),parseInt(t,10)},isShortMonth:function(t){return t%2==0&&t<7||t%2!=0&&t>7},lengthRestriction:function(e,i){var n=parseInt(i.text(),10),o=0,a=function(){var t=e.val().length;if(t>n){var a=e.scrollTop();e.val(e.val().substring(0,n)),e.scrollTop(a)}o=n-t,o<0&&(o=0),i.text(o)};t(e).bind("keydown keyup keypress focus blur",a).bind("cut paste",function(){setTimeout(a,100)}),t(document).bind("ready",a)},numericRangeCheck:function(e,i){var n=t.split(i),o=parseInt(i.substr(3),10);return 1===n.length&&-1===i.indexOf("min")&&-1===i.indexOf("max")&&(n=[i,i]),2===n.length&&(e<parseInt(n[0],10)||e>parseInt(n[1],10))?["out",n[0],n[1]]:0===i.indexOf("min")&&e<o?["min",o]:0===i.indexOf("max")&&e>o?["max",o]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(e,n,o){var a={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},r=function(t,e){var i=e.offset();t.css({width:e.outerWidth(),left:i.left+"px",top:i.top+e.outerHeight()+"px"})};o&&t.extend(a,o),a.css.position="absolute",a.css["z-index"]=9999,e.attr("autocomplete","off"),0===this._numSuggestionElements&&i.bind("resize",function(){t(".jquery-form-suggestions").each(function(){var e=t(this),i=e.attr("data-suggest-container");r(e,t(".suggestions-"+i).eq(0))})}),this._numSuggestionElements++;var s=function(e){var i=e.valAttr("suggestion-nr");t.formUtils._selectedSuggestion=null,t.formUtils._previousTypedVal=null,t(".jquery-form-suggestion-"+i).fadeOut("fast")};return e.data("suggestions",n).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){t(this).trigger("keyup"),t.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var i=t(this),n=[],o=t.trim(i.val()).toLocaleLowerCase();if(o!==t.formUtils._previousTypedVal){t.formUtils._previousTypedVal=o;var l=!1,d=i.valAttr("suggestion-nr"),h=t(".jquery-form-suggestion-"+d);if(h.scrollTop(0),""!==o){var u=o.length>2;t.each(i.data("suggestions"),function(t,e){var i=e.toLocaleLowerCase();if(i===o)return n.push("<strong>"+e+"</strong>"),l=!0,!1;(0===i.indexOf(o)||u&&i.indexOf(o)>-1)&&n.push(e.replace(new RegExp(o,"gi"),"<strong>$&</strong>"))})}l||0===n.length&&h.length>0?h.hide():n.length>0&&0===h.length?(h=t("<div></div>").css(a.css).appendTo("body"),e.addClass("suggestions-"+d),h.attr("data-suggest-container",d).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+d)):n.length>0&&!h.is(":visible")&&h.show(),n.length>0&&o.length!==n[0].length&&(r(h,i),h.html(""),t.each(n,function(e,n){t("<div></div>").append(n).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(h).click(function(){i.focus(),i.val(t(this).text()),i.trigger("change"),s(i)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(e){var i,n,o=e.keyCode?e.keyCode:e.which,r=t(this);if(13===o&&null!==t.formUtils._selectedSuggestion){if(i=r.valAttr("suggestion-nr"),n=t(".jquery-form-suggestion-"+i),n.length>0){var l=n.find("div").eq(t.formUtils._selectedSuggestion).text();r.val(l),r.trigger("change"),s(r),e.preventDefault()}}else{i=r.valAttr("suggestion-nr"),n=t(".jquery-form-suggestion-"+i);var d=n.children();if(d.length>0&&t.inArray(o,[38,40])>-1){38===o?(null===t.formUtils._selectedSuggestion?t.formUtils._selectedSuggestion=d.length-1:t.formUtils._selectedSuggestion--,t.formUtils._selectedSuggestion<0&&(t.formUtils._selectedSuggestion=d.length-1)):40===o&&(null===t.formUtils._selectedSuggestion?t.formUtils._selectedSuggestion=0:t.formUtils._selectedSuggestion++,t.formUtils._selectedSuggestion>d.length-1&&(t.formUtils._selectedSuggestion=0));var h=n.innerHeight(),u=n.scrollTop(),c=n.children().eq(0).outerHeight(),f=c*t.formUtils._selectedSuggestion;return(f<u||f>u+h)&&n.scrollTop(f),d.removeClass("active-suggestion").css("background","none").eq(t.formUtils._selectedSuggestion).addClass("active-suggestion").css(a.activeSuggestionCSS),e.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){s(t(this))}),e},LANG:{errorTitle:"Form submission failed!",requiredField:"This is a required field",requiredFields:"You have not answered all required fields",badTime:"You have not given a correct time",badEmail:"You have not given a correct e-mail address",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"The input value must be between ",lengthBadEnd:" characters",lengthTooLongStart:"The input value is longer than ",lengthTooShortStart:"The input value is shorter than ",notConfirmed:"Input values could not be confirmed",badDomain:"Incorrect domain value",badUrl:"The input value is not a correct URL",badCustomVal:"The input value is incorrect",andSpaces:" and spaces ",badInt:"The input value was not a correct number",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badUKNin:"Incorrect UK NIN",badUKUtr:"Incorrect UK UTR Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The input value can only contain alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large (max %s)",wrongFileType:"Only files of type %s is allowed",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)",badCreditCard:"The credit card number is not correct",badCVV:"The CVV number was not correct",wrongFileDim:"Incorrect image dimensions,",imageTooTall:"the image can not be taller than",imageTooWide:"the image can not be wider than",imageTooSmall:"the image was too small",min:"min",max:"max",imageRatioNotAccepted:"Image ratio is not be accepted",badBrazilTelephoneAnswer:"The phone number entered is invalid",badBrazilCEPAnswer:"The CEP entered is invalid",badBrazilCPFAnswer:"The CPF entered is invalid",badPlPesel:"The PESEL entered is invalid",badPlNip:"The NIP entered is invalid",badPlRegon:"The REGON entered is invalid",badreCaptcha:"Please confirm that you are not a bot",passwordComplexityStart:"Password must contain at least ",passwordComplexitySeparator:", ",passwordComplexityUppercaseInfo:" uppercase letter(s)",passwordComplexityLowercaseInfo:" lowercase letter(s)",passwordComplexitySpecialCharsInfo:" special character(s)",passwordComplexityNumericCharsInfo:" numeric character(s)",passwordComplexityEnd:"."}})}(t,window),function(t){t.formUtils.addValidator({name:"email",validatorFunction:function(e){var i=e.toLowerCase().split("@"),n=i[0],o=i[1];if(n&&o){if(0===n.indexOf('"')){var a=n.length;if(n=n.replace(/\"/g,""),n.length!==a-2)return!1}return t.formUtils.validators.validate_domain.validatorFunction(i[1])&&0!==n.indexOf(".")&&"."!==n.substring(n.length-1,n.length)&&-1===n.indexOf("..")&&!/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(n)}return!1},errorMessage:"",errorMessageKey:"badEmail"}),t.formUtils.addValidator({name:"domain",validatorFunction:function(t){return t.length>0&&t.length<=253&&!/[^a-zA-Z0-9]/.test(t.slice(-2))&&!/[^a-zA-Z0-9]/.test(t.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(t)&&1===t.split("..").length&&t.split(".").length>1},errorMessage:"",errorMessageKey:"badDomain"}),t.formUtils.addValidator({name:"required",validatorFunction:function(e,i,n,o,a){switch(i.attr("type")){case"checkbox":return i.is(":checked");case"radio":return a.find('input[name="'+i.attr("name")+'"]').filter(":checked").length>0;default:return""!==t.trim(e)}},errorMessage:"",errorMessageKey:function(t){return"top"===t.errorMessagePosition||"function"==typeof t.errorMessagePosition?"requiredFields":"requiredField"}}),t.formUtils.addValidator({name:"length",validatorFunction:function(e,i,n,o){var a=i.valAttr("length"),r=i.attr("type");if(void 0===a)return alert('Please add attribute "data-validation-length" to '+i[0].nodeName+" named "+i.attr("name")),!0;var s,l="file"===r&&void 0!==i.get(0).files?i.get(0).files.length:e.length,d=t.formUtils.numericRangeCheck(l,a);switch(d[0]){case"out":this.errorMessage=o.lengthBadStart+a+o.lengthBadEnd,s=!1;break;case"min":this.errorMessage=o.lengthTooShortStart+d[1]+o.lengthBadEnd,s=!1;break;case"max":this.errorMessage=o.lengthTooLongStart+d[1]+o.lengthBadEnd,s=!1;break;default:s=!0}return s},errorMessage:"",errorMessageKey:""}),t.formUtils.addValidator({name:"url",validatorFunction:function(e){if(/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)){var i=e.split("://")[1],n=i.indexOf("/");return n>-1&&(i=i.substr(0,n)),t.formUtils.validators.validate_domain.validatorFunction(i)}return!1},errorMessage:"",errorMessageKey:"badUrl"}),t.formUtils.addValidator({name:"number",validatorFunction:function(t,e,i){if(""!==t){var n,o,a=e.valAttr("allowing")||"",r=e.valAttr("decimal-separator")||i.decimalSeparator,s=!1,l=e.valAttr("step")||"",d=!1;if((e.attr("data-sanitize")||"").match(/(^|[\s])numberFormat([\s]|$)/i)){if(!window.numeral)throw new ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.");t.length&&(t=String(numeral().unformat(t)))}if(-1===a.indexOf("number")&&(a+=",number"),-1===a.indexOf("negative")&&0===t.indexOf("-"))return!1;if(a.indexOf("range")>-1&&(n=parseFloat(a.substring(a.indexOf("[")+1,a.indexOf(";"))),o=parseFloat(a.substring(a.indexOf(";")+1,a.indexOf("]"))),s=!0),""!==l&&(d=!0),","===r){if(t.indexOf(".")>-1)return!1;t=t.replace(",",".")}if(""===t.replace(/[0-9-]/g,"")&&(!s||t>=n&&t<=o)&&(!d||t%l==0))return!0;if(a.indexOf("float")>-1&&null!==t.match(new RegExp("^([0-9-]+)\\.([0-9]+)$"))&&(!s||t>=n&&t<=o)&&(!d||t%l==0))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"}),t.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(e,i,n,o){var a=i.valAttr("allowing"),r="",s=!1;if(a){r="^([a-zA-Z0-9"+a+"]+)$";var l=a.replace(/\\/g,"");l.indexOf(" ")>-1&&(s=!0,l=l.replace(" ",""),l+=o.andSpaces||t.formUtils.LANG.andSpaces),o.badAlphaNumericAndExtraAndSpaces&&o.badAlphaNumericAndExtra?this.errorMessage=s?o.badAlphaNumericAndExtraAndSpaces+l:o.badAlphaNumericAndExtra+l+o.badAlphaNumericExtra:this.errorMessage=o.badAlphaNumeric+o.badAlphaNumericExtra+l}else r="^([a-zA-Z0-9]+)$",this.errorMessage=o.badAlphaNumeric;return new RegExp(r).test(e)},errorMessage:"",errorMessageKey:""}),t.formUtils.addValidator({name:"custom",validatorFunction:function(t,e){return new RegExp(e.valAttr("regexp")).test(t)},errorMessage:"",errorMessageKey:"badCustomVal"}),t.formUtils.addValidator({name:"date",validatorFunction:function(e,i,n){var o=i.valAttr("format")||n.dateFormat||"yyyy-mm-dd",a="false"===i.valAttr("require-leading-zero");return!1!==t.formUtils.parseDate(e,o,a)},errorMessage:"",errorMessageKey:"badDate"}),t.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(e,i,n,o,a){var r=!0,s=i.attr("name"),l=t('input[type=checkbox][name^="'+s+'"]',a),d=l.filter(":checked").length,h=i.valAttr("qty");if(void 0===h){var u=i.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+u+" named "+i.attr("name"))}var c=t.formUtils.numericRangeCheck(d,h);switch(c[0]){case"out":this.errorMessage=o.groupCheckedRangeStart+h+o.groupCheckedEnd,r=!1;break;case"min":this.errorMessage=o.groupCheckedTooFewStart+c[1]+(o.groupCheckedTooFewEnd||o.groupCheckedEnd),r=!1;break;case"max":this.errorMessage=o.groupCheckedTooManyStart+c[1]+(o.groupCheckedTooManyEnd||o.groupCheckedEnd),r=!1;break;default:r=!0}if(!r){var f=function(){l.unbind("click",f),l.filter("*[data-validation]").validateInputOnBlur(o,n,!1,"blur")};l.bind("click",f)}return r}})}(t)});
